webpackJsonp([1],{0:function(t,e,n){t.exports=n("x35b")},"2zkT":function(t,e,n){"use strict";var r=n("WFWZ"),i=n("s+UU"),o=n("dMus"),s=n("73T8");class a extends i.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=o.a;break;case 1:if(!t){this.destination=o.a;break}if("object"==typeof t){if(t instanceof a||"syncErrorThrowable"in t&&t[s.a]){const e=t[s.a]();this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)}else this.syncErrorThrowable=!0,this.destination=new l(this,t);break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new a(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:t,_parents:e}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}e.a=a;class l extends a{constructor(t,e,n,i){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,i=e.complete,e!==o.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}}__tryOrSetError(t,e,n){try{e.call(this._context,n)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"48oy":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(function(t){n.d(e,"createPlatform",function(){return en}),n.d(e,"assertPlatform",function(){return rn}),n.d(e,"destroyPlatform",function(){return on}),n.d(e,"getPlatform",function(){return sn}),n.d(e,"PlatformRef",function(){return an}),n.d(e,"ApplicationRef",function(){return un}),n.d(e,"enableProdMode",function(){return Qe}),n.d(e,"isDevMode",function(){return Je}),n.d(e,"createPlatformFactory",function(){return nn}),n.d(e,"NgProbeToken",function(){return tn}),n.d(e,"APP_ID",function(){return ee}),n.d(e,"PACKAGE_ROOT_URL",function(){return le}),n.d(e,"PLATFORM_INITIALIZER",function(){return oe}),n.d(e,"PLATFORM_ID",function(){return se}),n.d(e,"APP_BOOTSTRAP_LISTENER",function(){return ae}),n.d(e,"APP_INITIALIZER",function(){return Jt}),n.d(e,"ApplicationInitStatus",function(){return te}),n.d(e,"DebugElement",function(){return Ln}),n.d(e,"DebugNode",function(){return Vn}),n.d(e,"asNativeElements",function(){return Fn}),n.d(e,"getDebugNode",function(){return zn}),n.d(e,"Testability",function(){return Be}),n.d(e,"TestabilityRegistry",function(){return $e}),n.d(e,"setTestabilityGetter",function(){return qe}),n.d(e,"TRANSLATIONS",function(){return hr}),n.d(e,"TRANSLATIONS_FORMAT",function(){return fr}),n.d(e,"LOCALE_ID",function(){return dr}),n.d(e,"MissingTranslationStrategy",function(){return pr}),n.d(e,"ApplicationModule",function(){return yr}),n.d(e,"wtfCreateScope",function(){return Pe}),n.d(e,"wtfLeave",function(){return Ie}),n.d(e,"wtfStartTimeRange",function(){return Re}),n.d(e,"wtfEndTimeRange",function(){return De}),n.d(e,"Type",function(){return Pt}),n.d(e,"EventEmitter",function(){return Ve}),n.d(e,"ErrorHandler",function(){return kt}),n.d(e,"Sanitizer",function(){return xr}),n.d(e,"SecurityContext",function(){return br}),n.d(e,"ANALYZE_FOR_ENTRY_COMPONENTS",function(){return g}),n.d(e,"Attribute",function(){return m}),n.d(e,"ContentChild",function(){return b}),n.d(e,"ContentChildren",function(){return y}),n.d(e,"Query",function(){return v}),n.d(e,"ViewChild",function(){return _}),n.d(e,"ViewChildren",function(){return x}),n.d(e,"Component",function(){return E}),n.d(e,"Directive",function(){return M}),n.d(e,"HostBinding",function(){return N}),n.d(e,"HostListener",function(){return O}),n.d(e,"Input",function(){return S}),n.d(e,"Output",function(){return T}),n.d(e,"Pipe",function(){return A}),n.d(e,"CUSTOM_ELEMENTS_SCHEMA",function(){return P}),n.d(e,"NO_ERRORS_SCHEMA",function(){return I}),n.d(e,"NgModule",function(){return R}),n.d(e,"ViewEncapsulation",function(){return D}),n.d(e,"Version",function(){return V}),n.d(e,"VERSION",function(){return L}),n.d(e,"forwardRef",function(){return Q}),n.d(e,"resolveForwardRef",function(){return J}),n.d(e,"Injector",function(){return nt}),n.d(e,"ReflectiveInjector",function(){return Yt}),n.d(e,"ResolvedReflectiveFactory",function(){return Ht}),n.d(e,"ReflectiveKey",function(){return Nt}),n.d(e,"InjectionToken",function(){return a}),n.d(e,"Inject",function(){return F}),n.d(e,"Optional",function(){return j}),n.d(e,"Injectable",function(){return z}),n.d(e,"Self",function(){return W}),n.d(e,"SkipSelf",function(){return H}),n.d(e,"Host",function(){return U}),n.d(e,"NgZone",function(){return Le}),n.d(e,"RenderComponentType",function(){return dn}),n.d(e,"Renderer",function(){return fn}),n.d(e,"Renderer2",function(){return vn}),n.d(e,"RendererFactory2",function(){return gn}),n.d(e,"RendererStyleFlags2",function(){return mn}),n.d(e,"RootRenderer",function(){return pn}),n.d(e,"COMPILER_OPTIONS",function(){return fe}),n.d(e,"Compiler",function(){return he}),n.d(e,"CompilerFactory",function(){return pe}),n.d(e,"ModuleWithComponentFactories",function(){return ce}),n.d(e,"ComponentFactory",function(){return me}),n.d(e,"ComponentRef",function(){return ge}),n.d(e,"ComponentFactoryResolver",function(){return be}),n.d(e,"ElementRef",function(){return yn}),n.d(e,"NgModuleFactory",function(){return Ce}),n.d(e,"NgModuleRef",function(){return we}),n.d(e,"NgModuleFactoryLoader",function(){return bn}),n.d(e,"getModuleFactory",function(){return wn}),n.d(e,"QueryList",function(){return Cn}),n.d(e,"SystemJsNgModuleLoader",function(){return Sn}),n.d(e,"SystemJsNgModuleLoaderConfig",function(){return En}),n.d(e,"TemplateRef",function(){return Nn}),n.d(e,"ViewContainerRef",function(){return On}),n.d(e,"EmbeddedViewRef",function(){return Rn}),n.d(e,"ViewRef",function(){return In}),n.d(e,"ChangeDetectionStrategy",function(){return w}),n.d(e,"ChangeDetectorRef",function(){return Pn}),n.d(e,"DefaultIterableDiffer",function(){return Xn}),n.d(e,"IterableDiffers",function(){return ir}),n.d(e,"KeyValueDiffers",function(){return or}),n.d(e,"SimpleChange",function(){return $n}),n.d(e,"WrappedValue",function(){return Un}),n.d(e,"platformCore",function(){return cr}),n.d(e,"\u0275ALLOW_MULTIPLE_PLATFORMS",function(){return Ke}),n.d(e,"\u0275APP_ID_RANDOM_PROVIDER",function(){return re}),n.d(e,"\u0275ValueUnwrapper",function(){return Bn}),n.d(e,"\u0275devModeEqual",function(){return Hn}),n.d(e,"\u0275isListLikeIterable",function(){return qn}),n.d(e,"\u0275ChangeDetectorStatus",function(){return C}),n.d(e,"\u0275isDefaultChangeDetectionStrategy",function(){return k}),n.d(e,"\u0275Console",function(){return ue}),n.d(e,"\u0275ComponentFactory",function(){return me}),n.d(e,"\u0275CodegenComponentFactoryResolver",function(){return xe}),n.d(e,"\u0275ReflectionCapabilities",function(){return Dt}),n.d(e,"\u0275RenderDebugInfo",function(){return hn}),n.d(e,"\u0275global",function(){return q}),n.d(e,"\u0275looseIdentical",function(){return X}),n.d(e,"\u0275stringify",function(){return K}),n.d(e,"\u0275makeDecorator",function(){return d}),n.d(e,"\u0275isObservable",function(){return Qt}),n.d(e,"\u0275isPromise",function(){return Kt}),n.d(e,"\u0275clearProviderOverrides",function(){return Bs}),n.d(e,"\u0275overrideProvider",function(){return Us}),n.d(e,"\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",function(){return mo}),n.d(e,"\u0275registerModuleFactory",function(){return _n}),n.d(e,"\u0275EMPTY_ARRAY",function(){return pi}),n.d(e,"\u0275EMPTY_MAP",function(){return gi}),n.d(e,"\u0275and",function(){return mi}),n.d(e,"\u0275ccf",function(){return Di}),n.d(e,"\u0275cmf",function(){return $s}),n.d(e,"\u0275crt",function(){return Lr}),n.d(e,"\u0275did",function(){return oo}),n.d(e,"\u0275eld",function(){return vi}),n.d(e,"\u0275elementEventFullName",function(){return Zr}),n.d(e,"\u0275getComponentViewDefinitionFactory",function(){return Vi}),n.d(e,"\u0275inlineInterpolate",function(){return hi}),n.d(e,"\u0275interpolate",function(){return di}),n.d(e,"\u0275mod",function(){return Ei}),n.d(e,"\u0275mpd",function(){return Mi}),n.d(e,"\u0275ncd",function(){return So}),n.d(e,"\u0275nov",function(){return Gi}),n.d(e,"\u0275pid",function(){return so}),n.d(e,"\u0275prd",function(){return ao}),n.d(e,"\u0275pad",function(){return Oo}),n.d(e,"\u0275pod",function(){return Po}),n.d(e,"\u0275ppd",function(){return No}),n.d(e,"\u0275qud",function(){return Co}),n.d(e,"\u0275ted",function(){return Ro}),n.d(e,"\u0275unv",function(){return Rr}),n.d(e,"\u0275vid",function(){return Lo}),n.d(e,"AUTO_STYLE",function(){return ea}),n.d(e,"trigger",function(){return na}),n.d(e,"animate",function(){return ra}),n.d(e,"group",function(){return ia}),n.d(e,"sequence",function(){return oa}),n.d(e,"style",function(){return sa}),n.d(e,"state",function(){return aa}),n.d(e,"keyframes",function(){return la}),n.d(e,"transition",function(){return ua}),n.d(e,"\u0275x",function(){return Zs}),n.d(e,"\u0275y",function(){return Ys}),n.d(e,"\u0275bc",function(){return Js}),n.d(e,"\u0275z",function(){return Xs}),n.d(e,"\u0275bb",function(){return Qs}),n.d(e,"\u0275ba",function(){return Ks}),n.d(e,"\u0275bd",function(){return ta}),n.d(e,"\u0275w",function(){return Gs}),n.d(e,"\u0275k",function(){return gr}),n.d(e,"\u0275l",function(){return mr}),n.d(e,"\u0275m",function(){return vr}),n.d(e,"\u0275f",function(){return ne}),n.d(e,"\u0275g",function(){return lr}),n.d(e,"\u0275h",function(){return ur}),n.d(e,"\u0275i",function(){return Zn}),n.d(e,"\u0275j",function(){return er}),n.d(e,"\u0275b",function(){return pt}),n.d(e,"\u0275c",function(){return Xt}),n.d(e,"\u0275d",function(){return jt}),n.d(e,"\u0275e",function(){return Bt}),n.d(e,"\u0275n",function(){return Oe}),n.d(e,"\u0275p",function(){return Ae}),n.d(e,"\u0275o",function(){return Ee}),n.d(e,"\u0275s",function(){return Ne}),n.d(e,"\u0275q",function(){return Se}),n.d(e,"\u0275r",function(){return Te}),n.d(e,"\u0275a",function(){return f}),n.d(e,"\u0275t",function(){return lo}),n.d(e,"\u0275u",function(){return Er});var r=n("ves3"),i=n("Qi5R"),o=n("LiEr"),s=n("W/Sc");class a{constructor(t){this._desc=t,this.ngMetadataName="InjectionToken"}toString(){return`InjectionToken ${this._desc}`}}const l="__annotations__",u="__paramaters__",c="__prop__metadata__";function d(t,e,n,r){const i=h(e);function o(t){if(this instanceof o)return i.call(this,t),this;const e=new o(t),n=function(t){return(t.hasOwnProperty(l)?t[l]:Object.defineProperty(t,l,{value:[]})[l]).push(e),t};return r&&r(n),n}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}function h(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function f(t,e,n){const r=h(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(u)?t[u]:Object.defineProperty(t,u,{value:[]})[u];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}function p(t,e,n){const r=h(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return function(t,n){const r=t.constructor,i=r.hasOwnProperty(c)?r[c]:Object.defineProperty(r,c,{value:{}})[c];i[n]=i.hasOwnProperty(n)&&i[n]||[],i[n].unshift(e)}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}const g=new a("AnalyzeForEntryComponents"),m=f("Attribute",t=>({attributeName:t}));class v{}const y=p("ContentChildren",(t,e={})=>Object.assign({selector:t,first:!1,isViewQuery:!1,descendants:!1},e),v),b=p("ContentChild",(t,e={})=>Object.assign({selector:t,first:!0,isViewQuery:!1,descendants:!0},e),v),x=p("ViewChildren",(t,e={})=>Object.assign({selector:t,first:!1,isViewQuery:!0,descendants:!0},e),v),_=p("ViewChild",(t,e)=>Object.assign({selector:t,first:!0,isViewQuery:!0,descendants:!0},e),v),w=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),C=function(){var t={CheckOnce:0,Checked:1,CheckAlways:2,Detached:3,Errored:4,Destroyed:5};return t[t.CheckOnce]="CheckOnce",t[t.Checked]="Checked",t[t.CheckAlways]="CheckAlways",t[t.Detached]="Detached",t[t.Errored]="Errored",t[t.Destroyed]="Destroyed",t}();function k(t){return null==t||t===w.Default}const M=d("Directive",(t={})=>t),E=d("Component",(t={})=>Object.assign({changeDetection:w.Default},t),M),A=d("Pipe",t=>Object.assign({pure:!0},t)),S=p("Input",t=>({bindingPropertyName:t})),T=p("Output",t=>({bindingPropertyName:t})),N=p("HostBinding",t=>({hostPropertyName:t})),O=p("HostListener",(t,e)=>({eventName:t,args:e})),P={name:"custom-elements"},I={name:"no-errors-schema"},R=d("NgModule",t=>t),D=function(){var t={Emulated:0,Native:1,None:2};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t}();class V{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const L=new V("5.0.5"),F=f("Inject",t=>({token:t})),j=f("Optional"),z=d("Injectable"),W=f("Self"),H=f("SkipSelf"),U=f("Host"),B="undefined"!=typeof window&&window,$="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q=B||"undefined"!=typeof t&&t||$;let G=null;function Z(){if(!G){const t=q.Symbol;if(t&&t.iterator)G=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(G=n)}}}return G}function Y(t){Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function X(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function K(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(K).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Q(t){return t.__forward_ref__=Q,t.toString=function(){return K(this())},t}function J(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===Q?t():t}const tt=new Object,et=tt;class nt{static create(t,e){return new pt(t,e)}}nt.THROW_IF_NOT_FOUND=tt,nt.NULL=new class{get(t,e=tt){if(e===tt)throw new Error(`NullInjectorError: No provider for ${K(t)}!`);return e}};const rt=function(t){return t},it=[],ot=rt,st=function(){return Array.prototype.slice.call(arguments)},at={},lt=function(t){for(let e in t)if(t[e]===at)return e;throw Error("!prop")}({provide:String,useValue:at}),ut="ngTokenPath",ct="ngTempTokenPath",dt=nt.NULL,ht=/\n/gm,ft="\u0275";class pt{constructor(t,e=dt){this.parent=e;const n=this._records=new Map;n.set(nt,{token:nt,fn:rt,deps:it,value:this,useNew:!1}),function t(e,n){if(n)if((n=J(n))instanceof Array)for(let r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw vt("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw vt("Unexpected provider",n);{let t=J(n.provide);const r=function(t){const e=function(t){let e=it;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let r=6,i=J(n[t]);if(i instanceof Array)for(let t=0,e=i;t<e.length;t++){const n=e[t];n instanceof j||n==j?r|=1:n instanceof H||n==H?r&=-3:n instanceof W||n==W?r&=-5:i=n instanceof F?n.token:J(n)}e.push({token:i,options:r})}}else if(t.useExisting)e=[{token:J(t.useExisting),options:6}];else if(!(n||lt in t))throw vt("'deps' required",t);return e}(t);let n=rt,r=it,i=!1,o=J(t.provide);if(lt in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=J(t.useClass);else{if("function"!=typeof o)throw vt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=e.get(t);if(r){if(r.fn!==st)throw gt(t)}else e.set(t,r={token:n.provide,deps:[],useNew:!1,fn:st,value:it});r.deps.push({token:t=n,options:6})}const i=e.get(t);if(i&&i.fn==st)throw gt(t);e.set(t,r)}}}(n,t)}get(t,e){const n=this._records.get(t);try{return function t(e,n,r,i,o){try{return function(e,n,r,i,o){let s;if(n){if((s=n.value)==ot)throw Error(ft+"Circular dependency");if(s===it){n.value=ot;let e=void 0,o=n.useNew,a=n.fn,l=n.deps,u=it;if(l.length){u=[];for(let e=0;e<l.length;e++){const n=l[e],o=n.options,s=2&o?r.get(n.token):void 0;u.push(t(n.token,s,r,s||4&o?i:dt,1&o?null:nt.THROW_IF_NOT_FOUND))}}n.value=s=o?new a(...u):a.apply(e,u)}}else s=i.get(e,o);return s}(e,n,r,i,o)}catch(t){throw t instanceof Error||(t=new Error(t)),(t[ct]=t[ct]||[]).unshift(e),n&&n.value==ot&&(n.value=it),t}}(t,n,this._records,this.parent,e)}catch(t){const e=t[ct];throw t.message=mt("\n"+t.message,e),t[ut]=e,t[ct]=null,t}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(K(n))),`StaticInjector[${t.join(", ")}]`}}function gt(t){return vt("Cannot mix multi providers and regular providers",t)}function mt(t,e){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==ft?t.substr(2):t;let n=K(e);if(e instanceof Array)n=e.map(K).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):K(r)))}n=`{${t.join(", ")}}`}return`StaticInjectorError[${n}]: ${t.replace(ht,"\n  ")}`}function vt(t,e){return new Error(mt(t,e))}const yt="ngDebugContext",bt="ngOriginalError",xt="ngErrorLogger";function _t(t){return t[yt]}function wt(t){return t[bt]}function Ct(t,...e){t.error(...e)}class kt{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[xt]||Ct}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?_t(t)?_t(t):this._findContext(wt(t)):null}_findOriginalError(t){let e=wt(t);for(;e&&wt(e);)e=wt(e);return e}}function Mt(t){return t.length>1?" ("+function(t){const e=[];for(let n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(t=>K(t.token)).join(" -> ")+")":""}function Et(t,e,n,r){const i=[e],o=n(i),s=r?function(t,e){const n=`${o} caused by: ${e instanceof Error?e.message:e}`,r=Error(n);return r[bt]=e,r}(0,r):Error(o);return s.addKey=At,s.keys=i,s.injectors=[t],s.constructResolvingMessage=n,s[bt]=r,s}function At(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function St(t,e){const n=[];for(let r=0,i=e.length;r<i;r++){const t=e[r];n.push(t&&0!=t.length?t.map(K).join(" "):"?")}return Error("Cannot resolve all parameters for '"+K(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+K(t)+"' is decorated with Injectable.")}function Tt(t,e){return Error(`Cannot mix multi providers and regular providers, got: ${t} ${e}`)}class Nt{constructor(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=K(this.token)}static get(t){return Ot.get(J(t))}static get numberOfKeys(){return Ot.numberOfKeys}}const Ot=new class{constructor(){this._allKeys=new Map}get(t){if(t instanceof Nt)return t;if(this._allKeys.has(t))return this._allKeys.get(t);const e=new Nt(t,Nt.numberOfKeys);return this._allKeys.set(t,e),e}get numberOfKeys(){return this._allKeys.size}},Pt=Function;function It(t){return"function"==typeof t}const Rt=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/;class Dt{constructor(t){this._reflect=t||q.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n="undefined"==typeof t?new Array(e.length):new Array(t.length);for(let r=0;r<n.length;r++)n[r]="undefined"==typeof t?[]:t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n}_ownParameters(t,e){if(Rt.exec(t.toString()))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const n=t.ctorParameters;if(n&&n!==e.ctorParameters){const t="function"==typeof n?n():n,e=t.map(t=>t&&t.type),r=t.map(t=>t&&Vt(t.decorators));return this._zipTypesAndAnnotations(e,r)}const r=t.hasOwnProperty(u)&&t[u],i=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return i||r?this._zipTypesAndAnnotations(i,r):new Array(t.length).fill(void 0)}parameters(t){if(!It(t))return[];const e=Lt(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?Vt(t.decorators):t.hasOwnProperty(l)?t[l]:null}annotations(t){if(!It(t))return[];const e=Lt(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=Vt(e[t])}),n}return t.hasOwnProperty(c)?t[c]:null}propMetadata(t){if(!It(t))return{};const e=Lt(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...r[t]),n[t]=e}),n}hasLifecycleHook(t,e){return t instanceof Pt&&e in t.prototype}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){const e=`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`;return new Function("o","args",e)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:`./${K(t)}`}resourceUri(t){return`./${K(t)}`}resolveIdentifier(t,e,n,r){return r}resolveEnum(t,e){return t[e]}}function Vt(t){return t?t.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function Lt(t){const e=Object.getPrototypeOf(t.prototype);return(e?e.constructor:null)||Object}const Ft=new class{constructor(t){this.reflectionCapabilities=t}updateCapabilities(t){this.reflectionCapabilities=t}factory(t){return this.reflectionCapabilities.factory(t)}parameters(t){return this.reflectionCapabilities.parameters(t)}annotations(t){return this.reflectionCapabilities.annotations(t)}propMetadata(t){return this.reflectionCapabilities.propMetadata(t)}hasLifecycleHook(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)}getter(t){return this.reflectionCapabilities.getter(t)}setter(t){return this.reflectionCapabilities.setter(t)}method(t){return this.reflectionCapabilities.method(t)}importUri(t){return this.reflectionCapabilities.importUri(t)}resourceUri(t){return this.reflectionCapabilities.resourceUri(t)}resolveIdentifier(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)}resolveEnum(t,e){return this.reflectionCapabilities.resolveEnum(t,e)}}(new Dt);class jt{constructor(t,e,n){this.key=t,this.optional=e,this.visibility=n}static fromKey(t){return new jt(t,!1,null)}}const zt=[];class Wt{constructor(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n}get resolvedFactory(){return this.resolvedFactories[0]}}class Ht{constructor(t,e){this.factory=t,this.dependencies=e}}function Ut(t){return new Wt(Nt.get(t.provide),[function(t){let e,n;if(t.useClass){const r=J(t.useClass);e=Ft.factory(r),n=$t(r)}else t.useExisting?(e=(t=>t),n=[jt.fromKey(Nt.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){const n=e.map(t=>[t]);return e.map(e=>qt(t,e,n))}return $t(t)}(t.useFactory,t.deps)):(e=(()=>t.useValue),n=zt);return new Ht(e,n)}(t)],t.multi||!1)}function Bt(t){const e=function(t,e){for(let n=0;n<t.length;n++){const r=t[n],i=e.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Tt(i,r);if(r.multiProvider)for(let t=0;t<r.resolvedFactories.length;t++)i.resolvedFactories.push(r.resolvedFactories[t]);else e.set(r.key.id,r)}else{let t;t=r.multiProvider?new Wt(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,t)}}return e}(function t(e,n){return e.forEach(e=>{if(e instanceof Pt)n.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)n.push(e);else{if(!(e instanceof Array))throw Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${e}`);t(e,n)}}),n}(t,[]).map(Ut),new Map);return Array.from(e.values())}function $t(t){const e=Ft.parameters(t);if(!e)return[];if(e.some(t=>null==t))throw St(t,e);return e.map(n=>qt(t,n,e))}function qt(t,e,n){let r=null,i=!1;if(!Array.isArray(e))return Gt(e instanceof F?e.token:e,i,null);let o=null;for(let s=0;s<e.length;++s){const t=e[s];t instanceof Pt?r=t:t instanceof F?r=t.token:t instanceof j?i=!0:t instanceof W||t instanceof H?o=t:t instanceof a&&(r=t)}if(null!=(r=J(r)))return Gt(r,i,o);throw St(t,n)}function Gt(t,e,n){return new jt(Nt.get(t),e,n)}const Zt=new Object;class Yt{static resolve(t){return Bt(t)}static resolveAndCreate(t,e){const n=Yt.resolve(t);return Yt.fromResolvedProviders(n,e)}static fromResolvedProviders(t,e){return new Xt(t,e)}}class Xt{constructor(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;const n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(let r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=Zt}get(t,e=et){return this._getByKey(Nt.get(t),null,e)}resolveAndCreateChild(t){const e=Yt.resolve(t);return this.createChildFromResolved(e)}createChildFromResolved(t){const e=new Xt(t);return e.parent=this,e}resolveAndInstantiate(t){return this.instantiateResolved(Yt.resolve([t])[0])}instantiateResolved(t){return this._instantiateProvider(t)}getProviderAtIndex(t){if(t<0||t>=this._providers.length)throw function(t){return Error(`Index ${t} is out-of-bounds.`)}(t);return this._providers[t]}_new(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function(e,n){return Et(e,t.key,function(t){return`Cannot instantiate cyclic dependency!${Mt(t)}`})}(this);return this._instantiateProvider(t)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(t){if(t.multiProvider){const e=new Array(t.resolvedFactories.length);for(let n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])}_instantiate(t,e){const n=e.factory;let r,i;try{r=e.dependencies.map(t=>this._getByReflectiveDependency(t))}catch(e){throw e.addKey&&e.addKey(this,t.key),e}try{i=n(...r)}catch(e){throw function(e,n,r,i){return Et(e,t.key,function(t){const e=K(t[0].token);return`${n.message}: Error during instantiation of ${e}!${Mt(t)}.`},n)}(this,e)}return i}_getByReflectiveDependency(t){return this._getByKey(t.key,t.visibility,t.optional?null:et)}_getByKey(t,e,n){return t===Xt.INJECTOR_KEY?this:e instanceof W?this._getByKeySelf(t,n):this._getByKeyDefault(t,n,e)}_getObjByKeyId(t){for(let e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===Zt&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return Zt}_throwOrNull(t,e){if(e!==et)return e;throw function(t,e){return Et(t,e,function(t){return`No provider for ${K(t[0].token)}!${Mt(t)}`})}(this,t)}_getByKeySelf(t,e){const n=this._getObjByKeyId(t.id);return n!==Zt?n:this._throwOrNull(t,e)}_getByKeyDefault(t,e,n){let r;for(r=n instanceof H?this.parent:this;r instanceof Xt;){const e=r,n=e._getObjByKeyId(t.id);if(n!==Zt)return n;r=e.parent}return null!==r?r.get(t.token,e):this._throwOrNull(t,e)}get displayName(){return`ReflectiveInjector(providers: [${function(t,e){const n=new Array(t._providers.length);for(let r=0;r<t._providers.length;++r)n[r]=e(t.getProviderAtIndex(r));return n}(this,t=>' "'+t.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}function Kt(t){return!!t&&"function"==typeof t.then}function Qt(t){return!!t&&"function"==typeof t.subscribe}Xt.INJECTOR_KEY=Nt.get(nt);const Jt=new a("Application Initializer");class te{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Kt(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const ee=new a("AppId");function ne(){return`${ie()}${ie()}${ie()}`}const re={provide:ee,useFactory:ne,deps:[]};function ie(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const oe=new a("Platform Initializer"),se=new a("Platform ID"),ae=new a("appBootstrapListener"),le=new a("Application Packages Root URL");class ue{log(t){console.log(t)}warn(t){console.warn(t)}}ue.ctorParameters=(()=>[]);class ce{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}function de(){throw new Error("Runtime compiler is not loaded")}class he{compileModuleSync(t){throw de()}compileModuleAsync(t){throw de()}compileModuleAndAllComponentsSync(t){throw de()}compileModuleAndAllComponentsAsync(t){throw de()}clearCache(){}clearCacheFor(t){}}const fe=new a("compilerOptions");class pe{}class ge{}class me{}function ve(t){const e=Error(`No component factory found for ${K(t)}. Did you add it to @NgModule.entryComponents?`);return e[ye]=t,e}const ye="ngComponent";class be{}be.NULL=new class{resolveComponentFactory(t){throw ve(t)}};class xe{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let r=0;r<t.length;r++){const e=t[r];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw ve(t);return new _e(e,this._ngModule)}}class _e extends me{constructor(t,e){super(),this.factory=t,this.ngModule=e}get selector(){return this.factory.selector}get componentType(){return this.factory.componentType}get ngContentSelectors(){return this.factory.ngContentSelectors}get inputs(){return this.factory.inputs}get outputs(){return this.factory.outputs}create(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}class we{}class Ce{}let ke,Me;function Ee(){const t=q.wtf;return!(!t||!(ke=t.trace)||(Me=ke.events,0))}function Ae(t,e=null){return Me.createScope(t,e)}function Se(t,e){return ke.leaveScope(t,e),e}function Te(t,e){return ke.beginTimeRange(t,e)}function Ne(t){ke.endTimeRange(t)}const Oe=Ee(),Pe=Oe?Ae:(t,e)=>(function(t,e){return null}),Ie=Oe?Se:(t,e)=>e,Re=Oe?Te:(t,e)=>null,De=Oe?Ne:t=>null;class Ve extends s.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;return t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()})),super.subscribe(r,i,o)}}class Le{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ve(!1),this.onMicrotaskEmpty=new Ve(!1),this.onStable=new Ve(!1),this.onError=new Ve(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),function(t){t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,r,i,o,s)=>{try{return We(t),e.invokeTask(r,i,o,s)}finally{He(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return We(t),e.invoke(r,i,o,s,a)}finally{He(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t.hasPendingMicrotasks=i.microTask,ze(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Le.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Le.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,je,Fe,Fe);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Fe(){}const je={};function ze(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function We(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function He(t){t._nesting--,ze(t)}class Ue{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ve,this.onMicrotaskEmpty=new Ve,this.onStable=new Ve,this.onError=new Ve}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}class Be{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Le.assertNotInAngularZone(),Y(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){this.isStable()?Y(()=>{for(;0!==this._callbacks.length;)this._callbacks.pop()(this._didWork);this._didWork=!1}):this._didWork=!0}whenStable(t){this._callbacks.push(t),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}class $e{constructor(){this._applications=new Map,Ze.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ze.findTestabilityInTree(this,t,e)}}function qe(t){Ze=t}$e.ctorParameters=(()=>[]);let Ge,Ze=new class{addToWindow(t){}findTestabilityInTree(t,e,n){return null}},Ye=!0,Xe=!1;const Ke=new a("AllowMultipleToken");function Qe(){if(Xe)throw new Error("Cannot enable prod mode after platform setup.");Ye=!1}function Je(){return Xe=!0,Ye}class tn{constructor(t,e){this.name=t,this.token=e}}function en(t){if(Ge&&!Ge.destroyed&&!Ge.injector.get(Ke,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ge=t.get(an);const e=t.get(oe,null);return e&&e.forEach(t=>t()),Ge}function nn(t,e,n=[]){const r=new a(`Platform: ${e}`);return(e=[])=>{let i=sn();return i&&!i.injector.get(Ke,!1)||(t?t(n.concat(e).concat({provide:r,useValue:!0})):en(nt.create(n.concat(e).concat({provide:r,useValue:!0})))),rn(r)}}function rn(t){const e=sn();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function on(){Ge&&!Ge.destroyed&&Ge.destroy()}function sn(){return Ge&&!Ge.destroyed?Ge:null}class an{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t){return"noop"===t?new Ue:("zone.js"===t?void 0:t)||new Le({enableLongStackTrace:Je()})}(e?e.ngZone:void 0);return n.run(()=>{const e=nt.create([{provide:Le,useValue:n}],this.injector),r=t.create(e),i=r.injector.get(kt,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(()=>cn(this._modules,r)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{i.handleError(t)}})),function(t,e,n){try{const r=n();return Kt(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}(i,n,()=>{const t=r.injector.get(te);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=this.injector.get(pe),r=ln({},e);return n.createCompiler([r]).compileModuleAsync(t).then(t=>this.bootstrapModuleFactory(t,r))}_moduleDoBootstrap(t){const e=t.injector.get(un);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${K(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function ln(t,e){return Array.isArray(e)?e.reduce(ln,t):Object.assign({},t,e)}class un{constructor(t,e,n,s,a,l){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=s,this._componentFactoryResolver=a,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Je(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new r.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new r.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Le.assertNotInAngularZone(),Y(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Le.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(i.a)(u,o.a.call(c))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof me?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n instanceof _e?null:this._injector.get(we),i=n.create(nt.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Be,null);return o&&i.injector.get($e).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Je()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const t=un._tickScope();try{this._runningTick=!0,this._views.forEach(t=>t.detectChanges()),this._enforceNoNewChanges&&this._views.forEach(t=>t.checkNoChanges())}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1,Ie(t)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;cn(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ae,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),cn(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}function cn(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}un._tickScope=Pe("ApplicationRef#tick()");class dn{constructor(t,e,n,r,i,o){this.id=t,this.templateUrl=e,this.slotCount=n,this.encapsulation=r,this.styles=i,this.animations=o}}class hn{}class fn{}new a("Renderer2Interceptor");class pn{}class gn{}const mn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();class vn{}class yn{constructor(t){this.nativeElement=t}}class bn{}let xn=new Map;function _n(t,e){const n=xn.get(t);if(n)throw new Error(`Duplicate module registered for ${t} - ${n.moduleType.name} vs ${e.moduleType.name}`);xn.set(t,e)}function wn(t){const e=xn.get(t);if(!e)throw new Error(`No module with ID ${t} loaded`);return e}class Cn{constructor(){this.dirty=!0,this._results=[],this.changes=new Ve}get length(){return this._results.length}get first(){return this._results[0]}get last(){return this._results[this.length-1]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}[Z()](){return this._results[Z()]()}toString(){return this._results.toString()}reset(t){this._results=function t(e){return e.reduce((e,n)=>{const r=Array.isArray(n)?t(n):n;return e.concat(r)},[])}(t),this.dirty=!1}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const kn="#",Mn="NgFactory";class En{}const An={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class Sn{constructor(t,e){this._compiler=t,this._config=e||An}load(t){return this._compiler instanceof he?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split(kn);return void 0===r&&(r="default"),n("Jnfr")(e).then(t=>t[r]).then(t=>Tn(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split(kn),i=Mn;return void 0===r&&(r="default",i=""),n("Jnfr")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Tn(t,e,r))}}function Tn(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class Nn{}class On{}class Pn{}class In extends Pn{}class Rn extends In{}class Dn{constructor(t,e){this.name=t,this.callback=e}}class Vn{constructor(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof Ln?e.addChild(this):this.parent=null,this.listeners=[]}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Ln extends Vn{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(t=>{t.parent&&t.parent.removeChild(t),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,r){e.childNodes.forEach(e=>{e instanceof Ln&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,r){e instanceof Ln&&e.childNodes.forEach(e=>{n(e)&&r.push(e),e instanceof Ln&&t(e,n,r)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof Ln)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}function Fn(t){return t.map(t=>t.nativeElement)}const jn=new Map;function zn(t){return jn.get(t)||null}function Wn(t){jn.set(t.nativeNode,t)}function Hn(t,e){const n=qn(t),r=qn(e);return n&&r?function(t,e,n){const r=t[Z()](),i=e[Z()]();for(;;){const t=r.next(),e=i.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,Hn):!(n||!t||"object"!=typeof t&&"function"!=typeof t||r||!e||"object"!=typeof e&&"function"!=typeof e)||X(t,e)}class Un{constructor(t){this.wrapped=t}static wrap(t){return new Un(t)}}class Bn{constructor(){this.hasWrappedValue=!1}unwrap(t){return t instanceof Un?(this.hasWrappedValue=!0,t.wrapped):t}reset(){this.hasWrappedValue=!1}}class $n{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function qn(t){return!!Gn(t)&&(Array.isArray(t)||!(t instanceof Map)&&Z()in t)}function Gn(t){return null!==t&&("function"==typeof t||"object"==typeof t)}class Zn{constructor(){}supports(t){return qn(t)}create(t){return new Xn(t)}}const Yn=(t,e)=>e;class Xn{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Yn}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<tr(n,r,i)?e:n,s=tr(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!qn(t))throw new Error(`Error trying to diff '${K(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)r=this._trackByFn(e,n=t[e]),null!==i&&X(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),X(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Z()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&X(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),X(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(X(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(X(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Kn(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Jn),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Jn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Kn{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Qn{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&X(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Jn{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Qn,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tr(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class er{constructor(){}supports(t){return t instanceof Map||Gn(t)}create(){return new nr}}class nr{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Gn(t)))throw new Error(`Error trying to diff '${K(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new rr(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){X(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class rr{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}class ir{constructor(t){this.factories=t}static create(t,e){if(null!=e){const n=e.factories.slice();return t=t.concat(n),new ir(t)}return new ir(t)}static extend(t){return{provide:ir,useFactory:e=>{if(!e)throw new Error("Cannot extend IterableDiffers without a parent injector");return ir.create(t,e)},deps:[[ir,new H,new j]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${t.name||typeof t}'`)}}class or{constructor(t){this.factories=t}static create(t,e){if(e){const n=e.factories.slice();t=t.concat(n)}return new or(t)}static extend(t){return{provide:or,useFactory:e=>{if(!e)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return or.create(t,e)},deps:[[or,new H,new j]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}const sr=[new er],ar=[new Zn],lr=new ir(ar),ur=new or(sr),cr=nn(null,"core",[{provide:se,useValue:"unknown"},{provide:an,deps:[nt]},{provide:$e,deps:[]},{provide:ue,deps:[]}]),dr=new a("LocaleId"),hr=new a("Translations"),fr=new a("TranslationsFormat"),pr=function(){var t={Error:0,Warning:1,Ignore:2};return t[t.Error]="Error",t[t.Warning]="Warning",t[t.Ignore]="Ignore",t}();function gr(){return lr}function mr(){return ur}function vr(t){return t||"en-US"}class yr{constructor(t){}}const br=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class xr{}function _r(t,e){return t.nodes[e]}function wr(t,e){return t.nodes[e]}function Cr(t,e){return t.nodes[e]}function kr(t,e){return t.nodes[e]}function Mr(t,e){return t.nodes[e]}class Er{}const Ar={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,clearProviderOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function Sr(t,e,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return Tr(n,e),n}(i,t)}function Tr(t,e){t[yt]=e,t[xt]=e.logError.bind(e)}function Nr(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}const Or=()=>{},Pr=new Map;function Ir(t){let e=Pr.get(t);return e||(e=K(t)+"_"+Pr.size,Pr.set(t,e)),e}function Rr(t,e,n,r){if(r instanceof Un){r=r.wrapped;let i=t.def.nodes[e].bindingIndex+n,o=t.oldValues[i];o instanceof Un&&(o=o.wrapped),t.oldValues[i]=new Un(o)}return r}const Dr="$$undefined",Vr="$$empty";function Lr(t){return{id:Dr,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let Fr=0;function jr(t,e,n,r){return!(!(2&t.state)&&X(t.oldValues[e.bindingIndex+n],r))}function zr(t,e,n,r){return!!jr(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Wr(t,e,n,r){const i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Hn(i,r))throw Sr(Ar.createDebugContext(t,e.nodeIndex),i,r,0!=(1&t.state))}function Hr(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Ur(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Br(t,e,n,r){try{return Hr(33554432&t.def.nodes[e].flags?wr(t,e).componentView:t),Ar.handleEvent(t,e,n,r)}catch(e){t.root.errorHandler.handleError(e)}}function $r(t){return t.parent?wr(t.parent,t.parentNodeDef.nodeIndex):null}function qr(t){return t.parent?t.parentNodeDef.parent:null}function Gr(t,e){switch(201347067&e.flags){case 1:return wr(t,e.nodeIndex).renderElement;case 2:return _r(t,e.nodeIndex).renderText}}function Zr(t,e){return t?`${t}:${e}`:e}function Yr(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Xr(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Kr(t){return 1<<t%32}function Qr(t){const e={};let n=0;const r={};return t&&t.forEach(([t,i])=>{"number"==typeof t?(e[t]=i,n|=Kr(t)):r[t]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function Jr(t){return t.map(t=>{let e,n;return Array.isArray(t)?[n,e]=t:(n=0,e=t),{flags:n,token:e,tokenKey:Ir(e)}})}function ti(t,e,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===D.Native?wr(t,n.renderParent.nodeIndex).renderElement:void 0:e}const ei=new WeakMap;function ni(t){let e=ei.get(t);return e||((e=t(()=>Or)).factory=t,ei.set(t,e)),e}function ri(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(Gr(t,t.def.lastRenderRootNode))),ii(t,e,0,t.def.nodes.length-1,n,r,i)}function ii(t,e,n,r,i,o,s){for(let a=n;a<=r;a++){const n=t.def.nodes[a];11&n.flags&&si(t,n,e,i,o,s),a+=n.childCount}}function oi(t,e,n,r,i,o){let s=t;for(;s&&!Yr(s);)s=s.parent;const a=s.parent,l=qr(s),u=l.nodeIndex+l.childCount;for(let c=l.nodeIndex+1;c<=u;c++){const t=a.def.nodes[c];t.ngContentIndex===e&&si(a,t,n,r,i,o),c+=t.childCount}if(!a.parent){const s=t.root.projectableNodes[e];if(s)for(let e=0;e<s.length;e++)ai(t,s[e],n,r,i,o)}}function si(t,e,n,r,i,o){if(8&e.flags)oi(t,e.ngContent.index,n,r,i,o);else{const s=Gr(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&ai(t,s,n,r,i,o),32&e.bindingFlags&&ai(wr(t,e.nodeIndex).componentView,s,n,r,i,o)):ai(t,s,n,r,i,o),16777216&e.flags){const s=wr(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<s.length;t++)ri(s[t],n,r,i,o)}1&e.flags&&!e.element.name&&ii(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function ai(t,e,n,r,i,o){const s=t.renderer;switch(n){case 1:s.appendChild(r,e);break;case 2:s.insertBefore(r,e,i);break;case 3:s.removeChild(r,e);break;case 0:o.push(e)}}const li=/^:([^:]+):(.+)$/;function ui(t){if(":"===t[0]){const e=t.match(li);return[e[1],e[2]]}return["",t]}function ci(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function di(t,e){let n="";for(let r=0;r<2*t;r+=2)n=n+e[r]+fi(e[r+1]);return n+e[2*t]}function hi(t,e,n,r,i,o,s,a,l,u,c,d,h,f,p,g,m,v,y,b){switch(t){case 1:return e+fi(n)+r;case 2:return e+fi(n)+r+fi(i)+o;case 3:return e+fi(n)+r+fi(i)+o+fi(s)+a;case 4:return e+fi(n)+r+fi(i)+o+fi(s)+a+fi(l)+u;case 5:return e+fi(n)+r+fi(i)+o+fi(s)+a+fi(l)+u+fi(c)+d;case 6:return e+fi(n)+r+fi(i)+o+fi(s)+a+fi(l)+u+fi(c)+d+fi(h)+f;case 7:return e+fi(n)+r+fi(i)+o+fi(s)+a+fi(l)+u+fi(c)+d+fi(h)+f+fi(p)+g;case 8:return e+fi(n)+r+fi(i)+o+fi(s)+a+fi(l)+u+fi(c)+d+fi(h)+f+fi(p)+g+fi(m)+v;case 9:return e+fi(n)+r+fi(i)+o+fi(s)+a+fi(l)+u+fi(c)+d+fi(h)+f+fi(p)+g+fi(m)+v+fi(y)+b;default:throw new Error("Does not support more than 9 expressions")}}function fi(t){return null!=t?t.toString():""}const pi=[],gi={};function mi(t,e,n,r,i,o){t|=1;const{matchedQueries:s,references:a,matchedQueryIds:l}=Qr(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?ni(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Or},provider:null,text:null,query:null,ngContent:null}}function vi(t,e,n,r,i,o,s=[],a,l,u,c,d){u||(u=Or);const{matchedQueries:h,references:f,matchedQueryIds:p}=Qr(n);let g=null,m=null;o&&([g,m]=ui(o)),a=a||[];const v=new Array(a.length);for(let x=0;x<a.length;x++){const[t,e,n]=a[x],[r,i]=ui(e);let o=void 0,s=void 0;switch(15&t){case 4:s=n;break;case 1:case 8:o=n}v[x]={flags:t,ns:r,name:i,nonMinifiedName:i,securityContext:o,suffix:s}}l=l||[];const y=new Array(l.length);for(let x=0;x<l.length;x++){const[t,e]=l[x];y[x]={type:0,target:t,eventName:e,propName:null}}const b=(s=s||[]).map(([t,e])=>{const[n,r]=ui(t);return[n,r,e]});return d=function(t){if(t&&t.id===Dr){const e=null!=t.encapsulation&&t.encapsulation!==D.None||t.styles.length||Object.keys(t.data).length;t.id=e?`c${Fr++}`:Vr}return t&&t.id===Vr&&(t=null),t||null}(d),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:h,matchedQueryIds:p,references:f,ngContentIndex:r,childCount:i,bindings:v,bindingFlags:ci(v),outputs:y,element:{ns:g,name:m,attrs:b,template:null,componentProvider:null,componentView:c||null,componentRendererType:d,publicProviders:null,allProviders:null,handleEvent:u||Or},provider:null,text:null,query:null,ngContent:null}}function yi(t,e,n){const r=n.element,i=t.root.selectorOrNode,o=t.renderer;let s;if(t.parent||!i){s=r.name?o.createElement(r.name,r.ns):o.createComment("");const i=ti(t,e,n);i&&o.appendChild(i,s)}else s=o.selectRootElement(i);if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[t,e,n]=r.attrs[a];o.setAttribute(s,e,n,t)}return s}function bi(t,e,n,r){for(let i=0;i<n.outputs.length;i++){const o=n.outputs[i],s=xi(t,n.nodeIndex,Zr(o.target,o.eventName));let a=o.target,l=t;"component"===o.target&&(a=null,l=e);const u=l.renderer.listen(a||r,o.eventName,s);t.disposables[n.outputIndex+i]=u}}function xi(t,e,n){return r=>Br(t,e,n,r)}function _i(t,e,n,r){if(!zr(t,e,n,r))return!1;const i=e.bindings[n],o=wr(t,e.nodeIndex),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){const s=e.securityContext;let a=s?t.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;const l=t.renderer;null!=o?l.setAttribute(n,i,a,r):l.removeAttribute(n,i,r)}(t,i,s,i.ns,a,r);break;case 2:!function(t,e,n,r){const i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,s,a,r);break;case 4:!function(t,e,n,r,i){let o=t.root.sanitizer.sanitize(br.STYLE,i);if(null!=o){o=o.toString();const t=e.suffix;null!=t&&(o+=t)}else o=null;const s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,s,a,r);break;case 8:!function(t,e,n,r,i){const o=e.securityContext;let s=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,s)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,s,a,r)}return!0}const wi=new Object,Ci=Ir(nt),ki=Ir(we);function Mi(t,e,n,r){return n=J(n),{index:-1,deps:Jr(r),flags:t,token:e,value:n}}function Ei(t){const e={};for(let n=0;n<t.length;n++){const r=t[n];r.index=n,e[Ir(r.token)]=r}return{factory:null,providersByKey:e,providers:t}}function Ai(t,e,n=nt.THROW_IF_NOT_FOUND){if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const r=e.tokenKey;switch(r){case Ci:case ki:return t}const i=t._def.providersByKey[r];if(i){let e=t._providers[i.index];return void 0===e&&(e=t._providers[i.index]=Si(t,i)),e===wi?void 0:e}return t._parent.get(e.token,n)}function Si(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const r=n.length;switch(r){case 0:return new e;case 1:return new e(Ai(t,n[0]));case 2:return new e(Ai(t,n[0]),Ai(t,n[1]));case 3:return new e(Ai(t,n[0]),Ai(t,n[1]),Ai(t,n[2]));default:const i=new Array(r);for(let e=0;e<r;e++)i[e]=Ai(t,n[e]);return new e(...i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const r=n.length;switch(r){case 0:return e();case 1:return e(Ai(t,n[0]));case 2:return e(Ai(t,n[0]),Ai(t,n[1]));case 3:return e(Ai(t,n[0]),Ai(t,n[1]),Ai(t,n[2]));default:const i=Array(r);for(let e=0;e<r;e++)i[e]=Ai(t,n[e]);return e(...i)}}(t,e.value,e.deps);break;case 2048:n=Ai(t,e.deps[0]);break;case 256:n=e.value}return void 0===n?wi:n}function Ti(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const r=n[e];return r.viewContainerParent=null,Ii(n,e),Ar.dirtyParentQueries(r),Oi(r),r}function Ni(t,e,n){const r=e?Gr(e,e.def.lastRenderRootNode):t.renderElement;ri(n,2,n.renderer.parentNode(r),n.renderer.nextSibling(r),void 0)}function Oi(t){ri(t,3,null,null,void 0)}function Pi(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ii(t,e){e>=t.length-1?t.pop():t.splice(e,1)}const Ri=new Object;function Di(t,e,n,r,i,o){return new Li(t,e,n,r,i,o)}function Vi(t){return t.viewDefFactory}class Li extends me{constructor(t,e,n,r,i,o){super(),this.selector=t,this.componentType=e,this._inputs=r,this._outputs=i,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,r){if(!r)throw new Error("ngModule should be provided");const i=ni(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=Ar.createRootView(t,e||[],n,i,r,Ri),a=Cr(s,o).instance;return n&&s.renderer.setAttribute(wr(s,0).renderElement,"ng-version",L.full),new Fi(s,new Hi(s),a)}}class Fi extends ge{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new yn(wr(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new qi(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function ji(t,e,n){return new zi(t,e,n)}class zi{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new yn(this._data.renderElement)}get injector(){return new qi(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=qr(t),t=t.parent;return t?new qi(t,e):new qi(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=Ti(this._data,t);Ar.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new Hi(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;i||t instanceof _e||(i=o.get(we));const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,r){let i=e.viewContainer._embeddedViews;null!==n&&void 0!==n||(n=i.length),r.viewContainerParent=t,Pi(i,n,r),function(t,e){const n=$r(e);if(!n||n===t||16&e.state)return;e.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,r),Ar.dirtyParentQueries(r),Ni(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,r){const i=t.viewContainer._embeddedViews,o=i[n];Ii(i,n),null==r&&(r=i.length),Pi(i,r,o),Ar.dirtyParentQueries(o),Oi(o),Ni(t,r>0?i[r-1]:null,o)}(this._data,0,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=Ti(this._data,t);e&&Ar.destroyView(e)}detach(t){const e=Ti(this._data,t);return e?new Hi(e):null}}function Wi(t){return new Hi(t)}class Hi{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return ri(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Hr(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin(),Ar.checkAndUpdateView(this._view),t.end&&t.end()}checkNoChanges(){Ar.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Ar.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Oi(this._view),Ar.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function Ui(t,e){return new Bi(t,e)}class Bi extends Nn{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new Hi(Ar.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new yn(wr(this._parentView,this._def.nodeIndex).renderElement)}}function $i(t,e){return new qi(t,e)}class qi{constructor(t,e){this.view=t,this.elDef=e}get(t,e=nt.THROW_IF_NOT_FOUND){return Ar.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Ir(t)},e)}}function Gi(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=wr(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return _r(t,n.nodeIndex).renderText;if(20240&n.flags)return Cr(t,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${e}`)}function Zi(t){return new Yi(t.renderer)}class Yi{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,r]=ui(e),i=this.delegate.createElement(r,n);return t&&this.delegate.appendChild(t,i),i}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t);for(let i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[r,i]=ui(e);null!=n?this.delegate.setAttribute(t,i,n,r):this.delegate.removeAttribute(t,i,r)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function Xi(t,e,n,r){return new Ki(t,e,n,r)}class Ki{constructor(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let r=0;r<e.providers.length;r++){const i=e.providers[r];4096&i.flags||(n[r]=Si(t,i))}}(this)}get(t,e=nt.THROW_IF_NOT_FOUND){return Ai(this,{token:t,tokenKey:Ir(t),flags:0},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(be)}get injector(){return this}destroy(){if(this._destroyed)throw new Error(`The ng module ${K(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def;for(let r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){const e=t._providers[r];e&&e!==wi&&e.ngOnDestroy()}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const Qi=Ir(fn),Ji=Ir(vn),to=Ir(yn),eo=Ir(On),no=Ir(Nn),ro=Ir(Pn),io=Ir(nt);function oo(t,e,n,r,i,o,s,a){const l=[];if(s)for(let c in s){const[t,e]=s[c];l[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const u=[];if(a)for(let c in a)u.push({type:1,propName:c,target:null,eventName:a[c]});return lo(t,e|=16384,n,r,i,i,o,l,u)}function so(t,e,n){return lo(-1,t|=16,null,0,e,e,n)}function ao(t,e,n,r,i){return lo(-1,t,e,0,n,r,i)}function lo(t,e,n,r,i,o,s,a,l){const{matchedQueries:u,references:c,matchedQueryIds:d}=Qr(n);l||(l=[]),a||(a=[]),o=J(o);const h=Jr(s);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:d,references:c,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:ci(a),outputs:l,element:null,provider:{token:i,value:o,deps:h},text:null,query:null,ngContent:null}}function uo(t,e){return po(t,e)}function co(t,e){let n=t;for(;n.parent&&!Yr(n);)n=n.parent;return go(n.parent,qr(n),!0,e.provider.value,e.provider.deps)}function ho(t,e){const n=go(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let r=0;r<e.outputs.length;r++){const i=e.outputs[r],o=n[i.propName].subscribe(fo(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=o.unsubscribe.bind(o)}return n}function fo(t,e,n){return r=>Br(t,e,n,r)}function po(t,e){const n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return go(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){const o=i.length;switch(o){case 0:return r();case 1:return r(vo(t,e,n,i[0]));case 2:return r(vo(t,e,n,i[0]),vo(t,e,n,i[1]));case 3:return r(vo(t,e,n,i[0]),vo(t,e,n,i[1]),vo(t,e,n,i[2]));default:const s=Array(o);for(let r=0;r<o;r++)s[r]=vo(t,e,n,i[r]);return r(...s)}}(t,e.parent,n,r.value,r.deps);case 2048:return vo(t,e.parent,n,r.deps[0]);case 256:return r.value}}function go(t,e,n,r,i){const o=i.length;switch(o){case 0:return new r;case 1:return new r(vo(t,e,n,i[0]));case 2:return new r(vo(t,e,n,i[0]),vo(t,e,n,i[1]));case 3:return new r(vo(t,e,n,i[0]),vo(t,e,n,i[1]),vo(t,e,n,i[2]));default:const s=new Array(o);for(let r=0;r<o;r++)s[r]=vo(t,e,n,i[r]);return new r(...s)}}const mo={};function vo(t,e,n,r,i=nt.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const o=t;2&r.flags&&(i=null);const s=r.tokenKey;for(s===ro&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);t;){if(e)switch(s){case Qi:return Zi(yo(t,e,n));case Ji:return yo(t,e,n).renderer;case to:return new yn(wr(t,e.nodeIndex).renderElement);case eo:return wr(t,e.nodeIndex).viewContainer;case no:if(e.element.template)return wr(t,e.nodeIndex).template;break;case ro:return Wi(yo(t,e,n));case io:return $i(t,e);default:const r=(n?e.element.allProviders:e.element.publicProviders)[s];if(r){let e=Cr(t,r.nodeIndex);return e||(e={instance:po(t,r)},t.nodes[r.nodeIndex]=e),e.instance}}n=Yr(t),e=qr(t),t=t.parent}const a=o.root.injector.get(r.token,mo);return a!==mo||i===mo?a:o.root.ngModule.injector.get(r.token,i)}function yo(t,e,n){let r;if(n)r=wr(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Yr(r);)r=r.parent;return r}function bo(t,e,n,r,i,o){if(32768&n.flags){const e=wr(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};let e=t.oldValues[n.bindingIndex+r];e instanceof Un&&(e=e.wrapped),o[n.bindings[r].nonMinifiedName]=new $n(e,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function xo(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;for(let r=0;r<n.length;r++){const i=n[r];let o=i.parent;for(!o&&i.flags&e&&wo(t,r,i.flags&e),0==(i.childFlags&e)&&(r+=i.childCount);o&&1&o.flags&&r===o.nodeIndex+o.childCount;)o.directChildFlags&e&&_o(t,o,e),o=o.parent}}function _o(t,e,n){for(let r=e.nodeIndex+1;r<=e.nodeIndex+e.childCount;r++){const e=t.def.nodes[r];e.flags&n&&wo(t,r,e.flags&n),r+=e.childCount}}function wo(t,e,n){const r=Cr(t,e);if(!r)return;const i=r.instance;i&&(Ar.setCurrentNode(t,e),1048576&n&&i.ngAfterContentInit(),2097152&n&&i.ngAfterContentChecked(),4194304&n&&i.ngAfterViewInit(),8388608&n&&i.ngAfterViewChecked(),131072&n&&i.ngOnDestroy())}function Co(t,e,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Kr(e),bindings:r},ngContent:null}}function ko(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&Xr(t);){let n=t.parentNodeDef;t=t.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=t.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&Mr(t,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&Mr(t,n).setDirty(),n+=e.childCount}}function Mo(t,e){const n=Mr(t,e.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&e.flags){const n=e.parent.parent;i=Eo(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),r=Cr(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Eo(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);const o=e.query.bindings;let s=!1;for(let a=0;a<o.length;a++){const t=o[a];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,s=!0}r[t.propName]=e}s&&n.notifyOnChanges()}function Eo(t,e,n,r,i){for(let o=e;o<=n;o++){const e=t.def.nodes[o],n=e.matchedQueries[r.id];if(null!=n&&i.push(Ao(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=wr(t,o);if((e.childMatchedQueries&r.filterId)===r.filterId&&(Eo(t,o+1,o+e.childCount,r,i),o+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const o=t[e],s=$r(o);s&&s===n&&Eo(o,0,o.def.nodes.length-1,r,i)}}const s=n.template._projectedViews;if(s)for(let t=0;t<s.length;t++){const e=s[t];Eo(e,0,e.def.nodes.length-1,r,i)}}(e.childMatchedQueries&r.filterId)!==r.filterId&&(o+=e.childCount)}return i}function Ao(t,e,n){if(null!=n)switch(n){case 1:return wr(t,e.nodeIndex).renderElement;case 0:return new yn(wr(t,e.nodeIndex).renderElement);case 2:return wr(t,e.nodeIndex).template;case 3:return wr(t,e.nodeIndex).viewContainer;case 4:return Cr(t,e.nodeIndex).instance}}function So(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function To(t,e,n){const r=ti(t,e,n);r&&oi(t,n.ngContent.index,1,r,null,void 0)}function No(t,e){return Io(128,t,new Array(e+1))}function Oo(t,e){return Io(32,t,new Array(e))}function Po(t,e){const n=Object.keys(e),r=n.length,i=new Array(r);for(let o=0;o<r;o++){const t=n[o];i[e[t]]=t}return Io(64,t,i)}function Io(t,e,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const t=n[i];r[i]={flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:ci(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Ro(t,e,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Do(t,e,n){let r;const i=t.renderer;r=i.createText(n.text.prefix);const o=ti(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function Vo(t,e){return(null!=t?t.toString():"")+e.suffix}function Lo(t,e,n,r){let i=0,o=0,s=0,a=0,l=0,u=null,c=null,d=!1,h=!1,f=null;for(let p=0;p<e.length;p++){const t=e[p];if(t.nodeIndex=p,t.parent=u,t.bindingIndex=i,t.outputIndex=o,t.renderParent=c,s|=t.flags,l|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=u?u.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,d=!1,h=!1,t.element.template&&(l|=t.element.template.nodeMatchedQueries)}if(jo(u,t,e.length),i+=t.bindings.length,o+=t.outputs.length,!c&&3&t.flags&&(f=t),20224&t.flags){d||(d=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?u.element.publicProviders[Ir(t.provider.token)]=t:(h||(h=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Ir(t.provider.token)]=t),e&&(u.element.componentProvider=t)}if(u?(u.childFlags|=t.flags,u.directChildFlags|=t.flags,u.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(u.childMatchedQueries|=t.element.template.nodeMatchedQueries)):a|=t.flags,t.childCount>0)u=t,Fo(t)||(c=t);else for(;u&&p===u.nodeIndex+u.childCount;){const t=u.parent;t&&(t.childFlags|=u.childFlags,t.childMatchedQueries|=u.childMatchedQueries),c=(u=t)&&Fo(u)?u.renderParent:u}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:n||Or,updateRenderer:r||Or,handleEvent:(t,n,r,i)=>e[n].element.handleEvent(t,r,i),bindingCount:i,outputCount:o,lastRenderRootNode:f}}function Fo(t){return 0!=(1&t.flags)&&null===t.element.name}function jo(t,e,n){const r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function zo(t,e,n,r){const i=Uo(t.root,t.renderer,t,e,n);return Bo(i,t.component,r),$o(i),i}function Wo(t,e,n){const r=Uo(t,t.renderer,null,null,e);return Bo(r,n,n),$o(r),r}function Ho(t,e,n,r){const i=e.element.componentRendererType;let o;return o=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,Uo(t.root,o,t,e.element.componentProvider,n)}function Uo(t,e,n,r,i){const o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:s}}function Bo(t,e,n){t.component=e,t.context=n}function $o(t){let e;Yr(t)&&(e=wr(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,r=t.nodes;for(let i=0;i<n.nodes.length;i++){const o=n.nodes[i];let s;switch(Ar.setCurrentNode(t,i),201347067&o.flags){case 1:const n=yi(t,e,o);let a=void 0;if(33554432&o.flags){const e=ni(o.element.componentView);a=Ar.createComponentView(t,o,e,n)}bi(t,a,o,n),s={renderElement:n,componentView:a,viewContainer:null,template:o.element.template?Ui(t,o):void 0},16777216&o.flags&&(s.viewContainer=ji(t,o,s));break;case 2:s=Do(t,e,o);break;case 512:case 1024:case 2048:case 256:(s=r[i])||4096&o.flags||(s={instance:uo(t,o)});break;case 16:s={instance:co(t,o)};break;case 16384:(s=r[i])||(s={instance:ho(t,o)}),32768&o.flags&&Bo(wr(t,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new Cn;break;case 8:To(t,e,o),s=void 0}r[i]=s}ts(t,Jo.CreateViewNodes),is(t,201326592,268435456,0)}function qo(t){Yo(t),Ar.updateDirectives(t,1),es(t,Jo.CheckNoChanges),Ar.updateRenderer(t,1),ts(t,Jo.CheckNoChanges),t.state&=-97}function Go(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Yo(t),Ar.updateDirectives(t,0),es(t,Jo.CheckAndUpdate),is(t,67108864,536870912,0),xo(t,2097152|(2&t.state?1048576:0)),Ar.updateRenderer(t,0),ts(t,Jo.CheckAndUpdate),is(t,134217728,536870912,0),xo(t,8388608|(2&t.state?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97}function Zo(t,e,n,r,i,o,s,a,l,u,c,d,h){return 0===n?function(t,e,n,r,i,o,s,a,l,u,c,d){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,s,a,l,u,c,d){const h=e.bindings.length;let f=!1;return h>0&&_i(t,e,0,n)&&(f=!0),h>1&&_i(t,e,1,r)&&(f=!0),h>2&&_i(t,e,2,i)&&(f=!0),h>3&&_i(t,e,3,o)&&(f=!0),h>4&&_i(t,e,4,s)&&(f=!0),h>5&&_i(t,e,5,a)&&(f=!0),h>6&&_i(t,e,6,l)&&(f=!0),h>7&&_i(t,e,7,u)&&(f=!0),h>8&&_i(t,e,8,c)&&(f=!0),h>9&&_i(t,e,9,d)&&(f=!0),f}(t,e,n,r,i,o,s,a,l,u,c,d);case 2:return function(t,e,n,r,i,o,s,a,l,u,c,d){let h=!1;const f=e.bindings,p=f.length;if(p>0&&zr(t,e,0,n)&&(h=!0),p>1&&zr(t,e,1,r)&&(h=!0),p>2&&zr(t,e,2,i)&&(h=!0),p>3&&zr(t,e,3,o)&&(h=!0),p>4&&zr(t,e,4,s)&&(h=!0),p>5&&zr(t,e,5,a)&&(h=!0),p>6&&zr(t,e,6,l)&&(h=!0),p>7&&zr(t,e,7,u)&&(h=!0),p>8&&zr(t,e,8,c)&&(h=!0),p>9&&zr(t,e,9,d)&&(h=!0),h){let h=e.text.prefix;p>0&&(h+=Vo(n,f[0])),p>1&&(h+=Vo(r,f[1])),p>2&&(h+=Vo(i,f[2])),p>3&&(h+=Vo(o,f[3])),p>4&&(h+=Vo(s,f[4])),p>5&&(h+=Vo(a,f[5])),p>6&&(h+=Vo(l,f[6])),p>7&&(h+=Vo(u,f[7])),p>8&&(h+=Vo(c,f[8])),p>9&&(h+=Vo(d,f[9]));const g=_r(t,e.nodeIndex).renderText;t.renderer.setValue(g,h)}return h}(t,e,n,r,i,o,s,a,l,u,c,d);case 16384:return function(t,e,n,r,i,o,s,a,l,u,c,d){const h=Cr(t,e.nodeIndex),f=h.instance;let p=!1,g=void 0;const m=e.bindings.length;return m>0&&jr(t,e,0,n)&&(p=!0,g=bo(t,h,e,0,n,g)),m>1&&jr(t,e,1,r)&&(p=!0,g=bo(t,h,e,1,r,g)),m>2&&jr(t,e,2,i)&&(p=!0,g=bo(t,h,e,2,i,g)),m>3&&jr(t,e,3,o)&&(p=!0,g=bo(t,h,e,3,o,g)),m>4&&jr(t,e,4,s)&&(p=!0,g=bo(t,h,e,4,s,g)),m>5&&jr(t,e,5,a)&&(p=!0,g=bo(t,h,e,5,a,g)),m>6&&jr(t,e,6,l)&&(p=!0,g=bo(t,h,e,6,l,g)),m>7&&jr(t,e,7,u)&&(p=!0,g=bo(t,h,e,7,u,g)),m>8&&jr(t,e,8,c)&&(p=!0,g=bo(t,h,e,8,c,g)),m>9&&jr(t,e,9,d)&&(p=!0,g=bo(t,h,e,9,d,g)),g&&f.ngOnChanges(g),2&t.state&&65536&e.flags&&f.ngOnInit(),262144&e.flags&&f.ngDoCheck(),p}(t,e,n,r,i,o,s,a,l,u,c,d);case 32:case 64:case 128:return function(t,e,n,r,i,o,s,a,l,u,c,d){const h=e.bindings;let f=!1;const p=h.length;if(p>0&&zr(t,e,0,n)&&(f=!0),p>1&&zr(t,e,1,r)&&(f=!0),p>2&&zr(t,e,2,i)&&(f=!0),p>3&&zr(t,e,3,o)&&(f=!0),p>4&&zr(t,e,4,s)&&(f=!0),p>5&&zr(t,e,5,a)&&(f=!0),p>6&&zr(t,e,6,l)&&(f=!0),p>7&&zr(t,e,7,u)&&(f=!0),p>8&&zr(t,e,8,c)&&(f=!0),p>9&&zr(t,e,9,d)&&(f=!0),f){const f=kr(t,e.nodeIndex);let g;switch(201347067&e.flags){case 32:g=new Array(h.length),p>0&&(g[0]=n),p>1&&(g[1]=r),p>2&&(g[2]=i),p>3&&(g[3]=o),p>4&&(g[4]=s),p>5&&(g[5]=a),p>6&&(g[6]=l),p>7&&(g[7]=u),p>8&&(g[8]=c),p>9&&(g[9]=d);break;case 64:g={},p>0&&(g[h[0].name]=n),p>1&&(g[h[1].name]=r),p>2&&(g[h[2].name]=i),p>3&&(g[h[3].name]=o),p>4&&(g[h[4].name]=s),p>5&&(g[h[5].name]=a),p>6&&(g[h[6].name]=l),p>7&&(g[h[7].name]=u),p>8&&(g[h[8].name]=c),p>9&&(g[h[9].name]=d);break;case 128:const t=n;switch(p){case 1:g=t.transform(n);break;case 2:g=t.transform(r);break;case 3:g=t.transform(r,i);break;case 4:g=t.transform(r,i,o);break;case 5:g=t.transform(r,i,o,s);break;case 6:g=t.transform(r,i,o,s,a);break;case 7:g=t.transform(r,i,o,s,a,l);break;case 8:g=t.transform(r,i,o,s,a,l,u);break;case 9:g=t.transform(r,i,o,s,a,l,u,c);break;case 10:g=t.transform(r,i,o,s,a,l,u,c,d)}}f.value=g}return f}(t,e,n,r,i,o,s,a,l,u,c,d);default:throw"unreachable"}}(t,e,r,i,o,s,a,l,u,c,d,h):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let r=!1;for(let i=0;i<n.length;i++)_i(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)zr(t,e,o,n[o])&&(i=!0);if(i){let i="";for(let t=0;t<n.length;t++)i+=Vo(n[t],r[t]);i=e.text.prefix+i;const o=_r(t,e.nodeIndex).renderText;t.renderer.setValue(o,i)}return i}(t,e,n);case 16384:return function(t,e,n){const r=Cr(t,e.nodeIndex),i=r.instance;let o=!1,s=void 0;for(let a=0;a<n.length;a++)jr(t,e,a,n[a])&&(o=!0,s=bo(t,r,e,a,n[a],s));return s&&i.ngOnChanges(s),2&t.state&&65536&e.flags&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)zr(t,e,o,n[o])&&(i=!0);if(i){const i=kr(t,e.nodeIndex);let o;switch(201347067&e.flags){case 32:o=n;break;case 64:o={};for(let e=0;e<n.length;e++)o[r[e].name]=n[e];break;case 128:const t=n[0],i=n.slice(1);o=t.transform(...i)}i.value=o}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function Yo(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const r=e.nodes[n];if(4&r.flags){const e=wr(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const r=e[n];r.state|=32,Ur(r,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Xo(t,e,n,r,i,o,s,a,l,u,c,d,h){return 0===n?function(t,e,n,r,i,o,s,a,l,u,c,d){const h=e.bindings.length;h>0&&Wr(t,e,0,n),h>1&&Wr(t,e,1,r),h>2&&Wr(t,e,2,i),h>3&&Wr(t,e,3,o),h>4&&Wr(t,e,4,s),h>5&&Wr(t,e,5,a),h>6&&Wr(t,e,6,l),h>7&&Wr(t,e,7,u),h>8&&Wr(t,e,8,c),h>9&&Wr(t,e,9,d)}(t,e,r,i,o,s,a,l,u,c,d,h):function(t,e,n){for(let r=0;r<n.length;r++)Wr(t,e,r,n[r])}(t,e,r),!1}function Ko(t,e){if(Mr(t,e.nodeIndex).dirty)throw Sr(Ar.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function Qo(t){if(!(128&t.state)){if(es(t,Jo.Destroy),ts(t,Jo.Destroy),xo(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=$r(t);if(e){const n=e.template._projectedViews;n&&(Ii(n,n.indexOf(t)),Ar.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(wr(t,n).renderElement):2&e.flags?t.renderer.destroyNode(_r(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&Mr(t,n).destroy()}}(t),Yr(t)&&t.renderer.destroy(),t.state|=128}}const Jo=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function ts(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?ns(wr(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function es(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=wr(t,r).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)ns(n[t],e)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function ns(t,e){const n=t.state;switch(e){case Jo.CheckNoChanges:0==(128&n)&&(12==(12&n)?qo(t):64&n&&rs(t,Jo.CheckNoChangesProjectedViews));break;case Jo.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?qo(t):64&n&&rs(t,e));break;case Jo.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Go(t):64&n&&rs(t,Jo.CheckAndUpdateProjectedViews));break;case Jo.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Go(t):64&n&&rs(t,e));break;case Jo.Destroy:Qo(t);break;case Jo.CreateViewNodes:$o(t)}}function rs(t,e){es(t,e),ts(t,e)}function is(t,e,n,r){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const i=t.def.nodes.length;for(let o=0;o<i;o++){const i=t.def.nodes[o];if(i.flags&e&&i.flags&n)switch(Ar.setCurrentNode(t,i.nodeIndex),r){case 0:Mo(t,i);break;case 1:Ko(t,i)}i.childFlags&e&&i.childFlags&n||(o+=i.childCount)}}let os=!1;function ss(){if(os)return;os=!0;const t=Je()?{setCurrentNode:Es,createRootView:ls,createEmbeddedView:cs,createComponentView:ds,createNgModuleRef:hs,overrideProvider:ps,clearProviderOverrides:gs,checkAndUpdateView:bs,checkNoChangesView:xs,destroyView:_s,createDebugContext:(t,e)=>new Ls(t,e),handleEvent:As,updateDirectives:Ss,updateRenderer:Ts}:{setCurrentNode:()=>{},createRootView:as,createEmbeddedView:zo,createComponentView:Ho,createNgModuleRef:Xi,overrideProvider:Or,clearProviderOverrides:Or,checkAndUpdateView:Go,checkNoChangesView:qo,destroyView:Qo,createDebugContext:(t,e)=>new Ls(t,e),handleEvent:(t,e,n,r)=>t.def.handleEvent(t,e,n,r),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?vs:ys,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?vs:ys,t)};Ar.setCurrentNode=t.setCurrentNode,Ar.createRootView=t.createRootView,Ar.createEmbeddedView=t.createEmbeddedView,Ar.createComponentView=t.createComponentView,Ar.createNgModuleRef=t.createNgModuleRef,Ar.overrideProvider=t.overrideProvider,Ar.clearProviderOverrides=t.clearProviderOverrides,Ar.checkAndUpdateView=t.checkAndUpdateView,Ar.checkNoChangesView=t.checkNoChangesView,Ar.destroyView=t.destroyView,Ar.resolveDep=vo,Ar.createDebugContext=t.createDebugContext,Ar.handleEvent=t.handleEvent,Ar.updateDirectives=t.updateDirectives,Ar.updateRenderer=t.updateRenderer,Ar.dirtyParentQueries=ko}function as(t,e,n,r,i,o){return Wo(us(t,i,i.injector.get(gn),e,n),r,o)}function ls(t,e,n,r,i,o){const s=i.injector.get(gn),a=us(t,i,new Ws(s),e,n),l=ms(r);return js(ws.create,Wo,null,[a,l,o])}function us(t,e,n,r,i){const o=e.injector.get(xr),s=e.injector.get(kt);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:s}}function cs(t,e,n,r){const i=ms(n);return js(ws.create,zo,null,[t,e,i,r])}function ds(t,e,n,r){const i=ms(n);return js(ws.create,Ho,null,[t,e,i,r])}function hs(t,e,n,r){return Xi(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===fs.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(t=>{const r=fs.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const r=t.providers[e];n&&(r.flags|=4096);const i=fs.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Jr(i.deps),r.value=i.value)}}(t=t.factory(()=>Or)),t):t}(r))}const fs=new Map;function ps(t){fs.set(t.token,t)}function gs(){fs.clear()}function ms(t){if(0===fs.size)return t;const e=function(t){const e=[];let n=null;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&fs.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>Or);for(let r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=fs.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=Jr(n.deps),t.value=n.value)}}}}function vs(t,e,n,r,i,o,s,a,l,u,c,d,h){const f=t.def.nodes[e];return Zo(t,f,n,r,i,o,s,a,l,u,c,d,h),224&f.flags?kr(t,e).value:void 0}function ys(t,e,n,r,i,o,s,a,l,u,c,d,h){const f=t.def.nodes[e];return Xo(t,f,n,r,i,o,s,a,l,u,c,d,h),224&f.flags?kr(t,e).value:void 0}function bs(t){return js(ws.detectChanges,Go,null,[t])}function xs(t){return js(ws.checkNoChanges,qo,null,[t])}function _s(t){return js(ws.destroy,Qo,null,[t])}const ws=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let Cs,ks,Ms;function Es(t,e){ks=t,Ms=e}function As(t,e,n,r){return Es(t,e),js(ws.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Ss(t,e){if(128&t.state)throw Nr(ws[Cs]);return Es(t,Ds(t,0)),t.def.updateDirectives(function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?Ns(t,o,r,i):Os(t,o,r,i),16384&o.flags&&Es(t,Ds(t,n)),224&o.flags?kr(t,o.nodeIndex).value:void 0},t)}function Ts(t,e){if(128&t.state)throw Nr(ws[Cs]);return Es(t,Vs(t,0)),t.def.updateRenderer(function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?Ns(t,o,r,i):Os(t,o,r,i),3&o.flags&&Es(t,Vs(t,n)),224&o.flags?kr(t,o.nodeIndex).value:void 0},t)}function Ns(t,e,n,r){if(Zo(t,e,n,...r)){const i=1===n?r[0]:r;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const r=e.bindings[t],o=i[t];8&r.flags&&(n[Ps(r.nonMinifiedName)]=Rs(o))}const r=e.parent,o=wr(t,r.nodeIndex).renderElement;if(r.element.name)for(let e in n){const r=n[e];null!=r?t.renderer.setAttribute(o,e,r):t.renderer.removeAttribute(o,e)}else t.renderer.setValue(o,`bindings=${JSON.stringify(n,null,2)}`)}}}function Os(t,e,n,r){Xo(t,e,n,...r)}function Ps(t){return`ng-reflect-${t=t.replace(/[$@]/g,"_").replace(Is,(...t)=>"-"+t[1].toLowerCase())}`}const Is=/([A-Z])/g;function Rs(t){try{return null!=t?t.toString().slice(0,30):t}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function Ds(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function Vs(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class Ls{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,r=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=qr(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return wr(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return $i(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){Fs(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&Fs(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!Yr(t);)t=t.parent;return t.parent?wr(t.parent,qr(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Gr(this.view,this.nodeDef):Gr(this.elView,this.elDef)}logError(t,...e){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(t,e){let n=-1;for(let r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(n,r);let o=-1;n.factory(()=>++o===i?t.error.bind(t,...e):Or),o<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function Fs(t,e,n){for(let r in e.references)n[r]=Ao(t,e,e.references[r])}function js(t,e,n,r){const i=Cs,o=ks,s=Ms;try{Cs=t;const a=e.apply(n,r);return ks=o,Ms=s,Cs=i,a}catch(t){if(_t(t)||!ks)throw t;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),Tr(t,e),t}(t,zs())}}function zs(){return ks?new Ls(ks,Ms):null}class Ws{constructor(t){this.delegate=t}createRenderer(t,e){return new Hs(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class Hs{constructor(t){this.delegate=t}get data(){return this.delegate.data}destroyNode(t){!function(t){jn.delete(t.nativeNode)}(zn(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),r=zs();if(r){const e=new Ln(n,null,r);e.name=t,Wn(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=zs();return n&&Wn(new Vn(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=zs();return n&&Wn(new Vn(e,null,n)),e}appendChild(t,e){const n=zn(t),r=zn(e);n&&r&&n instanceof Ln&&n.addChild(r),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const r=zn(t),i=zn(e),o=zn(n);r&&i&&r instanceof Ln&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=zn(t),r=zn(e);n&&r&&n instanceof Ln&&n.removeChild(r),this.delegate.removeChild(t,e)}selectRootElement(t){const e=this.delegate.selectRootElement(t),n=zs();return n&&Wn(new Ln(e,null,n)),e}setAttribute(t,e,n,r){const i=zn(t);i&&i instanceof Ln&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){const r=zn(t);r&&r instanceof Ln&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=zn(t);n&&n instanceof Ln&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=zn(t);n&&n instanceof Ln&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,r){const i=zn(t);i&&i instanceof Ln&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){const r=zn(t);r&&r instanceof Ln&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const r=zn(t);r&&r instanceof Ln&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const r=zn(t);r&&r.listeners.push(new Dn(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function Us(t){return ss(),Ar.overrideProvider(t)}function Bs(){return ss(),Ar.clearProviderOverrides()}function $s(t,e,n){return new qs(t,e,n)}class qs extends Ce{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){ss();const e=ni(this._ngModuleDefFactory);return Ar.createNgModuleRef(this.moduleType,t||nt.NULL,this._bootstrapComponents,e)}}function Gs(t,e){return{type:7,name:t,definitions:e,options:{}}}function Zs(t,e=null){return{type:4,styles:e,timings:t}}function Ys(t,e=null){return{type:3,steps:t,options:e}}function Xs(t,e=null){return{type:2,steps:t,options:e}}function Ks(t){return{type:6,styles:t,offset:null}}function Qs(t,e,n){return{type:0,name:t,styles:e,options:n}}function Js(t){return{type:5,steps:t}}function ta(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}const ea="*";function na(t,e){return Gs(t,e)}function ra(t,e){return Zs(t,e)}function ia(t){return Ys(t)}function oa(t){return Xs(t)}function sa(t){return Ks(t)}function aa(t,e){return Qs(t,e)}function la(t){return Js(t)}function ua(t,e){return ta(t,e)}}).call(e,n("DuR2"))},"4uaT":function(t,e,n){"use strict";var r=n("TToO").__decorate,i=n("TToO").__metadata;Object.defineProperty(e,"__esModule",{value:!0});var o=n("48oy"),s=n("Bji7");e.NvD3Component=function(){function t(t){this.el=t,this.ngNvD3=new s.Angular2NvD3.NgNvD3(this.el)}return t.prototype.ngOnChanges=function(t){this.ngNvD3.updateWithOptions(this.options,this.data)},t.prototype.ngOnInit=function(){this.ngNvD3.isViewInitialize(!0),this.ngNvD3.updateWithOptions(this.options,this.data)},r([o.Input(),i("design:type",Object)],t.prototype,"options",void 0),r([o.Input(),i("design:type",Object)],t.prototype,"data",void 0),r([o.Component({selector:"nvd3",template:""})],t)}()},"6MRC":function(t,e,n){"use strict";const r=Array.isArray||(t=>t&&"number"==typeof t.length);e.a=r},"73El":function(t,e,n){"use strict";var r=n("bbL7"),i=n("crq8"),o=n("jzaW"),s=n("FvzS"),a=n("ves3"),l=n("dzdQ"),u=n("2zkT");class c extends u.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var d=n("zOxy");e.a=function(t,e,n,u){let h=new c(t,n,u);if(h.closed)return null;if(e instanceof a.a)return e._isScalar?(h.next(e.value),h.complete(),null):(h.syncErrorThrowable=!0,e.subscribe(h));if(Object(i.a)(e)){for(let t=0,n=e.length;t<n&&!h.closed;t++)h.next(e[t]);h.closed||h.complete()}else{if(Object(o.a)(e))return e.then(t=>{h.closed||(h.next(t),h.complete())},t=>h.error(t)).then(null,t=>{r.a.setTimeout(()=>{throw t})}),h;if(e&&"function"==typeof e[l.a]){const t=e[l.a]();for(;;){let e=t.next();if(e.done){h.complete();break}if(h.next(e.value),h.closed)break}}else if(e&&"function"==typeof e[d.a]){const r=e[d.a]();if("function"==typeof r.subscribe)return r.subscribe(new c(t,n,u));h.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{const t=`You provided ${Object(s.a)(e)?"an invalid object":`'${e}'`} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.";h.error(new TypeError(t))}}return null}},"73T8":function(t,e,n){"use strict";const r=n("bbL7").a.Symbol,i="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber";e.a=i},"7VlU":function(t,e,n){"use strict";function r(){}function i(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:r}e.a=function(...t){return i(t)},e.b=i},"7nan":function(t,e,n){"use strict";e.a=class extends Error{constructor(){const t=super("object unsubscribed");this.name=t.name="ObjectUnsubscribedError",this.stack=t.stack,this.message=t.message}}},Bji7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("Za4h"),i=n("Oawl");!function(t){var e=function(){function t(t){this.viewInitialize=!1,this.el=t}return t.prototype.isViewInitialize=function(t){this.viewInitialize=t},t.prototype.updateWithOptions=function(t,e){if(this.viewInitialize&&t){var n=this;for(var r in this.clearElement(),this.chart=i.models[t.chart.type](),this.chart.id=Math.random().toString(36).substr(2,15),this.chart)this.chart.hasOwnProperty(r)&&("_"===r[0]||["clearHighlights","highlightPoint","id","options","resizeHandler","state","open","close","tooltipContent"].indexOf(r)>=0||("dispatch"===r?this.configureEvents(this.chart[r],t.chart[r]):["bars","bars1","bars2","boxplot","bullet","controls","discretebar","distX","distY","interactiveLayer","legend","lines","lines1","lines2","multibar","pie","scatter","scatters1","scatters2","sparkline","stack1","stack2","sunburst","tooltip","x2Axis","xAxis","y1Axis","y2Axis","y3Axis","y4Axis","yAxis","yAxis1","yAxis2"].indexOf(r)>=0||"stacked"===r&&"stackedAreaChart"===t.chart.type?this.configure(this.chart[r],t.chart[r],t.chart.type):("xTickFormat"!==r&&"yTickFormat"!==r||"lineWithFocusChart"!==t.chart.type)&&("tooltips"===r&&"boxPlotChart"===t.chart.type||("tooltipXContent"!==r&&"tooltipYContent"!==r||"scatterChart"!==t.chart.type)&&(void 0===t.chart[r]||null===t.chart[r]||this.chart[r](t.chart[r])))));this.updateWithData(e,t),i.addGraph(function(){if(n.chart)return n.chart.resizeHandler&&n.chart.resizeHandler.clear(),n.chart.resizeHandler=i.utils.windowResize(function(){n.chart&&n.chart.update&&n.chart.update()}),n.chart},t.chart.callback)}},t.prototype.updateWithData=function(t,e){if(t){r.select(this.el.nativeElement).select("svg").remove();var n=void 0,i=void 0;this.svg=r.select(this.el.nativeElement).append("svg"),(n=e.chart.height)&&(isNaN(+n)||(n+="px"),this.svg.attr("height",n).style({height:n})),(i=e.chart.width)?(isNaN(+i)||(i+="px"),this.svg.attr("width",i).style({width:i})):this.svg.attr("width","100%").style({width:"100%"}),this.svg.datum(t).call(this.chart)}},t.prototype.configure=function(t,e,n){if(t&&e)for(var r in t)t.hasOwnProperty(r)&&("_"===r[0]||("dispatch"===r?this.configureEvents(t[r],e[r]):"tooltip"===r?this.configure(t[r],e[r],n):"contentGenerator"===r?e[r]&&t[r](e[r]):-1===["axis","clearHighlights","defined","highlightPoint","nvPointerEventsClass","options","rangeBand","rangeBands","scatter","open","close"].indexOf(r)&&(void 0===e[r]||null===e[r]||t[r](e[r]))))},t.prototype.configureEvents=function(t,e){if(t&&e)for(var n in t)t.hasOwnProperty(n)&&(void 0===e[n]||null===e[n]||t.on(n+"._",e[n]))},t.prototype.clearElement=function(){this.el.nativeElement.innerHTML="",this.chart&&this.chart.tooltip&&this.chart.tooltip.id&&r.select("#"+this.chart.tooltip.id()).remove(),i.tooltip&&i.tooltip.cleanup&&i.tooltip.cleanup(),this.chart&&this.chart.resizeHandler&&this.chart.resizeHandler.clear(),this.chart=null},t}();t.NgNvD3=e}(e.Angular2NvD3||(e.Angular2NvD3={}))},DuR2:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},FvzS:function(t,e,n){"use strict";e.a=function(t){return null!=t&&"object"==typeof t}},JEOp:function(t,e,n){"use strict";var r=n("2zkT");e.a=class extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},Jnfr:function(t,e){function n(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="Jnfr"},LiEr:function(t,e,n){"use strict";var r=n("W/Sc"),i=n("ves3"),o=n("2zkT"),s=n("s+UU");function a(){return function(t){return t.lift(new l(t))}}class l{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new u(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class u extends o.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const c=class extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new s.a).add(this.source.subscribe(new class extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}(this.getSubject(),this))),t.closed?(this._connection=null,t=s.a.EMPTY):this._connection=t),t}refCount(){return a()(this)}}.prototype,d={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:c._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}};function h(){return new r.a}e.a=function(){return(t=>a()(function(t,e){return function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,d);return r.source=e,r.subjectFactory=n,r}}(h)(t)))(this)}},NlKR:function(t,e,n){"use strict";var r=n("TToO").__decorate;Object.defineProperty(e,"__esModule",{value:!0});var i=n("48oy"),o=n("4uaT"),s=n("fTvt");e.NvD3Module=function(){return r([i.NgModule({declarations:[o.NvD3Component,s.NvD3Directive],exports:[o.NvD3Component,s.NvD3Directive]})],function(){})}()},Oawl:function(t,e,n){!function(){var r={dev:!1};r.tooltip=r.tooltip||{},r.utils=r.utils||{},r.models=r.models||{},r.charts={},r.logs={},r.dom={},"undefined"!=typeof t&&"undefined"!=typeof e&&"undefined"==typeof d3&&(d3=n("Za4h")),r.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),r.dev&&(r.dispatch.on("render_start",function(t){r.logs.startTime=+new Date}),r.dispatch.on("render_end",function(t){r.logs.endTime=+new Date,r.logs.totalTime=r.logs.endTime-r.logs.startTime,r.log("total",r.logs.totalTime)})),r.log=function(){return r.dev&&window.console&&console.log&&console.log.apply?console.log.apply(console,arguments):r.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind&&Function.prototype.bind.call(console.log,console).apply(console,arguments),arguments[arguments.length-1]},r.deprecated=function(t,e){console&&console.warn&&console.warn("nvd3 warning: `"+t+"` has been deprecated. ",e||"")},r.render=function(t){t=t||1,r.render.active=!0,r.dispatch.render_start();var e=function(){for(var n,i,o=0;o<t&&(i=r.render.queue[o]);o++)n=i.generate(),typeof i.callback==typeof Function&&i.callback(n);r.render.queue.splice(0,o),r.render.queue.length?setTimeout(e):(r.dispatch.render_end(),r.render.active=!1)};setTimeout(e)},r.render.active=!1,r.render.queue=[],r.addGraph=function(t){typeof arguments[0]==typeof Function&&(t={generate:arguments[0],callback:arguments[1]}),r.render.queue.push(t),r.render.active||r.render()},t.exports=r,"undefined"!=typeof window&&(window.nv=r),r.dom.write=function(t){return void 0!==window.fastdom?fastdom.mutate(t):t()},r.dom.read=function(t){return void 0!==window.fastdom?fastdom.measure(t):t()},r.interactiveGuideline=function(){"use strict";var t={left:0,top:0},e=null,n=null,i=d3.scale.linear(),o=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),s=!0,a=null,l=r.models.tooltip(),u=window.ActiveXObject;function c(d){d.each(function(d){var h=d3.select(this),f=e||960,p=n||400,g=h.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([d]);function m(){var e=d3.event.clientX-this.getBoundingClientRect().left,n=d3.event.clientY-this.getBoundingClientRect().top,r=!0,s=!1;if(u&&(e=d3.event.offsetX,n=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(r=!1),d3.event.target.className.baseVal.match("nv-legend")&&(s=!0)),r&&(e-=t.left,n-=t.top),"mouseout"===d3.event.type||e<0||n<0||e>f||n>p||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||s){if(u&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(l.nvPointerEventsClass)))return;return o.elementMouseout({mouseX:e,mouseY:n}),c.renderGuideLine(null),void l.hidden(!0)}l.hidden(!1);var a=void 0;if("function"==typeof i.rangeBands){var d=d3.bisect(i.range(),e)-1;if(!(i.range()[d]+i.rangeBand()>=e))return o.elementMouseout({mouseX:e,mouseY:n}),c.renderGuideLine(null),void l.hidden(!0);a=i.domain()[d3.bisect(i.range(),e)-1]}else a=i.invert(e);o.elementMousemove({mouseX:e,mouseY:n,pointXValue:a}),"dblclick"===d3.event.type&&o.elementDblclick({mouseX:e,mouseY:n,pointXValue:a}),"click"===d3.event.type&&o.elementClick({mouseX:e,mouseY:n,pointXValue:a}),"mousedown"===d3.event.type&&o.elementMouseDown({mouseX:e,mouseY:n,pointXValue:a}),"mouseup"===d3.event.type&&o.elementMouseUp({mouseX:e,mouseY:n,pointXValue:a})}g.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),a&&(a.on("touchmove",m).on("mousemove",m,!0).on("mouseout",m,!0).on("mousedown",m,!0).on("mouseup",m,!0).on("dblclick",m).on("click",m),c.guideLine=null,c.renderGuideLine=function(t){s&&(c.guideLine&&c.guideLine.attr("x1")===t||r.dom.write(function(){var e=g.select(".nv-interactiveGuideLine").selectAll("line").data(null!=t?[r.utils.NaNtoZero(t)]:[],String);e.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",p).attr("y2",0),e.exit().remove()}))})})}return l.duration(0).hideDelay(0).hidden(!1),c.dispatch=o,c.tooltip=l,c.margin=function(e){return arguments.length?(t.top="undefined"!=typeof e.top?e.top:t.top,t.left="undefined"!=typeof e.left?e.left:t.left,c):t},c.width=function(t){return arguments.length?(e=t,c):e},c.height=function(t){return arguments.length?(n=t,c):n},c.xScale=function(t){return arguments.length?(i=t,c):i},c.showGuideLine=function(t){return arguments.length?(s=t,c):s},c.svgContainer=function(t){return arguments.length?(a=t,c):a},c},r.interactiveBisect=function(t,e,n){"use strict";if(!(t instanceof Array))return null;var r;r="function"!=typeof n?function(t){return t.x}:n;var i=d3.bisector(function(t,e){return r(t)-e}).left,o=d3.max([0,i(t,e)-1]),s=r(t[o]);if("undefined"==typeof s&&(s=o),s===e)return o;var a=d3.min([o+1,t.length-1]),l=r(t[a]);return"undefined"==typeof l&&(l=a),Math.abs(l-e)>=Math.abs(s-e)?o:a},r.nearestValueIndex=function(t,e,n){"use strict";var r=1/0,i=null;return t.forEach(function(t,o){var s=Math.abs(e-t);null!=t&&s<=r&&s<n&&(r=s,i=o)}),i},r.models.tooltip=function(){"use strict";var t="nvtooltip-"+Math.floor(1e5*Math.random()),e=null,n="w",i=25,o=0,s=null,a=!0,l=200,u=null,c={left:null,top:null},d=!0,h=100,f=!0,p="nv-pointer-events-none",g=function(t,e,n){return t},m=function(t){return t},v=function(t,e){return t},y=function(t,e){if(null===t)return"";var n=d3.select(document.createElement("table"));f&&n.selectAll("thead").data([t]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(m(t.value));var r=n.selectAll("tbody").data([t]).enter().append("tbody").selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});r.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),r.append("td").classed("key",!0).classed("total",function(t){return!!t.total}).html(function(t,e){return v(t.key,e)}),r.append("td").classed("value",!0).html(function(t,e){return g(t.value,e,t)}),r.filter(function(t,e){return void 0!==t.percent}).append("td").classed("percent",!0).html(function(t,e){return"("+d3.format("%")(t.percent)+")"}),r.selectAll("td").each(function(t){if(t.highlight){var e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]);d3.select(this).style("border-bottom-color",e(.6)).style("border-top-color",e(.6))}});var i=n.node().outerHTML;return void 0!==t.footer&&(i+="<div class='footer'>"+t.footer+"</div>"),i},b=function(){var t={left:null!==d3.event?d3.event.clientX:0,top:null!==d3.event?d3.event.clientY:0};if("none"!=getComputedStyle(document.body).transform){var e=document.body.getBoundingClientRect();t.left-=e.left,t.top-=e.top}return t},x=function(t){if(t&&t.series){if(r.utils.isArray(t.series))return!0;if(r.utils.isObject(t.series))return t.series=[t.series],!0}return!1},_=function(){r.dom.read(function(){var t=b(),e=function(t){var e,r,o,s=u.node().offsetHeight,a=u.node().offsetWidth,l=document.documentElement.clientWidth,c=document.documentElement.clientHeight;switch(n){case"e":r=-s/2,t.left+(e=-a-i)<0&&(e=i),(o=t.top+r)<0&&(r-=o),(o=t.top+r+s)>c&&(r-=o-c);break;case"w":r=-s/2,t.left+(e=i)+a>l&&(e=-a-i),(o=t.top+r)<0&&(r-=o),(o=t.top+r+s)>c&&(r-=o-c);break;case"n":e=-a/2-5,t.top+(r=i)+s>c&&(r=-s-i),(o=t.left+e)<0&&(e-=o),(o=t.left+e+a)>l&&(e-=o-l);break;case"s":e=-a/2,t.top+(r=-s-i)<0&&(r=i),(o=t.left+e)<0&&(e-=o),(o=t.left+e+a)>l&&(e-=o-l);break;case"center":e=-a/2,r=-s/2;break;default:e=0,r=0}return{left:e,top:r}}(t),r=t.left+e.left,o=t.top+e.top;if(a)u.interrupt().transition().delay(l).duration(0).style("opacity",0);else{var s="translate("+c.left+"px, "+c.top+"px)",d="translate("+Math.round(r)+"px, "+Math.round(o)+"px)",f=d3.interpolateString(s,d),p=u.style("opacity")<.1;u.interrupt().transition().duration(p?0:h).styleTween("transform",function(t){return f},"important").styleTween("-webkit-transform",function(t){return f}).style("-ms-transform",d).style("opacity",1)}c.left=r,c.top=o})};function w(){if(d&&x(e))return r.dom.write(function(){u&&u.node()||((u=d3.select(document.body).select("#"+t).data([1])).enter().append("div").attr("class","nvtooltip "+(s||"xy-tooltip")).attr("id",t).style("top",0).style("left",0).style("opacity",0).style("position","fixed").selectAll("div, table, td, tr").classed(p,!0).classed(p,!0),u.exit().remove());var n=y(e,u.node());n&&(u.node().innerHTML=n),_()}),w}return w.nvPointerEventsClass=p,w.options=r.utils.optionsFunc.bind(w),w._options=Object.create({},{duration:{get:function(){return h},set:function(t){h=t}},gravity:{get:function(){return n},set:function(t){n=t}},distance:{get:function(){return i},set:function(t){i=t}},snapDistance:{get:function(){return o},set:function(t){o=t}},classes:{get:function(){return s},set:function(t){s=t}},enabled:{get:function(){return d},set:function(t){d=t}},hideDelay:{get:function(){return l},set:function(t){l=t}},contentGenerator:{get:function(){return y},set:function(t){y=t}},valueFormatter:{get:function(){return g},set:function(t){g=t}},headerFormatter:{get:function(){return m},set:function(t){m=t}},keyFormatter:{get:function(){return v},set:function(t){v=t}},headerEnabled:{get:function(){return f},set:function(t){f=t}},position:{get:function(){return b},set:function(t){b=t}},chartContainer:{get:function(){return document.body},set:function(t){r.deprecated("chartContainer","feature removed after 1.8.3")}},fixedTop:{get:function(){return null},set:function(t){r.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(t){r.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return a},set:function(t){a!=t&&(a=!!t,w())}},data:{get:function(){return e},set:function(t){t.point&&(t.value=t.point.x,t.series=t.series||{},t.series.value=t.point.y,t.series.color=t.point.color||t.series.color),e=t}},node:{get:function(){return u.node()},set:function(t){}},id:{get:function(){return t},set:function(t){}}}),r.utils.initOptions(w),w},r.utils.windowSize=function(){var t={width:640,height:480};return window.innerWidth&&window.innerHeight?(t.width=window.innerWidth,t.height=window.innerHeight,t):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight,t):document.body&&document.body.offsetWidth?(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight,t):t},r.utils.isArray=Array.isArray,r.utils.isObject=function(t){return null!==t&&"object"==typeof t},r.utils.isFunction=function(t){return"function"==typeof t},r.utils.isDate=function(t){return"[object Date]"===toString.call(t)},r.utils.isNumber=function(t){return!isNaN(t)&&"number"==typeof t},r.utils.windowResize=function(t){return window.addEventListener?window.addEventListener("resize",t):r.log("ERROR: Failed to bind to window.resize with: ",t),{callback:t,clear:function(){window.removeEventListener("resize",t)}}},r.utils.getColor=function(t){if(void 0===t)return r.utils.defaultColor();if(r.utils.isArray(t)){var e=d3.scale.ordinal().range(t);return function(t,n){return t.color||e(void 0===n?t:n)}}return t},r.utils.defaultColor=function(){return r.utils.getColor(d3.scale.category20().range())},r.utils.customTheme=function(t,e,n){e=e||function(t){return t.key};var i=(n=n||d3.scale.category20().range()).length;return function(o,s){var a=e(o);return r.utils.isFunction(t[a])?t[a]():void 0!==t[a]?t[a]:(i||(i=n.length),n[i-=1])}},r.utils.pjax=function(t,e){var n=function(n){d3.html(n,function(n){var i=d3.select(e).node();i.parentNode.replaceChild(d3.select(n).select(e).node(),i),r.utils.pjax(t,e)})};d3.selectAll(t).on("click",function(){history.pushState(this.href,this.textContent,this.href),n(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&n(d3.event.state)})},r.utils.calcApproxTextWidth=function(t){if(r.utils.isFunction(t.style)&&r.utils.isFunction(t.text)){var e=parseInt(t.style("font-size").replace("px",""),10),n=t.text().length;return r.utils.NaNtoZero(n*e*.5)}return 0},r.utils.NaNtoZero=function(t){return!r.utils.isNumber(t)||isNaN(t)||null===t||t===1/0||t===-1/0?0:t},d3.selection.prototype.watchTransition=function(t){var e=[this].concat([].slice.call(arguments,1));return t.transition.apply(t,e)},r.utils.renderWatch=function(t,e){if(!(this instanceof r.utils.renderWatch))return new r.utils.renderWatch(t,e);var n=void 0!==e?e:250,i=[],o=this;this.models=function(t){return[].slice.call(arguments,0).forEach(function(t){t.__rendered=!1,function(t){t.dispatch.on("renderEnd",function(e){t.__rendered=!0,o.renderEnd("model")})}(t),i.indexOf(t)<0&&i.push(t)}),this},this.reset=function(t){void 0!==t&&(n=t),i=[]},this.transition=function(t,e,r){if(r=(e=arguments.length>1?[].slice.call(arguments,1):[]).length>1?e.pop():void 0!==n?n:250,t.__rendered=!1,i.indexOf(t)<0&&i.push(t),0===r)return t.__rendered=!0,t.delay=function(){return this},t.duration=function(){return this},t;t.__rendered=0===t.length||!!t.every(function(t){return!t.length});var s=0;return t.transition().duration(r).each(function(){++s}).each("end",function(n,r){0==--s&&(t.__rendered=!0,o.renderEnd.apply(this,e))})},this.renderEnd=function(){i.every(function(t){return t.__rendered})&&(i.forEach(function(t){t.__rendered=!1}),t.renderEnd.apply(this,arguments))}},r.utils.deepExtend=function(t){(arguments.length>1?[].slice.call(arguments,1):[]).forEach(function(e){for(var n in e){var i=r.utils.isArray(t[n]),o=r.utils.isObject(t[n]),s=r.utils.isObject(e[n]);o&&!i&&s?r.utils.deepExtend(t[n],e[n]):t[n]=e[n]}})},r.utils.state=function(){if(!(this instanceof r.utils.state))return new r.utils.state;var t={},e=function(){},n=function(){return{}},i=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(t){e(t,!0)}),this.getter=function(t){return n=t,this},this.setter=function(t,n){return n||(n=function(){}),e=function(e,r){t(e),r&&n()},this},this.init=function(t){r.utils.deepExtend(i=i||{},t)},this.update=function(){i&&(e(i,!1),i=null),(function(){var e=n();if(JSON.stringify(e)===JSON.stringify(t))return!1;for(var r in e)void 0===t[r]&&(t[r]={}),t[r]=e[r];return!0}).call(this)&&this.dispatch.change(t)}},r.utils.optionsFunc=function(t){return t&&d3.map(t).forEach((function(t,e){r.utils.isFunction(this[t])&&this[t](e)}).bind(this)),this},r.utils.calcTicksX=function(t,e){for(var n=1,i=0;i<e.length;i+=1){var o=e[i]&&e[i].values?e[i].values.length:0;n=o>n?o:n}return r.log("Requested number of ticks: ",t),r.log("Calculated max values to be: ",n),t=(t=t>n?t=n-1:t)<1?1:t,t=Math.floor(t),r.log("Calculating tick count as: ",t),t},r.utils.calcTicksY=function(t,e){return r.utils.calcTicksX(t,e)},r.utils.initOption=function(t,e){t._calls&&t._calls[e]?t[e]=t._calls[e]:(t[e]=function(n){return arguments.length?(t._overrides[e]=!0,t._options[e]=n,t):t._options[e]},t["_"+e]=function(n){return arguments.length?(t._overrides[e]||(t._options[e]=n),t):t._options[e]})},r.utils.initOptions=function(t){t._overrides=t._overrides||{};var e=Object.getOwnPropertyNames(t._options||{}),n=Object.getOwnPropertyNames(t._calls||{});for(var i in e=e.concat(n))r.utils.initOption(t,e[i])},r.utils.inheritOptionsD3=function(t,e,n){t._d3options=n.concat(t._d3options||[]),t._d3options=(t._d3options||[]).filter(function(t,e,n){return n.indexOf(t)===e}),n.unshift(e),n.unshift(t),d3.rebind.apply(this,n)},r.utils.arrayUnique=function(t){return t.sort().filter(function(e,n){return!n||e!=t[n-1]})},r.utils.symbolMap=d3.map(),r.utils.symbol=function(){var t,e=64;function n(n,i){var o=t.call(this,n,i),s=e.call(this,n,i);return-1!==d3.svg.symbolTypes.indexOf(o)?d3.svg.symbol().type(o).size(s)():r.utils.symbolMap.get(o)(s)}return n.type=function(e){return arguments.length?(t=d3.functor(e),n):t},n.size=function(t){return arguments.length?(e=d3.functor(t),n):e},n},r.utils.inheritOptions=function(t,e){var n=Object.getOwnPropertyNames(e._options||{}),i=Object.getOwnPropertyNames(e._calls||{}),o=e._inherited||[],s=e._d3options||[],a=n.concat(i).concat(o).concat(s);a.unshift(e),a.unshift(t),d3.rebind.apply(this,a),t._inherited=r.utils.arrayUnique(n.concat(i).concat(o).concat(n).concat(t._inherited||[])),t._d3options=r.utils.arrayUnique(s.concat(t._d3options||[]))},r.utils.initSVG=function(t){t.classed({"nvd3-svg":!0})},r.utils.sanitizeHeight=function(t,e){return t||parseInt(e.style("height"),10)||400},r.utils.sanitizeWidth=function(t,e){return t||parseInt(e.style("width"),10)||960},r.utils.availableHeight=function(t,e,n){return Math.max(0,r.utils.sanitizeHeight(t,e)-n.top-n.bottom)},r.utils.availableWidth=function(t,e,n){return Math.max(0,r.utils.sanitizeWidth(t,e)-n.left-n.right)},r.utils.noData=function(t,e){var n=t.options(),i=n.margin(),o=n.noData(),s=null==o?["No Data Available."]:[o],a=r.utils.availableHeight(null,e,i),l=r.utils.availableWidth(null,e,i),u=i.left+l/2,c=i.top+a/2;e.selectAll("g").remove();var d=e.selectAll(".nv-noData").data(s);d.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),d.attr("x",u).attr("y",c).text(function(t){return t})},r.utils.wrapTicks=function(t,e){t.each(function(){for(var t,n=d3.select(this),r=n.text().split(/\s+/).reverse(),i=[],o=0,s=n.attr("y"),a=parseFloat(n.attr("dy")),l=n.text(null).append("tspan").attr("x",0).attr("y",s).attr("dy",a+"em");t=r.pop();)i.push(t),l.text(i.join(" ")),l.node().getComputedTextLength()>e&&(i.pop(),l.text(i.join(" ")),i=[t],l=n.append("tspan").attr("x",0).attr("y",s).attr("dy",1.1*++o+a+"em").text(t))})},r.utils.arrayEquals=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!r.arrayEquals(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0},r.utils.pointIsInArc=function(t,e,n){var r=n.innerRadius()(e),i=n.outerRadius()(e),o=n.startAngle()(e),s=n.endAngle()(e),a=t.x*t.x+t.y*t.y,l=Math.atan2(t.x,-t.y);return l=l<0?l+2*Math.PI:l,r*r<=a&&a<=i*i&&o<=l&&l<=s},r.models.axis=function(){"use strict";var t,e,n=d3.svg.axis(),i=d3.scale.linear(),o={top:0,right:0,bottom:0,left:0},s=75,a=60,l=null,u=!0,c=0,d=!0,h=!1,f=!1,p=null,g=0,m=void 0,v=250,y=d3.dispatch("renderEnd");n.scale(i).orient("bottom").tickFormat(function(t){return t});var b=r.utils.renderWatch(y,v);function x(a){return b.reset(),a.each(function(a){var v=d3.select(this);r.utils.initSVG(v);var y=v.selectAll("g.nv-wrap.nv-axis").data([a]),x=(y.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g"),y.select("g"));null!==p?n.ticks(p):"top"!=n.orient()&&"bottom"!=n.orient()||n.ticks(Math.abs(i.range()[1]-i.range()[0])/100),x.watchTransition(b,"axis").call(n),e=e||n.scale();var _=n.tickFormat();null==_&&(_=e.tickFormat());var w,C,k,M=x.selectAll("text.nv-axislabel").data([l||null]);switch(M.exit().remove(),void 0!==m&&x.selectAll("g").select("text").style("font-size",m),n.orient()){case"top":M.enter().append("text").attr("class","nv-axislabel"),k=0,1===i.range().length?k=f?2*i.range()[0]+i.rangeBand():0:2===i.range().length?k=f?i.range()[0]+i.range()[1]+i.rangeBand():i.range()[1]:i.range().length>2&&(k=i.range()[i.range().length-1]+(i.range()[1]-i.range()[0])),M.attr("text-anchor","middle").attr("y",0).attr("x",k/2),u&&((C=y.selectAll("g.nv-axisMaxMin").data(i.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),C.exit().remove(),C.attr("transform",function(t,e){return"translate("+r.utils.NaNtoZero(i(t))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-n.tickPadding()).attr("text-anchor","middle").text(function(e,n){var r=(t||_)(e);return(""+r).match("NaN")?"":r}),C.watchTransition(b,"min-max top").attr("transform",function(t,e){return"translate("+r.utils.NaNtoZero(i.range()[e])+",0)"}));break;case"bottom":w=g+36;var E=30,A=0,S=x.selectAll("g").select("text"),T="";if(c%360){S.attr("transform",""),S.each(function(t,e){var n=this.getBoundingClientRect(),r=n.width;A=n.height,r>E&&(E=r)}),T="rotate("+c+" 0,"+(A/2+n.tickPadding())+")";var N=Math.abs(Math.sin(c*Math.PI/180));w=(N?N*E:E)+30,S.attr("transform",T).style("text-anchor",c%360>0?"start":"end")}else S.attr("transform",h?function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"}:"translate(0,0)");M.enter().append("text").attr("class","nv-axislabel"),k=0,1===i.range().length?k=f?2*i.range()[0]+i.rangeBand():0:2===i.range().length?k=f?i.range()[0]+i.range()[1]+i.rangeBand():i.range()[1]:i.range().length>2&&(k=i.range()[i.range().length-1]+(i.range()[1]-i.range()[0])),M.attr("text-anchor","middle").attr("y",w).attr("x",k/2),u&&((C=y.selectAll("g.nv-axisMaxMin").data([i.domain()[0],i.domain()[i.domain().length-1]])).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),C.exit().remove(),C.attr("transform",function(t,e){return"translate("+r.utils.NaNtoZero(i(t)+(f?i.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",n.tickPadding()).attr("transform",T).style("text-anchor",c?c%360>0?"start":"end":"middle").text(function(e,n){var r=(t||_)(e);return(""+r).match("NaN")?"":r}),C.watchTransition(b,"min-max bottom").attr("transform",function(t,e){return"translate("+r.utils.NaNtoZero(i(t)+(f?i.rangeBand()/2:0))+",0)"}));break;case"right":M.enter().append("text").attr("class","nv-axislabel"),M.style("text-anchor",d?"middle":"begin").attr("transform",d?"rotate(90)":"").attr("y",d?12-Math.max(o.right,s)-(g||0):-10).attr("x",d?d3.max(i.range())/2:n.tickPadding()),u&&((C=y.selectAll("g.nv-axisMaxMin").data(i.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),C.exit().remove(),C.attr("transform",function(t,e){return"translate(0,"+r.utils.NaNtoZero(i(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",n.tickPadding()).style("text-anchor","start").text(function(e,n){var r=(t||_)(e);return(""+r).match("NaN")?"":r}),C.watchTransition(b,"min-max right").attr("transform",function(t,e){return"translate(0,"+r.utils.NaNtoZero(i.range()[e])+")"}).select("text").style("opacity",1));break;case"left":M.enter().append("text").attr("class","nv-axislabel"),M.style("text-anchor",d?"middle":"end").attr("transform",d?"rotate(-90)":"").attr("y",d?25-Math.max(o.left,s)-(g||0):-10).attr("x",d?-d3.max(i.range())/2:-n.tickPadding()),u&&((C=y.selectAll("g.nv-axisMaxMin").data(i.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),C.exit().remove(),C.attr("transform",function(t,n){return"translate(0,"+r.utils.NaNtoZero(e(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-n.tickPadding()).attr("text-anchor","end").text(function(e,n){var r=(t||_)(e);return(""+r).match("NaN")?"":r}),C.watchTransition(b,"min-max right").attr("transform",function(t,e){return"translate(0,"+r.utils.NaNtoZero(i.range()[e])+")"}).select("text").style("opacity",1))}if(M.text(function(t){return t}),!u||"left"!==n.orient()&&"right"!==n.orient()||(x.selectAll("g").each(function(t,e){d3.select(this).select("text").attr("opacity",1),(i(t)<i.range()[1]+10||i(t)>i.range()[0]-10)&&((t>1e-10||t<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),i.domain()[0]==i.domain()[1]&&0==i.domain()[0]&&y.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),u&&("top"===n.orient()||"bottom"===n.orient())){var O=[];y.selectAll("g.nv-axisMaxMin").each(function(t,e){try{O.push(e?i(t)-this.getBoundingClientRect().width-4:i(t)+this.getBoundingClientRect().width+4)}catch(n){O.push(e?i(t)-4:i(t)+4)}}),x.selectAll("g").each(function(t,e){(i(t)<O[0]||i(t)>O[1])&&(t>1e-10||t<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}x.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t)/1e6)&&void 0!==t}).classed("zero",!0),e=i.copy()}),b.renderEnd("axis immediate"),x}return x.axis=n,x.dispatch=y,x.options=r.utils.optionsFunc.bind(x),x._options=Object.create({},{axisLabelDistance:{get:function(){return g},set:function(t){g=t}},staggerLabels:{get:function(){return h},set:function(t){h=t}},rotateLabels:{get:function(){return c},set:function(t){c=t}},rotateYLabel:{get:function(){return d},set:function(t){d=t}},showMaxMin:{get:function(){return u},set:function(t){u=t}},axisLabel:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return a},set:function(t){a=t}},ticks:{get:function(){return p},set:function(t){p=t}},width:{get:function(){return s},set:function(t){s=t}},fontSize:{get:function(){return m},set:function(t){m=t}},tickFormatMaxMin:{get:function(){return t},set:function(e){t=e}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},duration:{get:function(){return v},set:function(t){b.reset(v=t)}},scale:{get:function(){return i},set:function(t){n.scale(i=t),f="function"==typeof i.rangeBands,r.utils.inheritOptionsD3(x,i,["domain","range","rangeBand","rangeBands"])}}}),r.utils.initOptions(x),r.utils.inheritOptionsD3(x,n,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),r.utils.inheritOptionsD3(x,i,["domain","range","rangeBand","rangeBands"]),x},r.models.boxPlot=function(){"use strict";var t,e,n,i,o,s,a={top:0,right:0,bottom:0,left:0},l=960,u=500,c=Math.floor(1e4*Math.random()),d=d3.scale.ordinal(),h=d3.scale.linear(),f=function(t){return t.label},p=function(t){return t.values.Q1},g=function(t){return t.values.Q2},m=function(t){return t.values.Q3},v=function(t){return t.values.whisker_low},y=function(t){return t.values.whisker_high},b=function(t){return t.color},x=function(t){return t.values.outliers},_=function(t,e,n){return t},w=function(t,e,n){return t},C=function(t,e,n){},k=r.utils.defaultColor(),M=null,E=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),A=250,S=null,T=r.utils.renderWatch(E,A);function N(c){return T.reset(),c.each(function(c){var N=l-a.left-a.right,O=u-a.top-a.bottom;M=d3.select(this),r.utils.initSVG(M),d.domain(t||c.map(function(t,e){return f(t,e)})).rangeBands(e||[0,N],.1);var P=[];if(!n){var I=[];c.forEach(function(t,e){var n=p(t),r=m(t),i=v(t),o=y(t),s=x(t);s&&s.forEach(function(t,e){I.push(_(t,e,void 0))}),i&&I.push(i),n&&I.push(n),r&&I.push(r),o&&I.push(o)}),P=[d3.min(I),d3.max(I)]}h.domain(n||P),h.range(i||[O,0]),o=o||d,s=s||h.copy().range([h(0),h(0)]);var R=M.selectAll("g.nv-wrap").data([c]);R.enter().append("g").attr("class","nvd3 nv-wrap"),R.attr("transform","translate("+a.left+","+a.top+")");var D=R.selectAll(".nv-boxplot").data(function(t){return t}),V=D.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);D.attr("class","nv-boxplot").attr("transform",function(t,e,n){return"translate("+(d(f(t,e))+.05*d.rangeBand())+", 0)"}).classed("hover",function(t){return t.hover}),D.watchTransition(T,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(t,e){return e*A/c.length}).attr("transform",function(t,e){return"translate("+(d(f(t,e))+.05*d.rangeBand())+", 0)"}),D.exit().remove(),V.each(function(t,e){var n=d3.select(this);[v,y].forEach(function(r){if(void 0!==r(t)&&null!==r(t)){var i=r===v?"low":"high";n.append("line").style("stroke",b(t)||k(t,e)).attr("class","nv-boxplot-whisker nv-boxplot-"+i),n.append("line").style("stroke",b(t)||k(t,e)).attr("class","nv-boxplot-tick nv-boxplot-"+i)}})});var L=function(){return null===S?.9*d.rangeBand():Math.min(75,.9*d.rangeBand())},F=function(){return.45*d.rangeBand()-L()/2},j=function(){return.45*d.rangeBand()+L()/2};[v,y].forEach(function(t){var e=t===v?"low":"high",n=t===v?p:m;D.select("line.nv-boxplot-whisker.nv-boxplot-"+e).watchTransition(T,"nv-boxplot: boxplots").attr("x1",.45*d.rangeBand()).attr("y1",function(e,n){return h(t(e))}).attr("x2",.45*d.rangeBand()).attr("y2",function(t,e){return h(n(t))}),D.select("line.nv-boxplot-tick.nv-boxplot-"+e).watchTransition(T,"nv-boxplot: boxplots").attr("x1",F).attr("y1",function(e,n){return h(t(e))}).attr("x2",j).attr("y2",function(e,n){return h(t(e))})}),[v,y].forEach(function(t){V.selectAll(".nv-boxplot-"+(t===v?"low":"high")).on("mouseover",function(e,n,r){d3.select(this).classed("hover",!0),E.elementMouseover({series:{key:t(e),color:b(e)||k(e,r)},e:d3.event})}).on("mouseout",function(e,n,r){d3.select(this).classed("hover",!1),E.elementMouseout({series:{key:t(e),color:b(e)||k(e,r)},e:d3.event})}).on("mousemove",function(t,e){E.elementMousemove({e:d3.event})})}),V.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(t,e){d3.select(this).classed("hover",!0),E.elementMouseover({key:f(t),value:f(t),series:[{key:"Q3",value:m(t),color:b(t)||k(t,e)},{key:"Q2",value:g(t),color:b(t)||k(t,e)},{key:"Q1",value:p(t),color:b(t)||k(t,e)}],data:t,index:e,e:d3.event})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),E.elementMouseout({key:f(t),value:f(t),series:[{key:"Q3",value:m(t),color:b(t)||k(t,e)},{key:"Q2",value:g(t),color:b(t)||k(t,e)},{key:"Q1",value:p(t),color:b(t)||k(t,e)}],data:t,index:e,e:d3.event})}).on("mousemove",function(t,e){E.elementMousemove({e:d3.event})}),D.select("rect.nv-boxplot-box").watchTransition(T,"nv-boxplot: boxes").attr("y",function(t,e){return h(m(t))}).attr("width",L).attr("x",F).attr("height",function(t,e){return Math.abs(h(m(t))-h(p(t)))||1}).style("fill",function(t,e){return b(t)||k(t,e)}).style("stroke",function(t,e){return b(t)||k(t,e)}),V.append("line").attr("class","nv-boxplot-median"),D.select("line.nv-boxplot-median").watchTransition(T,"nv-boxplot: boxplots line").attr("x1",F).attr("y1",function(t,e){return h(g(t))}).attr("x2",j).attr("y2",function(t,e){return h(g(t))});var z=D.selectAll(".nv-boxplot-outlier").data(function(t){return x(t)||[]});z.enter().append("circle").style("fill",function(t,e,n){return C(t,e,n)||k(t,n)}).style("stroke",function(t,e,n){return C(t,e,n)||k(t,n)}).style("z-index",9e3).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),E.elementMouseover({series:{key:w(t,e,n),color:C(t,e,n)||k(t,n)},e:d3.event})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),E.elementMouseout({series:{key:w(t,e,n),color:C(t,e,n)||k(t,n)},e:d3.event})}).on("mousemove",function(t,e){E.elementMousemove({e:d3.event})}),z.attr("class","nv-boxplot-outlier"),z.watchTransition(T,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*d.rangeBand()).attr("cy",function(t,e,n){return h(_(t,e,n))}).attr("r","3"),z.exit().remove(),o=d.copy(),s=h.copy()}),T.renderEnd("nv-boxplot immediate"),N}return N.dispatch=E,N.options=r.utils.optionsFunc.bind(N),N._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return u},set:function(t){u=t}},maxBoxWidth:{get:function(){return S},set:function(t){S=t}},x:{get:function(){return f},set:function(t){f=t}},q1:{get:function(){return p},set:function(t){p=t}},q2:{get:function(){return g},set:function(t){g=t}},q3:{get:function(){return m},set:function(t){m=t}},wl:{get:function(){return v},set:function(t){v=t}},wh:{get:function(){return y},set:function(t){y=t}},itemColor:{get:function(){return b},set:function(t){b=t}},outliers:{get:function(){return x},set:function(t){x=t}},outlierValue:{get:function(){return _},set:function(t){_=t}},outlierLabel:{get:function(){return w},set:function(t){w=t}},outlierColor:{get:function(){return C},set:function(t){C=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return h},set:function(t){h=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return e},set:function(t){e=t}},yRange:{get:function(){return i},set:function(t){i=t}},id:{get:function(){return c},set:function(t){c=t}},y:{get:function(){return console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead."),{}},set:function(t){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.")}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},color:{get:function(){return k},set:function(t){k=r.utils.getColor(t)}},duration:{get:function(){return A},set:function(t){T.reset(A=t)}}}),r.utils.initOptions(N),N},r.models.boxPlotChart=function(){"use strict";var t,e,n=r.models.boxPlot(),i=r.models.axis(),o=r.models.axis(),s={top:15,right:10,bottom:50,left:60},a=null,l=null,u=r.utils.getColor(),c=!0,d=!0,h=!1,f=!1,p=r.models.tooltip(),g="No Data Available.",m=d3.dispatch("beforeUpdate","renderEnd"),v=250;i.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),o.orient(h?"right":"left").tickFormat(d3.format(",.1f")),p.duration(0);var y=r.utils.renderWatch(m,v);function b(u){return y.reset(),y.models(n),c&&y.models(i),d&&y.models(o),u.each(function(u){var p=d3.select(this);r.utils.initSVG(p);var y=(a||parseInt(p.style("width"))||960)-s.left-s.right,x=(l||parseInt(p.style("height"))||400)-s.top-s.bottom;if(b.update=function(){m.beforeUpdate(),p.transition().duration(v).call(b)},b.container=this,!u||!u.length){var _=p.selectAll(".nv-noData").data([g]);return _.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),_.attr("x",s.left+y/2).attr("y",s.top+x/2).text(function(t){return t}),b}p.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale().clamp(!0);var w=p.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([u]),C=w.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),k=C.append("defs"),M=w.select("g");if(C.append("g").attr("class","nv-x nv-axis"),C.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),C.append("g").attr("class","nv-barsWrap"),M.attr("transform","translate("+s.left+","+s.top+")"),h&&M.select(".nv-y.nv-axis").attr("transform","translate("+y+",0)"),n.width(y).height(x),M.select(".nv-barsWrap").datum(u.filter(function(t){return!t.disabled})).transition().call(n),k.append("clipPath").attr("id","nv-x-label-clip-"+n.id()).append("rect"),M.select("#nv-x-label-clip-"+n.id()+" rect").attr("width",t.rangeBand()*(f?2:1)).attr("height",16).attr("x",-t.rangeBand()/(f?1:2)),c){i.scale(t).ticks(r.utils.calcTicksX(y/100,u)).tickSize(-x,0),M.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),M.select(".nv-x.nv-axis").call(i);var E=M.select(".nv-x.nv-axis").selectAll("g");f&&E.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}d&&(o.scale(e).ticks(Math.floor(x/36)).tickSize(-y,0),M.select(".nv-y.nv-axis").call(o)),M.select(".nv-zeroLine line").attr("x1",0).attr("x2",y).attr("y1",e(0)).attr("y2",e(0))}),y.renderEnd("nv-boxplot chart immediate"),b}return n.dispatch.on("elementMouseover.tooltip",function(t){p.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){p.data(t).hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(t){p()}),b.dispatch=m,b.boxplot=n,b.xAxis=i,b.yAxis=o,b.tooltip=p,b.options=r.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return l},set:function(t){l=t}},staggerLabels:{get:function(){return f},set:function(t){f=t}},showXAxis:{get:function(){return c},set:function(t){c=t}},showYAxis:{get:function(){return d},set:function(t){d=t}},tooltipContent:{get:function(){return p},set:function(t){p=t}},noData:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},duration:{get:function(){return v},set:function(t){y.reset(v=t),n.duration(v),i.duration(v),o.duration(v)}},color:{get:function(){return u},set:function(t){u=r.utils.getColor(t),n.color(u)}},rightAlignYAxis:{get:function(){return h},set:function(t){h=t,o.orient(t?"right":"left")}}}),r.utils.inheritOptions(b,n),r.utils.initOptions(b),b},r.models.bullet=function(){"use strict";var t={top:0,right:0,bottom:0,left:0},e="left",n=!1,i=function(t){return t.ranges},o=function(t){return t.markers?t.markers:[]},s=function(t){return t.markerLines?t.markerLines:[0]},a=function(t){return t.measures},l=function(t){return t.rangeLabels?t.rangeLabels:[]},u=function(t){return t.markerLabels?t.markerLabels:[]},c=function(t){return t.markerLineLabels?t.markerLineLabels:[]},d=function(t){return t.measureLabels?t.measureLabels:[]},h=[0],f=380,p=30,g=null,m=null,v=r.utils.getColor(["#1f77b4"]),y=d3.dispatch("elementMouseover","elementMouseout","elementMousemove"),b=["Maximum","Mean","Minimum"],x=["Max","Avg","Min"],_=1e3;function w(t,e){var n=t.slice();t.sort(function(t,r){var i=n.indexOf(t),o=n.indexOf(r);return d3.descending(e[i],e[o])})}function C(e){return e.each(function(e,m){var C=f-t.left-t.right,k=p-t.top-t.bottom;g=d3.select(this),r.utils.initSVG(g);var M=i.call(this,e,m).slice(),E=o.call(this,e,m).slice(),A=s.call(this,e,m).slice(),S=a.call(this,e,m).slice(),T=l.call(this,e,m).slice(),N=u.call(this,e,m).slice(),O=c.call(this,e,m).slice(),P=d.call(this,e,m).slice();w(T,M),w(N,E),w(O,A),w(P,S),M.sort(d3.descending),E.sort(d3.descending),A.sort(d3.descending),S.sort(d3.descending);var I=d3.scale.linear().domain(d3.extent(d3.merge([h,M]))).range(n?[C,0]:[0,C]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(I.range()),this.__chart__=I,d3.min(M),d3.max(M);for(var R=g.selectAll("g.nv-wrap.nv-bullet").data([e]),D=R.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),V=R.select("g"),L=(m=0,M.length);m<L;m++){var F="nv-range nv-range"+m;m<=2&&(F=F+" nv-range"+x[m]),D.append("rect").attr("class",F)}D.append("rect").attr("class","nv-measure"),R.attr("transform","translate("+t.left+","+t.top+")");var j=function(t){return Math.abs(I(t)-I(0))},z=function(t){return I(t<0?t:0)};for(m=0,L=M.length;m<L;m++){var W=M[m];V.select("rect.nv-range"+m).datum(W).attr("height",k).transition().duration(_).attr("width",j(W)).attr("x",z(W))}V.select("rect.nv-measure").style("fill",v).attr("height",k/3).attr("y",k/3).on("mouseover",function(){y.elementMouseover({value:S[0],label:P[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){y.elementMousemove({value:S[0],label:P[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){y.elementMouseout({value:S[0],label:P[0]||"Current",color:d3.select(this).style("fill")})}).transition().duration(_).attr("width",S<0?I(0)-I(S[0]):I(S[0])-I(0)).attr("x",z(S));var H=k/6,U=E.map(function(t,e){return{value:t,label:N[e]}});D.selectAll("path.nv-markerTriangle").data(U).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+H+"L"+H+","+-H+" "+-H+","+-H+"Z").on("mouseover",function(t){y.elementMouseover({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill"),pos:[I(t.value),k/2]})}).on("mousemove",function(t){y.elementMousemove({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){y.elementMouseout({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}),V.selectAll("path.nv-markerTriangle").data(U).transition().duration(_).attr("transform",function(t){return"translate("+I(t.value)+","+k/2+")"});var B=A.map(function(t,e){return{value:t,label:O[e]}});D.selectAll("line.nv-markerLine").data(B).enter().append("line").attr("cursor","").attr("class","nv-markerLine").attr("x1",function(t){return I(t.value)}).attr("y1","2").attr("x2",function(t){return I(t.value)}).attr("y2",k-2).on("mouseover",function(t){y.elementMouseover({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill"),pos:[I(t.value),k/2]})}).on("mousemove",function(t){y.elementMousemove({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){y.elementMouseout({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}),V.selectAll("line.nv-markerLine").data(B).transition().duration(_).attr("x1",function(t){return I(t.value)}).attr("x2",function(t){return I(t.value)}),R.selectAll(".nv-range").on("mouseover",function(t,e){y.elementMouseover({value:t,label:T[e]||b[e],color:d3.select(this).style("fill")})}).on("mousemove",function(){y.elementMousemove({value:S[0],label:P[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){y.elementMouseout({value:t,label:T[e]||b[e],color:d3.select(this).style("fill")})})}),C}return C.dispatch=y,C.options=r.utils.optionsFunc.bind(C),C._options=Object.create({},{ranges:{get:function(){return i},set:function(t){i=t}},markers:{get:function(){return o},set:function(t){o=t}},measures:{get:function(){return a},set:function(t){a=t}},forceX:{get:function(){return h},set:function(t){h=t}},width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return p},set:function(t){p=t}},tickFormat:{get:function(){return m},set:function(t){m=t}},duration:{get:function(){return _},set:function(t){_=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},orient:{get:function(){return e},set:function(t){n="right"==(e=t)||"bottom"==e}},color:{get:function(){return v},set:function(t){v=r.utils.getColor(t)}}}),r.utils.initOptions(C),C},r.models.bulletChart=function(){"use strict";var t=r.models.bullet(),e=r.models.tooltip(),n="left",i=!1,o={top:5,right:40,bottom:20,left:120},s=function(t){return t.ranges},a=function(t){return t.markers?t.markers:[]},l=function(t){return t.measures},u=null,c=55,d=null,h=null,f=null,p=d3.dispatch();function g(e){return e.each(function(n,f){var p=d3.select(this);r.utils.initSVG(p);var m=r.utils.availableWidth(u,p,o),v=c-o.top-o.bottom;if(g.update=function(){g(e)},g.container=this,!n||!s.call(this,n,f))return r.utils.noData(g,p),g;p.selectAll(".nv-noData").remove();var y=s.call(this,n,f).slice().sort(d3.descending),b=a.call(this,n,f).slice().sort(d3.descending),x=l.call(this,n,f).slice().sort(d3.descending),_=p.selectAll("g.nv-wrap.nv-bulletChart").data([n]),w=_.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),C=_.select("g");w.append("g").attr("class","nv-bulletWrap"),w.append("g").attr("class","nv-titles"),_.attr("transform","translate("+o.left+","+o.top+")");var k=d3.scale.linear().domain([0,Math.max(y[0],b[0]||0,x[0])]).range(i?[m,0]:[0,m]),M=this.__chart__||d3.scale.linear().domain([0,1/0]).range(k.range());this.__chart__=k;var E=w.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(c-o.top-o.bottom)/2+")");E.append("text").attr("class","nv-title").text(function(t){return t.title}),E.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),t.width(m).height(v);var A=C.select(".nv-bulletWrap");d3.transition(A).call(t);var S=d||k.tickFormat(m/100),T=C.selectAll("g.nv-tick").data(k.ticks(h||m/50),function(t){return this.textContent||S(t)}),N=T.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+M(t)+",0)"}).style("opacity",1e-6);N.append("line").attr("y1",v).attr("y2",7*v/6),N.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*v/6).text(S);var O=d3.transition(T).transition().duration(t.duration()).attr("transform",function(t){return"translate("+k(t)+",0)"}).style("opacity",1);O.select("line").attr("y1",v).attr("y2",7*v/6),O.select("text").attr("y",7*v/6),d3.transition(T.exit()).transition().duration(t.duration()).attr("transform",function(t){return"translate("+k(t)+",0)"}).style("opacity",1e-6).remove()}),d3.timer.flush(),g}return e.duration(0).headerEnabled(!1),t.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.label,value:t.value,color:t.color},e.data(t).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(t){e()}),g.bullet=t,g.dispatch=p,g.tooltip=e,g.options=r.utils.optionsFunc.bind(g),g._options=Object.create({},{ranges:{get:function(){return s},set:function(t){s=t}},markers:{get:function(){return a},set:function(t){a=t}},measures:{get:function(){return l},set:function(t){l=t}},width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},tickFormat:{get:function(){return d},set:function(t){d=t}},ticks:{get:function(){return h},set:function(t){h=t}},noData:{get:function(){return f},set:function(t){f=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},orient:{get:function(){return n},set:function(t){i="right"==(n=t)||"bottom"==n}}}),r.utils.inheritOptions(g,t),r.utils.initOptions(g),g},r.models.candlestickBar=function(){"use strict";var t,e,n,i,o,s={top:0,right:0,bottom:0,left:0},a=null,l=null,u=Math.floor(1e4*Math.random()),c=d3.scale.linear(),d=d3.scale.linear(),h=function(t){return t.x},f=function(t){return t.y},p=function(t){return t.open},g=function(t){return t.close},m=function(t){return t.high},v=function(t){return t.low},y=[],b=[],x=!1,_=!0,w=r.utils.defaultColor(),C=!1,k=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");function M(w){return w.each(function(w){t=d3.select(this);var C=r.utils.availableWidth(a,t,s),M=r.utils.availableHeight(l,t,s);r.utils.initSVG(t);var E=C/w[0].values.length*.45;c.domain(e||d3.extent(w[0].values.map(h).concat(y))),c.range(x?i||[.5*C/w[0].values.length,C*(w[0].values.length-.5)/w[0].values.length]:i||[5+E/2,C-E/2-5]),d.domain(n||[d3.min(w[0].values.map(v).concat(b)),d3.max(w[0].values.map(m).concat(b))]).range(o||[M,0]),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1]));var A=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([w[0].values]),S=A.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),T=S.append("defs"),N=S.append("g"),O=A.select("g");N.append("g").attr("class","nv-ticks"),A.attr("transform","translate("+s.left+","+s.top+")"),t.on("click",function(t,e){k.chartClick({data:t,index:e,pos:d3.event,id:u})}),T.append("clipPath").attr("id","nv-chart-clip-path-"+u).append("rect"),A.select("#nv-chart-clip-path-"+u+" rect").attr("width",C).attr("height",M),O.attr("clip-path",_?"url(#nv-chart-clip-path-"+u+")":"");var P=A.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});P.exit().remove();var I=P.enter().append("g");P.attr("class",function(t,e,n){return(p(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),I.append("line").attr("class","nv-candlestick-lines").attr("transform",function(t,e){return"translate("+c(h(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return d(m(t,e))}).attr("x2",0).attr("y2",function(t,e){return d(v(t,e))}),I.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(t,e){return"translate("+(c(h(t,e))-E/2)+","+(d(f(t,e))-(p(t,e)>g(t,e)?d(g(t,e))-d(p(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",E).attr("height",function(t,e){var n=p(t,e),r=g(t,e);return n>r?d(r)-d(n):d(n)-d(r)}),P.select(".nv-candlestick-lines").transition().attr("transform",function(t,e){return"translate("+c(h(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return d(m(t,e))}).attr("x2",0).attr("y2",function(t,e){return d(v(t,e))}),P.select(".nv-candlestick-rects").transition().attr("transform",function(t,e){return"translate("+(c(h(t,e))-E/2)+","+(d(f(t,e))-(p(t,e)>g(t,e)?d(g(t,e))-d(p(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",E).attr("height",function(t,e){var n=p(t,e),r=g(t,e);return n>r?d(r)-d(n):d(n)-d(r)})}),M}return M.highlightPoint=function(e,n){M.clearHighlights(),t.select(".nv-candlestickBar .nv-tick-0-"+e).classed("hover",n)},M.clearHighlights=function(){t.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},M.dispatch=k,M.options=r.utils.optionsFunc.bind(M),M._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return l},set:function(t){l=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceX:{get:function(){return y},set:function(t){y=t}},forceY:{get:function(){return b},set:function(t){b=t}},padData:{get:function(){return x},set:function(t){x=t}},clipEdge:{get:function(){return _},set:function(t){_=t}},id:{get:function(){return u},set:function(t){u=t}},interactive:{get:function(){return C},set:function(t){C=t}},x:{get:function(){return h},set:function(t){h=t}},y:{get:function(){return f},set:function(t){f=t}},open:{get:function(){return p()},set:function(t){p=t}},close:{get:function(){return g()},set:function(t){g=t}},high:{get:function(){return m},set:function(t){m=t}},low:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return s},set:function(t){s.top=void 0!=t.top?t.top:s.top,s.right=void 0!=t.right?t.right:s.right,s.bottom=void 0!=t.bottom?t.bottom:s.bottom,s.left=void 0!=t.left?t.left:s.left}},color:{get:function(){return w},set:function(t){w=r.utils.getColor(t)}}}),r.utils.initOptions(M),M},r.models.cumulativeLineChart=function(){"use strict";var t,e,n=r.models.line(),i=r.models.axis(),o=r.models.axis(),s=r.models.legend(),a=r.models.legend(),l=r.interactiveGuideline(),u=r.models.tooltip(),c={top:30,right:30,bottom:50,left:60},d=null,h=r.utils.defaultColor(),f=null,p=null,g=!0,m=!0,v=!0,y=!1,b=!0,x=!1,_=!0,w=n.id(),C=r.utils.state(),k=null,M=null,E=function(t){return t.average},A=d3.dispatch("stateChange","changeState","renderEnd"),S=250,T=!1;C.index=0,C.rescaleY=_,i.orient("bottom").tickPadding(7),o.orient(y?"right":"left"),u.valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),a.updateState(!1);var N,O=d3.scale.linear(),P={i:0,x:0},I=r.utils.renderWatch(A,S),R=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),index:P.i,rescaleY:_}}},D=function(t){return function(e){void 0!==e.index&&(P.i=e.index),void 0!==e.rescaleY&&(_=e.rescaleY),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};function V(u){return I.reset(),I.models(n),m&&I.models(i),v&&I.models(o),u.each(function(u){var M=d3.select(this);r.utils.initSVG(M),M.classed("nv-chart-"+w,!0);var I,j=r.utils.availableWidth(f,M,c),z=r.utils.availableHeight(p,M,c);if(V.update=function(){0===S?M.call(V):M.transition().duration(S).call(V)},V.container=this,C.setter(D(u),V.update).getter(R(u)).update(),C.disabled=u.map(function(t){return!!t.disabled}),!k)for(I in k={},C)k[I]=C[I]instanceof Array?C[I].slice(0):C[I];var W=d3.behavior.drag().on("dragstart",function(t,e){d3.select(V.container).style("cursor","ew-resize")}).on("drag",function(t,e){P.x=d3.event.x,P.i=Math.round(O.invert(P.x)),J()}).on("dragend",function(t,e){d3.select(V.container).style("cursor","auto"),C.index=P.i,A.stateChange(C)});if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return r.utils.noData(V,M),V;M.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale(),O.domain([0,u[0].values.length-1]).range([0,j]).clamp(!0),u=function(t,e){return L||(L=n.y()),e.map(function(e,n){if(!e.values)return e;var r=e.values[t];if(null==r)return e;var i=L(r,t);return Math.abs(i)<1e-5&&!T?(e.tempDisabled=!0,e):(e.tempDisabled=!1,e.values=e.values.map(function(t,e){return t.display={y:(L(t,e)-i)/i},t}),e)})}(P.i,u),"undefined"==typeof N&&(N=F(u)),_?n.yDomain(null):(n.yDomain(N),n.clipEdge(!0));var H=x?"none":"all",U=M.selectAll("g.nv-wrap.nv-cumulativeLine").data([u]),B=U.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),$=U.select("g");if(B.append("g").attr("class","nv-interactive"),B.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),B.append("g").attr("class","nv-y nv-axis"),B.append("g").attr("class","nv-background"),B.append("g").attr("class","nv-linesWrap").style("pointer-events",H),B.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),B.append("g").attr("class","nv-legendWrap"),B.append("g").attr("class","nv-controlsWrap"),g?(s.width(j),$.select(".nv-legendWrap").datum(u).call(s),d||s.height()===c.top||(c.top=s.height(),z=r.utils.availableHeight(p,M,c)),$.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")):$.select(".nv-legendWrap").selectAll("*").remove(),b){var q=[{key:"Re-scale y-axis",disabled:!_}];a.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),$.select(".nv-controlsWrap").datum(q).attr("transform","translate(0,"+-c.top+")").call(a)}else $.select(".nv-controlsWrap").selectAll("*").remove();U.attr("transform","translate("+c.left+","+c.top+")"),y&&$.select(".nv-y.nv-axis").attr("transform","translate("+j+",0)");var G=u.filter(function(t){return t.tempDisabled});U.select(".tempDisabled").remove(),G.length&&U.append("text").attr("class","tempDisabled").attr("x",j/2).attr("y","-.71em").style("text-anchor","end").text(G.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),x&&(l.width(j).height(z).margin({left:c.left,top:c.top}).svgContainer(M).xScale(t),U.select(".nv-interactive").call(l)),B.select(".nv-background").append("rect"),$.select(".nv-background rect").attr("width",j).attr("height",z),n.y(function(t){return t.display.y}).width(j).height(z).color(u.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!u[e].disabled&&!u[e].tempDisabled}));var Z=$.select(".nv-linesWrap").datum(u.filter(function(t){return!t.disabled&&!t.tempDisabled}));Z.call(n),u.forEach(function(t,e){t.seriesIndex=e});var Y=u.filter(function(t){return!t.disabled&&!!E(t)}),X=$.select(".nv-avgLinesWrap").selectAll("line").data(Y,function(t){return t.key}),K=function(t){var n=e(E(t));return n<0?0:n>z?z:n};X.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(t,e){return n.color()(t,t.seriesIndex)}).attr("x1",0).attr("x2",j).attr("y1",K).attr("y2",K),X.style("stroke-opacity",function(t){var n=e(E(t));return n<0||n>z?0:1}).attr("x1",0).attr("x2",j).attr("y1",K).attr("y2",K),X.exit().remove();var Q=Z.selectAll(".nv-indexLine").data([P]);function J(){Q.data([P]);var t=V.duration();V.duration(0),V.update(),V.duration(t)}Q.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(W),Q.attr("transform",function(t){return"translate("+O(t.i)+",0)"}).attr("height",z),m&&(i.scale(t)._ticks(r.utils.calcTicksX(j/70,u)).tickSize(-z,0),$.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),$.select(".nv-x.nv-axis").call(i)),v&&(o.scale(e)._ticks(r.utils.calcTicksY(z/36,u)).tickSize(-j,0),$.select(".nv-y.nv-axis").call(o)),$.select(".nv-background rect").on("click",function(){P.x=d3.mouse(this)[0],P.i=Math.round(O.invert(P.x)),C.index=P.i,A.stateChange(C),J()}),n.dispatch.on("elementClick",function(t){P.i=t.pointIndex,P.x=O(P.i),C.index=P.i,A.stateChange(C),J()}),a.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,C.rescaleY=_=!t.disabled,_||(N=F(u)),A.stateChange(C),V.update()}),s.dispatch.on("stateChange",function(t){for(var e in t)C[e]=t[e];A.stateChange(C),V.update()}),l.dispatch.on("elementMousemove",function(t){n.clearHighlights();var e,s,a,c=[];if(u.filter(function(t,e){return t.seriesIndex=e,!(t.disabled||t.tempDisabled)}).forEach(function(i,o){s=r.interactiveBisect(i.values,t.pointXValue,V.x()),n.highlightPoint(o,s,!0);var l=i.values[s];"undefined"!=typeof l&&("undefined"==typeof e&&(e=l),"undefined"==typeof a&&(a=V.xScale()(V.x()(l,s))),c.push({key:i.key,value:V.y()(l,s),color:h(i,i.seriesIndex)}))}),c.length>2){var d=V.yScale().invert(t.mouseY),f=.03*Math.abs(V.yScale().domain()[0]-V.yScale().domain()[1]),p=r.nearestValueIndex(c.map(function(t){return t.value}),d,f);null!==p&&(c[p].highlight=!0)}var g=i.tickFormat()(V.x()(e,s),s);l.tooltip.valueFormatter(function(t,e){return o.tickFormat()(t)}).data({value:g,series:c})(),l.renderGuideLine(a)}),l.dispatch.on("elementMouseout",function(t){n.clearHighlights()}),A.on("changeState",function(t){"undefined"!=typeof t.disabled&&(u.forEach(function(e,n){e.disabled=t.disabled[n]}),C.disabled=t.disabled),"undefined"!=typeof t.index&&(P.i=t.index,P.x=O(P.i),C.index=t.index,Q.data([P])),"undefined"!=typeof t.rescaleY&&(_=t.rescaleY),V.update()})}),I.renderEnd("cumulativeLineChart immediate"),V}n.dispatch.on("elementMouseover.tooltip",function(t){var e={x:V.x()(t.point),y:V.y()(t.point),color:t.point.color};t.point=e,u.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)});var L=null;function F(t){var e=t.filter(function(t){return!(t.disabled||t.tempDisabled)}).map(function(t,e){return d3.extent(t.values,function(t){return t.display.y})});return[d3.min(e,function(t){return t[0]}),d3.max(e,function(t){return t[1]})]}return V.dispatch=A,V.lines=n,V.legend=s,V.controls=a,V.xAxis=i,V.yAxis=o,V.interactiveLayer=l,V.state=C,V.tooltip=u,V.options=r.utils.optionsFunc.bind(V),V._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return p},set:function(t){p=t}},showControls:{get:function(){return b},set:function(t){b=t}},showLegend:{get:function(){return g},set:function(t){g=t}},average:{get:function(){return E},set:function(t){E=t}},defaultState:{get:function(){return k},set:function(t){k=t}},noData:{get:function(){return M},set:function(t){M=t}},showXAxis:{get:function(){return m},set:function(t){m=t}},showYAxis:{get:function(){return v},set:function(t){v=t}},noErrorCheck:{get:function(){return T},set:function(t){T=t}},rescaleY:{get:function(){return _},set:function(t){_=t,V.state.rescaleY=t}},margin:{get:function(){return c},set:function(t){void 0!==t.top&&(c.top=t.top,d=t.top),c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},color:{get:function(){return h},set:function(t){h=r.utils.getColor(t),s.color(h)}},useInteractiveGuideline:{get:function(){return x},set:function(t){x=t,!0===t&&(V.interactive(!1),V.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return y},set:function(t){y=t,o.orient(t?"right":"left")}},duration:{get:function(){return S},set:function(t){n.duration(S=t),i.duration(S),o.duration(S),I.reset(S)}}}),r.utils.inheritOptions(V,n),r.utils.initOptions(V),V},r.models.discreteBar=function(){"use strict";var t,e,n,i,o,s,a,l={top:0,right:0,bottom:0,left:0},u=960,c=500,d=Math.floor(1e4*Math.random()),h=d3.scale.ordinal(),f=d3.scale.linear(),p=function(t){return t.x},g=function(t){return t.y},m=[0],v=r.utils.defaultColor(),y=!1,b=d3.format(",.2f"),x=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),_="discreteBar",w=250,C=r.utils.renderWatch(x,w);function k(d){return C.reset(),d.each(function(d){var w=u-l.left-l.right,k=c-l.top-l.bottom;t=d3.select(this),r.utils.initSVG(t),d.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var M=e&&n?[]:d.map(function(t){return t.values.map(function(t,e){return{x:p(t,e),y:g(t,e),y0:t.y0}})});h.domain(e||d3.merge(M).map(function(t){return t.x})).rangeBands(i||[0,w],.1),f.domain(n||d3.extent(d3.merge(M).map(function(t){return t.y}).concat(m))),f.range(y?o||[k-(f.domain()[0]<0?12:0),f.domain()[1]>0?12:0]:o||[k,0]),s=s||h,a=a||f.copy().range([f(0),f(0)]);var E=t.selectAll("g.nv-wrap.nv-discretebar").data([d]),A=E.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");E.select("g"),A.append("g").attr("class","nv-groups"),E.attr("transform","translate("+l.left+","+l.top+")");var S=E.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});S.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),S.exit().watchTransition(C,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),S.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),S.watchTransition(C,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var T=S.selectAll("g.nv-bar").data(function(t){return t.values});T.exit().remove();var N=T.enter().append("g").attr("transform",function(t,e,n){return"translate("+(h(p(t,e))+.05*h.rangeBand())+", "+f(0)+")"}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),x.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),x.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){x.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){x.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e){x.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()});N.append("rect").attr("height",0).attr("width",.9*h.rangeBand()/d.length),y?(N.append("text").attr("text-anchor","middle"),T.select("text").text(function(t,e){return b(g(t,e))}).watchTransition(C,"discreteBar: bars text").attr("x",.9*h.rangeBand()/2).attr("y",function(t,e){return g(t,e)<0?f(g(t,e))-f(0)+12:-4})):T.selectAll("text").remove(),T.attr("class",function(t,e){return g(t,e)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||v(t,e)}).style("stroke",function(t,e){return t.color||v(t,e)}).select("rect").attr("class",_).watchTransition(C,"discreteBar: bars rect").attr("width",.9*h.rangeBand()/d.length),T.watchTransition(C,"discreteBar: bars").attr("transform",function(t,e){return"translate("+(h(p(t,e))+.05*h.rangeBand())+", "+(g(t,e)<0?f(0):f(0)-f(g(t,e))<1?f(0)-1:f(g(t,e)))+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(f(g(t,e))-f(0)),1)}),s=h.copy(),a=f.copy()}),C.renderEnd("discreteBar immediate"),k}return k.dispatch=x,k.options=r.utils.optionsFunc.bind(k),k._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},forceY:{get:function(){return m},set:function(t){m=t}},showValues:{get:function(){return y},set:function(t){y=t}},x:{get:function(){return p},set:function(t){p=t}},y:{get:function(){return g},set:function(t){g=t}},xScale:{get:function(){return h},set:function(t){h=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return o},set:function(t){o=t}},valueFormat:{get:function(){return b},set:function(t){b=t}},id:{get:function(){return d},set:function(t){d=t}},rectClass:{get:function(){return _},set:function(t){_=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},color:{get:function(){return v},set:function(t){v=r.utils.getColor(t)}},duration:{get:function(){return w},set:function(t){C.reset(w=t)}}}),r.utils.initOptions(k),k},r.models.discreteBarChart=function(){"use strict";var t,e,n=r.models.discreteBar(),i=r.models.axis(),o=r.models.axis(),s=r.models.legend(),a=r.models.tooltip(),l={top:15,right:10,bottom:50,left:60},u=null,c=null,d=null,h=r.utils.getColor(),f=!1,p=!0,g=!0,m=!1,v=!1,y=!1,b=0,x=null,_=d3.dispatch("beforeUpdate","renderEnd"),w=250;i.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),o.orient(m?"right":"left").tickFormat(d3.format(",.1f")),a.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).keyFormatter(function(t,e){return i.tickFormat()(t,e)});var C=r.utils.renderWatch(_,w);function k(a){return C.reset(),C.models(n),p&&C.models(i),g&&C.models(o),a.each(function(a){var h=d3.select(this);r.utils.initSVG(h);var x=r.utils.availableWidth(c,h,l),C=r.utils.availableHeight(d,h,l);if(k.update=function(){_.beforeUpdate(),h.transition().duration(w).call(k)},k.container=this,!(a&&a.length&&a.filter(function(t){return t.values.length}).length))return r.utils.noData(k,h),k;h.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale().clamp(!0);var M=h.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([a]),E=M.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),A=E.append("defs"),S=M.select("g");if(E.append("g").attr("class","nv-x nv-axis"),E.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),E.append("g").attr("class","nv-barsWrap"),E.append("g").attr("class","nv-legendWrap"),S.attr("transform","translate("+l.left+","+l.top+")"),f?(s.width(x),S.select(".nv-legendWrap").datum(a).call(s),u||s.height()===l.top||(l.top=s.height(),C=r.utils.availableHeight(d,h,l)),M.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")):S.select(".nv-legendWrap").selectAll("*").remove(),m&&S.select(".nv-y.nv-axis").attr("transform","translate("+x+",0)"),n.width(x).height(C),S.select(".nv-barsWrap").datum(a.filter(function(t){return!t.disabled})).transition().call(n),A.append("clipPath").attr("id","nv-x-label-clip-"+n.id()).append("rect"),S.select("#nv-x-label-clip-"+n.id()+" rect").attr("width",t.rangeBand()*(v?2:1)).attr("height",16).attr("x",-t.rangeBand()/(v?1:2)),p){i.scale(t)._ticks(r.utils.calcTicksX(x/100,a)).tickSize(-C,0),S.select(".nv-x.nv-axis").attr("transform","translate(0,"+(e.range()[0]+(n.showValues()&&e.domain()[0]<0?16:0))+")"),S.select(".nv-x.nv-axis").call(i);var T=S.select(".nv-x.nv-axis").selectAll("g");v&&T.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"}),b&&T.selectAll(".tick text").attr("transform","rotate("+b+" 0,0)").style("text-anchor",b>0?"start":"end"),y&&S.selectAll(".tick text").call(r.utils.wrapTicks,k.xAxis.rangeBand())}g&&(o.scale(e)._ticks(r.utils.calcTicksY(C/36,a)).tickSize(-x,0),S.select(".nv-y.nv-axis").call(o)),S.select(".nv-zeroLine line").attr("x1",0).attr("x2",m?-x:x).attr("y1",e(0)).attr("y2",e(0))}),C.renderEnd("discreteBar chart immediate"),k}return n.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:k.x()(t.data),value:k.y()(t.data),color:t.color},a.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){a.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(t){a()}),k.dispatch=_,k.discretebar=n,k.legend=s,k.xAxis=i,k.yAxis=o,k.tooltip=a,k.options=r.utils.optionsFunc.bind(k),k._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},showLegend:{get:function(){return f},set:function(t){f=t}},staggerLabels:{get:function(){return v},set:function(t){v=t}},rotateLabels:{get:function(){return b},set:function(t){b=t}},wrapLabels:{get:function(){return y},set:function(t){y=!!t}},showXAxis:{get:function(){return p},set:function(t){p=t}},showYAxis:{get:function(){return g},set:function(t){g=t}},noData:{get:function(){return x},set:function(t){x=t}},margin:{get:function(){return l},set:function(t){void 0!==t.top&&(l.top=t.top,u=t.top),l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return w},set:function(t){C.reset(w=t),n.duration(w),i.duration(w),o.duration(w)}},color:{get:function(){return h},set:function(t){h=r.utils.getColor(t),n.color(h),s.color(h)}},rightAlignYAxis:{get:function(){return m},set:function(t){m=t,o.orient(t?"right":"left")}}}),r.utils.inheritOptions(k,n),r.utils.initOptions(k),k},r.models.distribution=function(){"use strict";var t,e={top:0,right:0,bottom:0,left:0},n=400,i=8,o="x",s=function(t){return t[o]},a=r.utils.defaultColor(),l=d3.scale.linear(),u=250,c=d3.dispatch("renderEnd"),d=r.utils.renderWatch(c,u);function h(n){return d.reset(),n.each(function(n){var u="x"==o?"y":"x",c=d3.select(this);r.utils.initSVG(c),t=t||l;var h=c.selectAll("g.nv-distribution").data([n]),f=(h.enter().append("g").attr("class","nvd3 nv-distribution").append("g"),h.select("g"));h.attr("transform","translate("+e.left+","+e.top+")");var p=f.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key});p.enter().append("g"),p.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return a(t,e)});var g=p.selectAll("line.nv-dist"+o).data(function(t){return t.values});g.enter().append("line").attr(o+"1",function(e,n){return t(s(e,n))}).attr(o+"2",function(e,n){return t(s(e,n))}),d.transition(p.exit().selectAll("line.nv-dist"+o),"dist exit").attr(o+"1",function(t,e){return l(s(t,e))}).attr(o+"2",function(t,e){return l(s(t,e))}).style("stroke-opacity",0).remove(),g.attr("class",function(t,e){return"nv-dist"+o+" nv-dist"+o+"-"+e}).attr(u+"1",0).attr(u+"2",i),d.transition(g,"dist").attr(o+"1",function(t,e){return l(s(t,e))}).attr(o+"2",function(t,e){return l(s(t,e))}),t=l.copy()}),d.renderEnd("distribution immediate"),h}return h.options=r.utils.optionsFunc.bind(h),h.dispatch=c,h.margin=function(t){return arguments.length?(e.top="undefined"!=typeof t.top?t.top:e.top,e.right="undefined"!=typeof t.right?t.right:e.right,e.bottom="undefined"!=typeof t.bottom?t.bottom:e.bottom,e.left="undefined"!=typeof t.left?t.left:e.left,h):e},h.width=function(t){return arguments.length?(n=t,h):n},h.axis=function(t){return arguments.length?(o=t,h):o},h.size=function(t){return arguments.length?(i=t,h):i},h.getData=function(t){return arguments.length?(s=d3.functor(t),h):s},h.scale=function(t){return arguments.length?(l=t,h):l},h.color=function(t){return arguments.length?(a=r.utils.getColor(t),h):a},h.duration=function(t){return arguments.length?(d.reset(u=t),h):u},h},r.models.focus=function(t){"use strict";t=t||r.models.line();var e,n,i=r.models.axis(),o=r.models.axis(),s=d3.svg.brush(),a={top:10,right:0,bottom:30,left:0},l=r.utils.defaultColor(),u=null,c=70,d=!0,h=!1,f=!1,p=null,g=250,m=d3.dispatch("brush","onBrush","renderEnd"),v=!0;t.interactive(!1),t.pointActive(function(t){return!1});var y=r.utils.renderWatch(m,g);function b(x){return y.reset(),y.models(t),d&&y.models(i),h&&y.models(o),x.each(function(y){var x=d3.select(this);r.utils.initSVG(x);var _=r.utils.availableWidth(u,x,a),w=c-a.top-a.bottom;b.update=function(){0===g?x.call(b):x.transition().duration(g).call(b)},b.container=this,e=t.xScale(),n=t.yScale();var C=x.selectAll("g.nv-focus").data([y]),k=C.enter().append("g").attr("class","nvd3 nv-focus").append("g"),M=C.select("g");C.attr("transform","translate("+a.left+","+a.top+")"),k.append("g").attr("class","nv-background").append("rect"),k.append("g").attr("class","nv-x nv-axis"),k.append("g").attr("class","nv-y nv-axis"),k.append("g").attr("class","nv-contentWrap"),k.append("g").attr("class","nv-brushBackground"),k.append("g").attr("class","nv-x nv-brush"),f&&M.select(".nv-y.nv-axis").attr("transform","translate("+_+",0)"),M.select(".nv-background rect").attr("width",_).attr("height",w),t.width(_).height(w).color(y.map(function(t,e){return t.color||l(t,e)}).filter(function(t,e){return!y[e].disabled}));var E=M.select(".nv-contentWrap").datum(y.filter(function(t){return!t.disabled}));d3.transition(E).call(t),s.x(e).on("brush",function(){N(v)}),s.on("brushend",function(){v||m.onBrush(s.empty()?e.domain():s.extent())}),p&&s.extent(p);var A=M.select(".nv-brushBackground").selectAll("g").data([p||s.extent()]),S=A.enter().append("g");S.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",w),S.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",w);var T=M.select(".nv-x.nv-brush").call(s);function N(t){p=s.empty()?null:s.extent();var n=s.empty()?e.domain():s.extent();m.brush({extent:n,brush:s}),s.empty()||s.extent(p),A.data([s.empty()?e.domain():p]).each(function(t,n){var r=e(t[0])-e.range()[0],i=_-e(t[1]);d3.select(this).select(".left").attr("width",r<0?0:r),d3.select(this).select(".right").attr("x",e(t[1])).attr("width",i<0?0:i)}),t&&m.onBrush(n)}T.selectAll("rect").attr("height",w),T.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,r=w/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}),N(!0),M.select(".nv-background rect").attr("width",_).attr("height",w),d&&(i.scale(e)._ticks(r.utils.calcTicksX(_/100,y)).tickSize(-w,0),M.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),d3.transition(M.select(".nv-x.nv-axis")).call(i)),h&&(o.scale(n)._ticks(r.utils.calcTicksY(w/36,y)).tickSize(-_,0),d3.transition(M.select(".nv-y.nv-axis")).call(o)),M.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")")}),y.renderEnd("focus immediate"),b}return b.dispatch=m,b.content=t,b.brush=s,b.xAxis=i,b.yAxis=o,b.options=r.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},showXAxis:{get:function(){return d},set:function(t){d=t}},showYAxis:{get:function(){return h},set:function(t){h=t}},brushExtent:{get:function(){return p},set:function(t){p=t}},syncBrushing:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},duration:{get:function(){return g},set:function(e){y.reset(g=e),t.duration(g),i.duration(g),o.duration(g)}},color:{get:function(){return l},set:function(e){l=r.utils.getColor(e),t.color(l)}},interpolate:{get:function(){return t.interpolate()},set:function(e){t.interpolate(e)}},xTickFormat:{get:function(){return i.tickFormat()},set:function(t){i.tickFormat(t)}},yTickFormat:{get:function(){return o.tickFormat()},set:function(t){o.tickFormat(t)}},x:{get:function(){return t.x()},set:function(e){t.x(e)}},y:{get:function(){return t.y()},set:function(e){t.y(e)}},rightAlignYAxis:{get:function(){return f},set:function(t){o.orient((f=t)?"right":"left")}}}),r.utils.inheritOptions(b,t),r.utils.initOptions(b),b},r.models.forceDirectedGraph=function(){"use strict";var t={top:2,right:0,bottom:2,left:0},e=400,n=32,i=null,o=d3.dispatch("renderEnd"),s=r.utils.getColor(["#000"]),a=r.models.tooltip(),l=null,u=.1,c=.9,d=30,h=-120,f=.1,p=.8,g=.1,m=5,v=function(t){},y=function(t){},b=d3.functor(0),x=d3.functor(0),_=r.utils.renderWatch(o);function w(o){return _.reset(),o.each(function(o){i=d3.select(this),r.utils.initSVG(i);var l=r.utils.availableWidth(e,i,t),b=r.utils.availableHeight(n,i,t);if(i.attr("width",l).attr("height",b),!(o&&o.links&&o.nodes))return r.utils.noData(w,i),w;i.selectAll(".nv-noData").remove(),i.selectAll("*").remove();var x=new Set;o.nodes.forEach(function(t){Object.keys(t).forEach(function(t){x.add(t)})});var _=d3.layout.force().nodes(o.nodes).links(o.links).size([l,b]).linkStrength(u).friction(c).linkDistance(d).charge(h).gravity(f).theta(p).alpha(g).start(),C=i.selectAll(".link").data(o.links).enter().append("line").attr("class","nv-force-link").style("stroke-width",function(t){return Math.sqrt(t.value)}),k=i.selectAll(".node").data(o.nodes).enter().append("g").attr("class","nv-force-node").call(_.drag);k.append("circle").attr("r",m).style("fill",function(t){return s(t)}).on("mouseover",function(t){i.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.py),i.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.px);var e=s(t);t.series=[],x.forEach(function(n){t.series.push({color:e,key:n,value:t[n]})}),a.data(t).hidden(!1)}).on("mouseout",function(t){a.hidden(!0)}),a.headerFormatter(function(t){return"Node"}),y(C),v(k),_.on("tick",function(){C.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),k.attr("transform",function(t){return"translate("+t.x+", "+t.y+")"})})}),w}return w.options=r.utils.optionsFunc.bind(w),w._options=Object.create({},{width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return n},set:function(t){n=t}},linkStrength:{get:function(){return u},set:function(t){u=t}},friction:{get:function(){return c},set:function(t){c=t}},linkDist:{get:function(){return d},set:function(t){d=t}},charge:{get:function(){return h},set:function(t){h=t}},gravity:{get:function(){return f},set:function(t){f=t}},theta:{get:function(){return p},set:function(t){p=t}},alpha:{get:function(){return g},set:function(t){g=t}},radius:{get:function(){return m},set:function(t){m=t}},x:{get:function(){return b},set:function(t){b=d3.functor(t)}},y:{get:function(){return x},set:function(t){x=d3.functor(t)}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},color:{get:function(){return s},set:function(t){s=r.utils.getColor(t)}},noData:{get:function(){return l},set:function(t){l=t}},nodeExtras:{get:function(){return v},set:function(t){v=t}},linkExtras:{get:function(){return y},set:function(t){y=t}}}),w.dispatch=o,w.tooltip=a,r.utils.initOptions(w),w},r.models.furiousLegend=function(){"use strict";var t={top:5,right:0,bottom:5,left:0},e=400,n=20,i=function(t){return t.key},o=function(t){return t},s=r.utils.getColor(),a=20,l=!0,u=28,c=!0,d=!0,h=!1,f=!1,p=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),g="classic";function m(v){function y(t,e){return"furious"!=g?"#000":f?t.disengaged?s(t,e):"#fff":f?void 0:t.disabled?s(t,e):"#fff"}function b(t,e){return f&&"furious"==g?t.disengaged?"#fff":s(t,e):t.disabled?"#fff":s(t,e)}return v.each(function(m){var v=e-t.left-t.right,x=d3.select(this);r.utils.initSVG(x);var _=x.selectAll("g.nv-legend").data([m]),w=(_.enter().append("g").attr("class","nvd3 nv-legend").append("g"),_.select("g"));_.attr("transform","translate("+t.left+","+t.top+")");var C,k=w.selectAll(".nv-series").data(function(t){return"furious"!=g?t:t.filter(function(t){return!!f||!t.disengaged})}),M=k.enter().append("g").attr("class","nv-series");"classic"==g?(M.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),C=k.select("circle")):"furious"==g&&(M.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),C=k.select("rect"),M.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),k.select(".nv-check-box").each(function(t,e){d3.select(this).selectAll("path").attr("stroke",y(t,e))})),M.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var E,A=k.select("text.nv-legend-text");switch(k.on("mouseover",function(t,e){p.legendMouseover(t,e)}).on("mouseout",function(t,e){p.legendMouseout(t,e)}).on("click",function(t,e){p.legendClick(t,e);var n=k.data();d&&("classic"==g?h?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1})):"furious"==g&&(f?(t.disengaged=!t.disengaged,t.userDisabled=void 0==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled):f||(t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter(function(t){return!t.disengaged}).every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1}))),p.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})}))}).on("dblclick",function(t,e){if(("furious"!=g||!f)&&(p.legendDblclick(t,e),d)){var n=k.data();n.forEach(function(t){t.disabled=!0,"furious"==g&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==g&&(t.userDisabled=t.disabled),p.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}),k.classed("nv-disabled",function(t){return t.userDisabled}),k.exit().remove(),A.attr("fill",y).text(function(t){return o(i(t))}),g){case"furious":E=23;break;case"classic":E=20}if(l){var S=[];k.each(function(t,e){var n,s;if(o(i(t))&&o(i(t)).length>a){var l=o(i(t)).substring(0,a);n=d3.select(this).select("text").text(l+"..."),d3.select(this).append("svg:title").text(o(i(t)))}else n=d3.select(this).select("text");try{if((s=n.node().getComputedTextLength())<=0)throw Error()}catch(t){s=r.utils.calcApproxTextWidth(n)}S.push(s+u)});for(var T=0,N=0,O=[];N<v&&T<S.length;)O[T]=S[T],N+=S[T++];for(0===T&&(T=1);N>v&&T>1;){O=[],T--;for(var P=0;P<S.length;P++)S[P]>(O[P%T]||0)&&(O[P%T]=S[P]);N=O.reduce(function(t,e,n,r){return t+e})}for(var I=[],R=0,D=0;R<T;R++)I[R]=D,D+=O[R];k.attr("transform",function(t,e){return"translate("+I[e%T]+","+(5+Math.floor(e/T)*E)+")"}),w.attr("transform",c?"translate("+(e-t.right-N)+","+t.top+")":"translate(0,"+t.top+")"),n=t.top+t.bottom+Math.ceil(S.length/T)*E}else{var V,L=5,F=5,j=0;k.attr("transform",function(n,r){var i=d3.select(this).select("text").node().getComputedTextLength()+u;return e<t.left+t.right+(V=F)+i&&(F=V=5,L+=E),(F+=i)>j&&(j=F),"translate("+V+","+L+")"}),w.attr("transform","translate("+(e-t.right-j)+","+t.top+")"),n=t.top+t.bottom+L+15}"furious"==g&&C.attr("width",function(t,e){return A[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),C.style("fill",b).style("stroke",function(t,e){return t.color||s(t,e)})}),m}return m.dispatch=p,m.options=r.utils.optionsFunc.bind(m),m._options=Object.create({},{width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return n},set:function(t){n=t}},key:{get:function(){return i},set:function(t){i=t}},keyFormatter:{get:function(){return o},set:function(t){o=t}},align:{get:function(){return l},set:function(t){l=t}},rightAlign:{get:function(){return c},set:function(t){c=t}},maxKeyLength:{get:function(){return a},set:function(t){a=t}},padding:{get:function(){return u},set:function(t){u=t}},updateState:{get:function(){return d},set:function(t){d=t}},radioButtonMode:{get:function(){return h},set:function(t){h=t}},expanded:{get:function(){return f},set:function(t){f=t}},vers:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},color:{get:function(){return s},set:function(t){s=r.utils.getColor(t)}}}),r.utils.initOptions(m),m},r.models.historicalBar=function(){"use strict";var t,e,n,i,o={top:0,right:0,bottom:0,left:0},s=null,a=null,l=Math.floor(1e4*Math.random()),u=null,c=d3.scale.linear(),d=d3.scale.linear(),h=function(t){return t.x},f=function(t){return t.y},p=[],g=[0],m=!1,v=!0,y=r.utils.defaultColor(),b=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),x=!0,_=r.utils.renderWatch(b,0);function w(C){return C.each(function(w){_.reset(),u=d3.select(this);var C=r.utils.availableWidth(s,u,o),k=r.utils.availableHeight(a,u,o);r.utils.initSVG(u),c.domain(t||d3.extent(w[0].values.map(h).concat(p))),c.range(m?n||[.5*C/w[0].values.length,C*(w[0].values.length-.5)/w[0].values.length]:n||[0,C]),d.domain(e||d3.extent(w[0].values.map(f).concat(g))).range(i||[k,0]),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1]));var M=u.selectAll("g.nv-wrap.nv-historicalBar-"+l).data([w[0].values]),E=M.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+l),A=E.append("defs"),S=E.append("g"),T=M.select("g");S.append("g").attr("class","nv-bars"),M.attr("transform","translate("+o.left+","+o.top+")"),u.on("click",function(t,e){b.chartClick({data:t,index:e,pos:d3.event,id:l})}),A.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),M.select("#nv-chart-clip-path-"+l+" rect").attr("width",C).attr("height",k),T.attr("clip-path",v?"url(#nv-chart-clip-path-"+l+")":"");var N=M.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,e){return h(t,e)});N.exit().remove(),N.enter().append("rect").attr("x",0).attr("y",function(t,e){return r.utils.NaNtoZero(d(Math.max(0,f(t,e))))}).attr("height",function(t,e){return r.utils.NaNtoZero(Math.abs(d(f(t,e))-d(0)))}).attr("transform",function(t,e){return"translate("+(c(h(t,e))-C/w[0].values.length*.45)+",0)"}).on("mouseover",function(t,e){x&&(d3.select(this).classed("hover",!0),b.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")}))}).on("mouseout",function(t,e){x&&(d3.select(this).classed("hover",!1),b.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")}))}).on("mousemove",function(t,e){x&&b.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){x&&(b.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation())}).on("dblclick",function(t,e){x&&(b.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}),N.attr("fill",function(t,e){return y(t,e)}).attr("class",function(t,e,n){return(f(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).watchTransition(_,"bars").attr("transform",function(t,e){return"translate("+(c(h(t,e))-C/w[0].values.length*.45)+",0)"}).attr("width",C/w[0].values.length*.9),N.watchTransition(_,"bars").attr("y",function(t,e){var n=f(t,e)<0?d(0):d(0)-d(f(t,e))<1?d(0)-1:d(f(t,e));return r.utils.NaNtoZero(n)}).attr("height",function(t,e){return r.utils.NaNtoZero(Math.max(Math.abs(d(f(t,e))-d(0)),1))})}),_.renderEnd("historicalBar immediate"),w}return w.highlightPoint=function(t,e){u.select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},w.clearHighlights=function(){u.select(".nv-bars .nv-bar.hover").classed("hover",!1)},w.dispatch=b,w.options=r.utils.optionsFunc.bind(w),w._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return a},set:function(t){a=t}},forceX:{get:function(){return p},set:function(t){p=t}},forceY:{get:function(){return g},set:function(t){g=t}},padData:{get:function(){return m},set:function(t){m=t}},x:{get:function(){return h},set:function(t){h=t}},y:{get:function(){return f},set:function(t){f=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return e},set:function(t){e=t}},xRange:{get:function(){return n},set:function(t){n=t}},yRange:{get:function(){return i},set:function(t){i=t}},clipEdge:{get:function(){return v},set:function(t){v=t}},id:{get:function(){return l},set:function(t){l=t}},interactive:{get:function(){return x},set:function(t){x=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},color:{get:function(){return y},set:function(t){y=r.utils.getColor(t)}}}),r.utils.initOptions(w),w},r.models.historicalBarChart=function(t){"use strict";var e,n,i=t||r.models.historicalBar(),o=r.models.axis(),s=r.models.axis(),a=r.models.legend(),l=r.interactiveGuideline(),u=r.models.tooltip(),c={top:30,right:90,bottom:50,left:90},d=null,h=r.utils.defaultColor(),f=null,p=null,g=!1,m=!0,v=!0,y=!1,b=!1,x={},_=null,w=null,C=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),k=250;o.orient("bottom").tickPadding(7),s.orient(y?"right":"left"),u.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return s.tickFormat()(t,e)}).headerFormatter(function(t,e){return o.tickFormat()(t,e)});var M=r.utils.renderWatch(C,0);function E(t){return t.each(function(u){M.reset(),M.models(i),m&&M.models(o),v&&M.models(s);var w=d3.select(this);r.utils.initSVG(w);var A,S=r.utils.availableWidth(f,w,c),T=r.utils.availableHeight(p,w,c);if(E.update=function(){w.transition().duration(k).call(E)},E.container=this,x.disabled=u.map(function(t){return!!t.disabled}),!_)for(A in _={},x)_[A]=x[A]instanceof Array?x[A].slice(0):x[A];if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return r.utils.noData(E,w),E;w.selectAll(".nv-noData").remove(),e=i.xScale(),n=i.yScale();var N=w.selectAll("g.nv-wrap.nv-historicalBarChart").data([u]),O=N.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),P=N.select("g");O.append("g").attr("class","nv-x nv-axis"),O.append("g").attr("class","nv-y nv-axis"),O.append("g").attr("class","nv-barsWrap"),O.append("g").attr("class","nv-legendWrap"),O.append("g").attr("class","nv-interactive"),g?(a.width(S),P.select(".nv-legendWrap").datum(u).call(a),d||a.height()===c.top||(c.top=a.height(),T=r.utils.availableHeight(p,w,c)),N.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")):P.select(".nv-legendWrap").selectAll("*").remove(),N.attr("transform","translate("+c.left+","+c.top+")"),y&&P.select(".nv-y.nv-axis").attr("transform","translate("+S+",0)"),b&&(l.width(S).height(T).margin({left:c.left,top:c.top}).svgContainer(w).xScale(e),N.select(".nv-interactive").call(l)),i.width(S).height(T).color(u.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!u[e].disabled})),P.select(".nv-barsWrap").datum(u.filter(function(t){return!t.disabled})).transition().call(i),m&&(o.scale(e)._ticks(r.utils.calcTicksX(S/100,u)).tickSize(-T,0),P.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),P.select(".nv-x.nv-axis").transition().call(o)),v&&(s.scale(n)._ticks(r.utils.calcTicksY(T/36,u)).tickSize(-S,0),P.select(".nv-y.nv-axis").transition().call(s)),l.dispatch.on("elementMousemove",function(t){i.clearHighlights();var e,n,a,c=[];u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(o,s){n=r.interactiveBisect(o.values,t.pointXValue,E.x()),i.highlightPoint(n,!0);var l=o.values[n];void 0!==l&&(void 0===e&&(e=l),void 0===a&&(a=E.xScale()(E.x()(l,n))),c.push({key:o.key,value:E.y()(l,n),color:h(o,o.seriesIndex),data:o.values[n]}))});var d=o.tickFormat()(E.x()(e,n));l.tooltip.valueFormatter(function(t,e){return s.tickFormat()(t)}).data({value:d,index:n,series:c})(),l.renderGuideLine(a)}),l.dispatch.on("elementMouseout",function(t){C.tooltipHide(),i.clearHighlights()}),a.dispatch.on("legendClick",function(e,n){e.disabled=!e.disabled,u.filter(function(t){return!t.disabled}).length||u.map(function(t){return t.disabled=!1,N.selectAll(".nv-series").classed("disabled",!1),t}),x.disabled=u.map(function(t){return!!t.disabled}),C.stateChange(x),t.transition().call(E)}),a.dispatch.on("legendDblclick",function(t){u.forEach(function(t){t.disabled=!0}),t.disabled=!1,x.disabled=u.map(function(t){return!!t.disabled}),C.stateChange(x),E.update()}),C.on("changeState",function(t){"undefined"!=typeof t.disabled&&(u.forEach(function(e,n){e.disabled=t.disabled[n]}),x.disabled=t.disabled),E.update()})}),M.renderEnd("historicalBarChart immediate"),E}return i.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:E.x()(t.data),value:E.y()(t.data),color:t.color},u.data(t).hidden(!1)}),i.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)}),i.dispatch.on("elementMousemove.tooltip",function(t){u()}),E.dispatch=C,E.bars=i,E.legend=a,E.xAxis=o,E.yAxis=s,E.interactiveLayer=l,E.tooltip=u,E.options=r.utils.optionsFunc.bind(E),E._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return g},set:function(t){g=t}},showXAxis:{get:function(){return m},set:function(t){m=t}},showYAxis:{get:function(){return v},set:function(t){v=t}},defaultState:{get:function(){return _},set:function(t){_=t}},noData:{get:function(){return w},set:function(t){w=t}},margin:{get:function(){return c},set:function(t){void 0!==t.top&&(c.top=t.top,d=t.top),c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},color:{get:function(){return h},set:function(t){h=r.utils.getColor(t),a.color(h),i.color(h)}},duration:{get:function(){return k},set:function(t){M.reset(k=t),s.duration(k),o.duration(k)}},rightAlignYAxis:{get:function(){return y},set:function(t){y=t,s.orient(t?"right":"left")}},useInteractiveGuideline:{get:function(){return b},set:function(t){b=t,!0===t&&E.interactive(!1)}}}),r.utils.inheritOptions(E,i),r.utils.initOptions(E),E},r.models.ohlcBarChart=function(){var t=r.models.historicalBarChart(r.models.ohlcBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator(function(e){var n=e.series[0].data;return'<h3 style="color: #'+(n.open<n.close?"2ca02c":"d62728")+'">'+e.value+"</h3><table><tr><td>open:</td><td>"+t.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+t.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+t.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+t.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),t},r.models.candlestickBarChart=function(){var t=r.models.historicalBarChart(r.models.candlestickBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator(function(e){var n=e.series[0].data;return'<h3 style="color: #'+(n.open<n.close?"2ca02c":"d62728")+'">'+e.value+"</h3><table><tr><td>open:</td><td>"+t.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+t.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+t.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+t.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),t},r.models.legend=function(){"use strict";var t={top:5,right:0,bottom:5,left:0},e=400,n=20,i=function(t){return t.key},o=function(t){return t},s=r.utils.getColor(),a=20,l=!0,u=32,c=!0,d=!0,h=!0,f=!1,p=!1,g=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),m="classic";function v(y){function b(t,e){return"furious"!=m?"#000":p?t.disengaged?"#000":"#fff":p?void 0:(t.color||(t.color=s(t,e)),t.disabled?t.color:"#fff")}function x(t,e){return p&&"furious"==m&&t.disengaged?"#eee":t.color||s(t,e)}function _(t,e){return p&&"furious"==m?1:t.disabled?0:1}return y.each(function(s){var v=e-t.left-t.right,y=d3.select(this);r.utils.initSVG(y);var w=y.selectAll("g.nv-legend").data([s]),C=w.enter().append("g").attr("class","nvd3 nv-legend").append("g"),k=w.select("g");w.attr("transform",c?"translate("+-t.right+","+t.top+")":"translate("+t.left+","+t.top+")");var M,E,A=k.selectAll(".nv-series").data(function(t){return"furious"!=m?t:t.filter(function(t){return!!p||!t.disengaged})}),S=A.enter().append("g").attr("class","nv-series");switch(m){case"furious":E=23;break;case"classic":E=20}"classic"==m?(S.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),M=A.select(".nv-legend-symbol")):"furious"==m&&(S.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),M=A.select(".nv-legend-symbol"),S.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),A.select(".nv-check-box").each(function(t,e){d3.select(this).selectAll("path").attr("stroke",b(t,e))})),S.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var T=A.select("text.nv-legend-text");A.on("mouseover",function(t,e){g.legendMouseover(t,e)}).on("mouseout",function(t,e){g.legendMouseout(t,e)}).on("click",function(t,e){g.legendClick(t,e);var n=A.data();d&&("classic"==m?f?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1})):"furious"==m&&(p?(t.disengaged=!t.disengaged,t.userDisabled=void 0==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled):p||(t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter(function(t){return!t.disengaged}).every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1}))),g.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})}))}).on("dblclick",function(t,e){if(h){if("furious"==m&&p)return;if(g.legendDblclick(t,e),d){var n=A.data();n.forEach(function(t){t.disabled=!0,"furious"==m&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==m&&(t.userDisabled=t.disabled),g.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}}),A.classed("nv-disabled",function(t){return t.userDisabled}),A.exit().remove(),T.attr("fill",b).text(function(t){return o(i(t))});var N=0;if(l){var O=[];A.each(function(t,e){var n,s;if(o(i(t))&&o(i(t)).length>a){var l=o(i(t)).substring(0,a);n=d3.select(this).select("text").text(l+"..."),d3.select(this).append("svg:title").text(o(i(t)))}else n=d3.select(this).select("text");try{if((s=n.node().getComputedTextLength())<=0)throw Error()}catch(t){s=r.utils.calcApproxTextWidth(n)}O.push(s+u)});var P=0,I=[];for(N=0;N<v&&P<O.length;)I[P]=O[P],N+=O[P++];for(0===P&&(P=1);N>v&&P>1;){I=[],P--;for(var R=0;R<O.length;R++)O[R]>(I[R%P]||0)&&(I[R%P]=O[R]);N=I.reduce(function(t,e,n,r){return t+e})}for(var D=[],V=0,L=0;V<P;V++)D[V]=L,L+=I[V];A.attr("transform",function(t,e){return"translate("+D[e%P]+","+(5+Math.floor(e/P)*E)+")"}),k.attr("transform",c?"translate("+(e-t.right-N)+","+t.top+")":"translate(0,"+t.top+")"),n=t.top+t.bottom+Math.ceil(O.length/P)*E}else{var F,j=5,z=5,W=0;A.attr("transform",function(n,r){var i=d3.select(this).select("text").node().getComputedTextLength()+u;return e<t.left+t.right+(F=z)+i&&(z=F=5,j+=E),(z+=i)>W&&(W=z),N<F+W&&(N=F+W),"translate("+F+","+j+")"}),k.attr("transform","translate("+(e-t.right-W)+","+t.top+")"),n=t.top+t.bottom+j+15}"furious"==m&&(M.attr("width",function(t,e){return T[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),C.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0),k.select(".nv-legend-bg").transition().duration(300).attr("x",-E).attr("width",N+E-12).attr("height",n+10).attr("y",-t.top-10).attr("opacity",p?1:0)),M.style("fill",x).style("fill-opacity",_).style("stroke",x)}),v}return v.dispatch=g,v.options=r.utils.optionsFunc.bind(v),v._options=Object.create({},{width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return n},set:function(t){n=t}},key:{get:function(){return i},set:function(t){i=t}},keyFormatter:{get:function(){return o},set:function(t){o=t}},align:{get:function(){return l},set:function(t){l=t}},maxKeyLength:{get:function(){return a},set:function(t){a=t}},rightAlign:{get:function(){return c},set:function(t){c=t}},padding:{get:function(){return u},set:function(t){u=t}},updateState:{get:function(){return d},set:function(t){d=t}},enableDoubleClick:{get:function(){return h},set:function(t){h=t}},radioButtonMode:{get:function(){return f},set:function(t){f=t}},expanded:{get:function(){return p},set:function(t){p=t}},vers:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},color:{get:function(){return s},set:function(t){s=r.utils.getColor(t)}}}),r.utils.initOptions(v),v},r.models.line=function(){"use strict";var t,e,n=r.models.scatter(),i={top:0,right:0,bottom:0,left:0},o=960,s=500,a=null,l=1.5,u=r.utils.defaultColor(),c=function(t){return t.x},d=function(t){return t.y},h=function(t,e){return!isNaN(d(t,e))&&null!==d(t,e)},f=function(t){return t.area},p=!1,g="linear",m=250,v=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");n.pointSize(16).pointDomain([16,256]);var y,b,x=r.utils.renderWatch(v,m);function _(m){return x.reset(),x.models(n),m.each(function(m){a=d3.select(this);var v=r.utils.availableWidth(o,a,i),_=r.utils.availableHeight(s,a,i);r.utils.initSVG(a),t=n.xScale(),e=n.yScale(),y=y||t,b=b||e;var w=a.selectAll("g.nv-wrap.nv-line").data([m]),C=w.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),k=C.append("defs"),M=C.append("g"),E=w.select("g");M.append("g").attr("class","nv-groups"),M.append("g").attr("class","nv-scatterWrap"),w.attr("transform","translate("+i.left+","+i.top+")"),n.width(v).height(_);var A=w.select(".nv-scatterWrap");A.call(n),k.append("clipPath").attr("id","nv-edge-clip-"+n.id()).append("rect"),w.select("#nv-edge-clip-"+n.id()+" rect").attr("width",v).attr("height",_>0?_:0),E.attr("clip-path",p?"url(#nv-edge-clip-"+n.id()+")":""),A.attr("clip-path",p?"url(#nv-edge-clip-"+n.id()+")":"");var S=w.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});S.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(t){return t.strokeWidth||l}).style("fill-opacity",1e-6),S.exit().remove(),S.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return u(t,e)}).style("stroke",function(t,e){return u(t,e)}),S.watchTransition(x,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(t){return t.fillOpacity||.5});var T=S.selectAll("path.nv-area").data(function(t){return f(t)?[t]:[]});T.enter().append("path").attr("class","nv-area").attr("d",function(t){return d3.svg.area().interpolate(g).defined(h).x(function(t,e){return r.utils.NaNtoZero(y(c(t,e)))}).y0(function(t,e){return r.utils.NaNtoZero(b(d(t,e)))}).y1(function(t,n){return b(e.domain()[0]<=0?e.domain()[1]>=0?0:e.domain()[1]:e.domain()[0])}).apply(this,[t.values])}),S.exit().selectAll("path.nv-area").remove(),T.watchTransition(x,"line: areaPaths").attr("d",function(n){return d3.svg.area().interpolate(g).defined(h).x(function(e,n){return r.utils.NaNtoZero(t(c(e,n)))}).y0(function(t,n){return r.utils.NaNtoZero(e(d(t,n)))}).y1(function(t,n){return e(e.domain()[0]<=0?e.domain()[1]>=0?0:e.domain()[1]:e.domain()[0])}).apply(this,[n.values])});var N=S.selectAll("path.nv-line").data(function(t){return[t.values]});N.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(g).defined(h).x(function(t,e){return r.utils.NaNtoZero(y(c(t,e)))}).y(function(t,e){return r.utils.NaNtoZero(b(d(t,e)))})),N.watchTransition(x,"line: linePaths").attr("d",d3.svg.line().interpolate(g).defined(h).x(function(e,n){return r.utils.NaNtoZero(t(c(e,n)))}).y(function(t,n){return r.utils.NaNtoZero(e(d(t,n)))})),y=t.copy(),b=e.copy()}),x.renderEnd("line immediate"),_}return _.dispatch=v,_.scatter=n,n.dispatch.on("elementClick",function(){v.elementClick.apply(this,arguments)}),n.dispatch.on("elementMouseover",function(){v.elementMouseover.apply(this,arguments)}),n.dispatch.on("elementMouseout",function(){v.elementMouseout.apply(this,arguments)}),_.options=r.utils.optionsFunc.bind(_),_._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},defined:{get:function(){return h},set:function(t){h=t}},interpolate:{get:function(){return g},set:function(t){g=t}},clipEdge:{get:function(){return p},set:function(t){p=t}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},duration:{get:function(){return m},set:function(t){x.reset(m=t),n.duration(m)}},isArea:{get:function(){return f},set:function(t){f=d3.functor(t)}},x:{get:function(){return c},set:function(t){c=t,n.x(t)}},y:{get:function(){return d},set:function(t){d=t,n.y(t)}},color:{get:function(){return u},set:function(t){u=r.utils.getColor(t),n.color(u)}}}),r.utils.inheritOptions(_,n),r.utils.initOptions(_),_},r.models.lineChart=function(){"use strict";var t,e,n=r.models.line(),i=r.models.axis(),o=r.models.axis(),s=r.models.legend(),a=r.interactiveGuideline(),l=r.models.tooltip(),u=r.models.focus(r.models.line()),c={top:30,right:20,bottom:50,left:60},d=null,h=r.utils.defaultColor(),f=null,p=null,g=!0,m="top",v=!0,y=!0,b=!1,x=!1,_=!1,w=r.utils.state(),C=null,k=null,M=d3.dispatch("stateChange","changeState","renderEnd"),E=250;i.orient("bottom").tickPadding(7),o.orient(b?"right":"left"),n.clipEdge(!0).duration(0),l.valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),a.tooltip.valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)});var A=r.utils.renderWatch(M,E),S=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},T=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};function N(l){return A.reset(),A.models(n),v&&A.models(i),y&&A.models(o),l.each(function(l){var k=d3.select(this);r.utils.initSVG(k);var A,O=r.utils.availableWidth(f,k,c),P=r.utils.availableHeight(p,k,c)-(_?u.height():0);if(N.update=function(){0===E?k.call(N):k.transition().duration(E).call(N)},N.container=this,w.setter(T(l),N.update).getter(S(l)).update(),w.disabled=l.map(function(t){return!!t.disabled}),!C)for(A in C={},w)C[A]=w[A]instanceof Array?w[A].slice(0):w[A];if(!(l&&l.length&&l.filter(function(t){return t.values.length}).length))return r.utils.noData(N,k),N;k.selectAll(".nv-noData").remove(),u.dispatch.on("onBrush",function(t){W(t)}),t=n.xScale(),e=n.yScale();var I=k.selectAll("g.nv-wrap.nv-lineChart").data([l]),R=I.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),D=I.select("g");R.append("g").attr("class","nv-legendWrap");var V=R.append("g").attr("class","nv-focus");V.append("g").attr("class","nv-background").append("rect"),V.append("g").attr("class","nv-x nv-axis"),V.append("g").attr("class","nv-y nv-axis"),V.append("g").attr("class","nv-linesWrap"),V.append("g").attr("class","nv-interactive"),R.append("g").attr("class","nv-focusWrap"),g?(s.width(O),D.select(".nv-legendWrap").datum(l).call(s),"bottom"===m?(c.bottom=i.height()+s.height(),P=r.utils.availableHeight(p,k,c),D.select(".nv-legendWrap").attr("transform","translate(0,"+(P+i.height())+")")):"top"===m&&(d||s.height()===c.top||(c.top=s.height(),P=r.utils.availableHeight(p,k,c)-(_?u.height():0)),I.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")"))):D.select(".nv-legendWrap").selectAll("*").remove(),I.attr("transform","translate("+c.left+","+c.top+")"),b&&D.select(".nv-y.nv-axis").attr("transform","translate("+O+",0)"),x&&(a.width(O).height(P).margin({left:c.left,top:c.top}).svgContainer(k).xScale(t),I.select(".nv-interactive").call(a)),D.select(".nv-focus .nv-background rect").attr("width",O).attr("height",P),n.width(O).height(P).color(l.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!l[e].disabled}));var L=D.select(".nv-linesWrap").datum(l.filter(function(t){return!t.disabled}));function F(){v&&D.select(".nv-focus .nv-x.nv-axis").transition().duration(E).call(i)}function j(){y&&D.select(".nv-focus .nv-y.nv-axis").transition().duration(E).call(o)}if(v&&i.scale(t)._ticks(r.utils.calcTicksX(O/100,l)).tickSize(-P,0),y&&o.scale(e)._ticks(r.utils.calcTicksY(P/36,l)).tickSize(-O,0),D.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+P+")"),_||null!==u.brush.extent()){u.width(O),D.select(".nv-focusWrap").style("display",_?"initial":"none").attr("transform","translate(0,"+(P+c.bottom+u.margin().top)+")").call(u);var z=u.brush.empty()?u.xDomain():u.brush.extent();null!==z&&W(z)}else L.call(n),F(),j();function W(t){D.select(".nv-focus .nv-linesWrap").datum(l.filter(function(t){return!t.disabled}).map(function(e,r){return{key:e.key,area:e.area,classed:e.classed,values:e.values.filter(function(e,r){return n.x()(e,r)>=t[0]&&n.x()(e,r)<=t[1]}),disableTooltip:e.disableTooltip}})).transition().duration(E).call(n),F(),j()}s.dispatch.on("stateChange",function(t){for(var e in t)w[e]=t[e];M.stateChange(w),N.update()}),a.dispatch.on("elementMousemove",function(e){n.clearHighlights();var i,s,c,d=[];if(l.filter(function(t,e){return t.seriesIndex=e,!t.disabled&&!t.disableTooltip}).forEach(function(o,a){var l=null!==u.brush.extent()?u.brush.empty()?u.xScale().domain():u.brush.extent():t.domain(),f=o.values.filter(function(t,e){return l[0]<=l[1]?n.x()(t,e)>=l[0]&&n.x()(t,e)<=l[1]:n.x()(t,e)>=l[1]&&n.x()(t,e)<=l[0]}),p=f[s=r.interactiveBisect(f,e.pointXValue,n.x())],g=N.y()(p,s);null!==g&&n.highlightPoint(a,s,!0),void 0!==p&&(void 0===i&&(i=p),void 0===c&&(c=N.xScale()(N.x()(p,s))),d.push({key:o.key,value:g,color:h(o,o.seriesIndex),data:p}))}),d.length>2){var f=N.yScale().invert(e.mouseY),p=.03*Math.abs(N.yScale().domain()[0]-N.yScale().domain()[1]),g=r.nearestValueIndex(d.map(function(t){return t.value}),f,p);null!==g&&(d[g].highlight=!0)}a.tooltip.valueFormatter(a.tooltip.valueFormatter()||function(t,e){return null==t?"N/A":o.tickFormat()(t)}).data({value:N.x()(i,s),index:s,series:d})(),a.renderGuideLine(c)}),a.dispatch.on("elementClick",function(t){var e,i=[];l.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(n){var o=r.interactiveBisect(n.values,t.pointXValue,N.x()),s=n.values[o];if("undefined"!=typeof s){"undefined"==typeof e&&(e=N.xScale()(N.x()(s,o)));var a=N.yScale()(N.y()(s,o));i.push({point:s,pointIndex:o,pos:[e,a],seriesIndex:n.seriesIndex,series:n})}}),n.dispatch.elementClick(i)}),a.dispatch.on("elementMouseout",function(t){n.clearHighlights()}),M.on("changeState",function(t){"undefined"!=typeof t.disabled&&l.length===t.disabled.length&&(l.forEach(function(e,n){e.disabled=t.disabled[n]}),w.disabled=t.disabled),N.update()})}),A.renderEnd("lineChart immediate"),N}return n.dispatch.on("elementMouseover.tooltip",function(t){t.series.disableTooltip||l.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){l.hidden(!0)}),N.dispatch=M,N.lines=n,N.legend=s,N.focus=u,N.xAxis=i,N.x2Axis=u.xAxis,N.yAxis=o,N.y2Axis=u.yAxis,N.interactiveLayer=a,N.tooltip=l,N.state=w,N.dispatch=M,N.options=r.utils.optionsFunc.bind(N),N._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return g},set:function(t){g=t}},legendPosition:{get:function(){return m},set:function(t){m=t}},showXAxis:{get:function(){return v},set:function(t){v=t}},showYAxis:{get:function(){return y},set:function(t){y=t}},defaultState:{get:function(){return C},set:function(t){C=t}},noData:{get:function(){return k},set:function(t){k=t}},focusEnable:{get:function(){return _},set:function(t){_=t}},focusHeight:{get:function(){return u.height()},set:function(t){u.height(t)}},focusShowAxisX:{get:function(){return u.showXAxis()},set:function(t){u.showXAxis(t)}},focusShowAxisY:{get:function(){return u.showYAxis()},set:function(t){u.showYAxis(t)}},brushExtent:{get:function(){return u.brushExtent()},set:function(t){u.brushExtent(t)}},focusMargin:{get:function(){return u.margin},set:function(t){void 0!==t.top&&(c.top=t.top,d=t.top),u.margin.right=void 0!==t.right?t.right:u.margin.right,u.margin.bottom=void 0!==t.bottom?t.bottom:u.margin.bottom,u.margin.left=void 0!==t.left?t.left:u.margin.left}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return E},set:function(t){A.reset(E=t),n.duration(E),u.duration(E),i.duration(E),o.duration(E)}},color:{get:function(){return h},set:function(t){h=r.utils.getColor(t),s.color(h),n.color(h),u.color(h)}},interpolate:{get:function(){return n.interpolate()},set:function(t){n.interpolate(t),u.interpolate(t)}},xTickFormat:{get:function(){return i.tickFormat()},set:function(t){i.tickFormat(t),u.xTickFormat(t)}},yTickFormat:{get:function(){return o.tickFormat()},set:function(t){o.tickFormat(t),u.yTickFormat(t)}},x:{get:function(){return n.x()},set:function(t){n.x(t),u.x(t)}},y:{get:function(){return n.y()},set:function(t){n.y(t),u.y(t)}},rightAlignYAxis:{get:function(){return b},set:function(t){o.orient((b=t)?"right":"left")}},useInteractiveGuideline:{get:function(){return x},set:function(t){(x=t)&&(n.interactive(!1),n.useVoronoi(!1))}}}),r.utils.inheritOptions(N,n),r.utils.initOptions(N),N},r.models.lineWithFocusChart=function(){return r.models.lineChart().margin({bottom:30}).focusEnable(!0)},r.models.linePlusBarChart=function(){"use strict";var t,e,n,i,o,s,a,l=r.models.line(),u=r.models.line(),c=r.models.historicalBar(),d=r.models.historicalBar(),h=r.models.axis(),f=r.models.axis(),p=r.models.axis(),g=r.models.axis(),m=r.models.axis(),v=r.models.axis(),y=r.models.legend(),b=d3.svg.brush(),x=r.models.tooltip(),_={top:30,right:30,bottom:30,left:60},w=null,C={top:0,right:30,bottom:20,left:60},k=null,M=null,E=function(t){return t.x},A=function(t){return t.y},S=r.utils.defaultColor(),T=!0,N=!0,O=!1,P=!0,I=50,R=null,D=null,V=d3.dispatch("brush","stateChange","changeState"),L=0,F=r.utils.state(),j=null,z=" (left axis)",W=" (right axis)",H=!1;l.clipEdge(!0),u.interactive(!1),u.pointActive(function(t){return!1}),h.orient("bottom").tickPadding(5),p.orient("left"),g.orient("right"),f.orient("bottom").tickPadding(5),m.orient("left"),v.orient("right"),x.headerEnabled(!0).headerFormatter(function(t,e){return h.tickFormat()(t,e)});var U=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},B=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},$=function(t){return t.every(function(t){return t.disabled})};function q(x){return x.each(function(x){var D=d3.select(this);r.utils.initSVG(D);var G,Z=r.utils.availableWidth(k,D,_),Y=r.utils.availableHeight(M,D,_)-(N?I:0),X=I-C.top-C.bottom;if(q.update=function(){D.transition().duration(L).call(q)},q.container=this,F.setter(B(x),q.update).getter(U(x)).update(),F.disabled=x.map(function(t){return!!t.disabled}),!j)for(G in j={},F)j[G]=F[G]instanceof Array?F[G].slice(0):F[G];if(!(x&&x.length&&x.filter(function(t){return t.values.length}).length))return r.utils.noData(q,D),q;D.selectAll(".nv-noData").remove();var K=x.filter(function(t){return!t.disabled&&t.bar}),Q=x.filter(function(t){return!t.bar});e=K.length&&!H?c.xScale():l.xScale(),n=f.scale(),i=H?l.yScale():c.yScale(),o=H?c.yScale():l.yScale(),s=H?u.yScale():d.yScale(),a=H?d.yScale():u.yScale();var J=x.filter(function(t){return!t.disabled&&(H?!t.bar:t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:E(t,e),y:A(t,e)}})}),tt=x.filter(function(t){return!t.disabled&&(H?t.bar:!t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:E(t,e),y:A(t,e)}})});e.range([0,Z]),n.domain(d3.extent(d3.merge(J.concat(tt)),function(t){return t.x})).range([0,Z]);var et=D.selectAll("g.nv-wrap.nv-linePlusBar").data([x]),nt=et.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),rt=et.select("g");nt.append("g").attr("class","nv-legendWrap");var it=nt.append("g").attr("class","nv-focus");it.append("g").attr("class","nv-x nv-axis"),it.append("g").attr("class","nv-y1 nv-axis"),it.append("g").attr("class","nv-y2 nv-axis"),it.append("g").attr("class","nv-barsWrap"),it.append("g").attr("class","nv-linesWrap");var ot=nt.append("g").attr("class","nv-context");if(ot.append("g").attr("class","nv-x nv-axis"),ot.append("g").attr("class","nv-y1 nv-axis"),ot.append("g").attr("class","nv-y2 nv-axis"),ot.append("g").attr("class","nv-barsWrap"),ot.append("g").attr("class","nv-linesWrap"),ot.append("g").attr("class","nv-brushBackground"),ot.append("g").attr("class","nv-x nv-brush"),T){var st=y.align()?Z/2:Z,at=y.align()?st:0;y.width(st),rt.select(".nv-legendWrap").datum(x.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=H?t.originalKey+(t.bar?W:z):t.originalKey+(t.bar?z:W),t})).call(y),w||y.height()===_.top||(_.top=y.height(),Y=r.utils.availableHeight(M,D,_)-I),rt.select(".nv-legendWrap").attr("transform","translate("+at+","+-_.top+")")}else rt.select(".nv-legendWrap").selectAll("*").remove();et.attr("transform","translate("+_.left+","+_.top+")"),rt.select(".nv-context").style("display",N?"initial":"none"),d.width(Z).height(X).color(x.map(function(t,e){return t.color||S(t,e)}).filter(function(t,e){return!x[e].disabled&&x[e].bar})),u.width(Z).height(X).color(x.map(function(t,e){return t.color||S(t,e)}).filter(function(t,e){return!x[e].disabled&&!x[e].bar}));var lt=rt.select(".nv-context .nv-barsWrap").datum(K.length?K:[{values:[]}]),ut=rt.select(".nv-context .nv-linesWrap").datum($(Q)?[{values:[]}]:Q.filter(function(t){return!t.disabled}));rt.select(".nv-context").attr("transform","translate(0,"+(Y+_.bottom+C.top)+")"),lt.transition().call(d),ut.transition().call(u),P&&(f._ticks(r.utils.calcTicksX(Z/100,x)).tickSize(-X,0),rt.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+s.range()[0]+")"),rt.select(".nv-context .nv-x.nv-axis").transition().call(f)),O&&(m.scale(s)._ticks(X/36).tickSize(-Z,0),v.scale(a)._ticks(X/36).tickSize(K.length?0:-Z,0),rt.select(".nv-context .nv-y3.nv-axis").style("opacity",K.length?1:0).attr("transform","translate(0,"+n.range()[0]+")"),rt.select(".nv-context .nv-y2.nv-axis").style("opacity",Q.length?1:0).attr("transform","translate("+n.range()[1]+",0)"),rt.select(".nv-context .nv-y1.nv-axis").transition().call(m),rt.select(".nv-context .nv-y2.nv-axis").transition().call(v)),b.x(n).on("brush",ft),R&&b.extent(R);var ct=rt.select(".nv-brushBackground").selectAll("g").data([R||b.extent()]),dt=ct.enter().append("g");dt.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",X),dt.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",X);var ht=rt.select(".nv-x.nv-brush").call(b);function ft(){R=b.empty()?null:b.extent(),t=b.empty()?n.domain():b.extent(),V.brush({extent:t,brush:b}),b.empty()||b.extent(R),ct.data([b.empty()?n.domain():R]).each(function(t,e){var r=n(t[0])-n.range()[0],i=n.range()[1]-n(t[1]);d3.select(this).select(".left").attr("width",r<0?0:r),d3.select(this).select(".right").attr("x",n(t[1])).attr("width",i<0?0:i)}),c.width(Z).height(Y).color(x.map(function(t,e){return t.color||S(t,e)}).filter(function(t,e){return!x[e].disabled&&x[e].bar})),l.width(Z).height(Y).color(x.map(function(t,e){return t.color||S(t,e)}).filter(function(t,e){return!x[e].disabled&&!x[e].bar}));var s=rt.select(".nv-focus .nv-barsWrap").datum(K.length?K.map(function(e,n){return{key:e.key,values:e.values.filter(function(e,n){return c.x()(e,n)>=t[0]&&c.x()(e,n)<=t[1]})}}):[{values:[]}]),a=rt.select(".nv-focus .nv-linesWrap").datum($(Q)?[{values:[]}]:Q.filter(function(t){return!t.disabled}).map(function(e,n){return{area:e.area,fillOpacity:e.fillOpacity,strokeWidth:e.strokeWidth,key:e.key,values:e.values.filter(function(e,n){return l.x()(e,n)>=t[0]&&l.x()(e,n)<=t[1]})}}));e=K.length&&!H?c.xScale():l.xScale(),h.scale(e)._ticks(r.utils.calcTicksX(Z/100,x)).tickSize(-Y,0),h.domain([Math.ceil(t[0]),Math.floor(t[1])]),rt.select(".nv-x.nv-axis").transition().duration(L).call(h),s.transition().duration(L).call(c),a.transition().duration(L).call(l),rt.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),p.scale(i)._ticks(r.utils.calcTicksY(Y/36,x)).tickSize(-Z,0),g.scale(o)._ticks(r.utils.calcTicksY(Y/36,x)),g.tickSize(H?Q.length?0:-Z:K.length?0:-Z,0);var u=K.length?1:0,d=Q.length&&!$(Q)?1:0,f=H?d:u,m=H?u:d;rt.select(".nv-focus .nv-y1.nv-axis").style("opacity",f),rt.select(".nv-focus .nv-y2.nv-axis").style("opacity",m).attr("transform","translate("+e.range()[1]+",0)"),rt.select(".nv-focus .nv-y1.nv-axis").transition().duration(L).call(p),rt.select(".nv-focus .nv-y2.nv-axis").transition().duration(L).call(g)}ht.selectAll("rect").attr("height",X),ht.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,r=X/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}),y.dispatch.on("stateChange",function(t){for(var e in t)F[e]=t[e];V.stateChange(F),q.update()}),V.on("changeState",function(t){"undefined"!=typeof t.disabled&&(x.forEach(function(e,n){e.disabled=t.disabled[n]}),F.disabled=t.disabled),q.update()}),ft()}),q}return l.dispatch.on("elementMouseover.tooltip",function(t){x.duration(100).valueFormatter(function(t,e){return(H?{main:p,focus:m}:{main:g,focus:v}).main.tickFormat()(t,e)}).data(t).hidden(!1)}),l.dispatch.on("elementMouseout.tooltip",function(t){x.hidden(!0)}),c.dispatch.on("elementMouseover.tooltip",function(t){t.value=q.x()(t.data),t.series={value:q.y()(t.data),color:t.color},x.duration(0).valueFormatter(function(t,e){return(H?{main:g,focus:v}:{main:p,focus:m}).main.tickFormat()(t,e)}).data(t).hidden(!1)}),c.dispatch.on("elementMouseout.tooltip",function(t){x.hidden(!0)}),c.dispatch.on("elementMousemove.tooltip",function(t){x()}),q.dispatch=V,q.legend=y,q.lines=l,q.lines2=u,q.bars=c,q.bars2=d,q.xAxis=h,q.x2Axis=f,q.y1Axis=p,q.y2Axis=g,q.y3Axis=m,q.y4Axis=v,q.tooltip=x,q.options=r.utils.optionsFunc.bind(q),q._options=Object.create({},{width:{get:function(){return k},set:function(t){k=t}},height:{get:function(){return M},set:function(t){M=t}},showLegend:{get:function(){return T},set:function(t){T=t}},brushExtent:{get:function(){return R},set:function(t){R=t}},noData:{get:function(){return D},set:function(t){D=t}},focusEnable:{get:function(){return N},set:function(t){N=t}},focusHeight:{get:function(){return I},set:function(t){I=t}},focusShowAxisX:{get:function(){return P},set:function(t){P=t}},focusShowAxisY:{get:function(){return O},set:function(t){O=t}},legendLeftAxisHint:{get:function(){return z},set:function(t){z=t}},legendRightAxisHint:{get:function(){return W},set:function(t){W=t}},margin:{get:function(){return _},set:function(t){void 0!==t.top&&(_.top=t.top,w=t.top),_.right=void 0!==t.right?t.right:_.right,_.bottom=void 0!==t.bottom?t.bottom:_.bottom,_.left=void 0!==t.left?t.left:_.left}},focusMargin:{get:function(){return C},set:function(t){C.top=void 0!==t.top?t.top:C.top,C.right=void 0!==t.right?t.right:C.right,C.bottom=void 0!==t.bottom?t.bottom:C.bottom,C.left=void 0!==t.left?t.left:C.left}},duration:{get:function(){return L},set:function(t){L=t}},color:{get:function(){return S},set:function(t){S=r.utils.getColor(t),y.color(S)}},x:{get:function(){return E},set:function(t){E=t,l.x(t),u.x(t),c.x(t),d.x(t)}},y:{get:function(){return A},set:function(t){A=t,l.y(t),u.y(t),c.y(t),d.y(t)}},switchYAxisOrder:{get:function(){return H},set:function(t){if(H!==t){var e=p;p=g,g=e;var n=m;m=v,v=n}H=t,p.orient("left"),g.orient("right"),m.orient("left"),v.orient("right")}}}),r.utils.inheritOptions(q,l),r.utils.initOptions(q),q},r.models.multiBar=function(){"use strict";var t,e,n,i,o,s,a,l={top:0,right:0,bottom:0,left:0},u=960,c=500,d=d3.scale.ordinal(),h=d3.scale.linear(),f=Math.floor(1e4*Math.random()),p=null,g=function(t){return t.x},m=function(t){return t.y},v=[0],y=!0,b=!1,x="zero",_=r.utils.defaultColor(),w=!1,C=null,k=500,M=.1,E=.75,A=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),S=r.utils.renderWatch(A,k),T=0;function N(O){return S.reset(),O.each(function(N){var O=u-l.left-l.right,P=c-l.top-l.bottom;p=d3.select(this),r.utils.initSVG(p);var I=0;if(w&&N.length&&(w=[{values:N[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),b){var R=d3.layout.stack().offset(x).values(function(t){return t.values}).y(m)(!N.length&&w?w:N);R.forEach(function(t,e){t.nonStackable?(N[e].nonStackableSeries=I++,R[e]=N[e]):e>0&&R[e-1].nonStackable&&R[e].values.map(function(t,n){t.y0-=R[e-1].values[n].y,t.y1=t.y0+t.y})}),N=R}N.forEach(function(t,e){t.values.forEach(function(n){n.series=e,n.key=t.key})}),b&&N.length>0&&N[0].values.map(function(t,e){var n=0,r=0;N.map(function(t,i){if(!N[i].nonStackable){var o=t.values[e];o.size=Math.abs(o.y),o.y<0?(o.y1=r,r-=o.size):(o.y1=o.size+n,n+=o.size)}})});var D=e&&n?[]:N.map(function(t,e){return t.values.map(function(t,n){return{x:g(t,n),y:m(t,n),y0:t.y0,y1:t.y1,idx:e}})});d.domain(e||d3.merge(D).map(function(t){return t.x})).rangeBands(i||[0,O],M),h.domain(n||d3.extent(d3.merge(D).map(function(t){var e=t.y;return b&&!N[t.idx].nonStackable&&(e=t.y>0?t.y1:t.y1+t.y),e}).concat(v))).range(o||[P,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]+.01*h.domain()[0],h.domain()[1]-.01*h.domain()[1]]):h.domain([-1,1])),s=s||d,a=a||h;var V=p.selectAll("g.nv-wrap.nv-multibar").data([N]),L=V.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),F=L.append("defs"),j=L.append("g"),z=V.select("g");j.append("g").attr("class","nv-groups"),V.attr("transform","translate("+l.left+","+l.top+")"),F.append("clipPath").attr("id","nv-edge-clip-"+f).append("rect"),V.select("#nv-edge-clip-"+f+" rect").attr("width",O).attr("height",P),z.attr("clip-path",y?"url(#nv-edge-clip-"+f+")":"");var W=V.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});W.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var H=S.transition(W.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,k)).attr("y",function(t,e,n){var r=a(0)||0;return b&&N[t.series]&&!N[t.series].nonStackable&&(r=a(t.y0)),r}).attr("height",0).remove();H.delay&&H.delay(function(t,e){return e*(k/(T+1))-e}),W.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return _(t,e)}).style("stroke",function(t,e){return _(t,e)}),W.style("stroke-opacity",1).style("fill-opacity",E);var U=W.selectAll("rect.nv-bar").data(function(t){return w&&!N.length?w.values:t.values});U.exit().remove(),U.enter().append("rect").attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(t,e,n){return b&&!N[n].nonStackable?0:n*d.rangeBand()/N.length}).attr("y",function(t,e,n){return a(b&&!N[n].nonStackable?t.y0:0)||0}).attr("height",0).attr("width",function(t,e,n){return d.rangeBand()/(b&&!N[n].nonStackable?1:N.length)}).attr("transform",function(t,e){return"translate("+d(g(t,e))+",0)"}),U.style("fill",function(t,e,n){return _(t,n,e)}).style("stroke",function(t,e,n){return _(t,n,e)}).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),A.elementMouseover({data:t,index:e,series:N[n],color:d3.select(this).style("fill")})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),A.elementMouseout({data:t,index:e,series:N[n],color:d3.select(this).style("fill")})}).on("mousemove",function(t,e,n){A.elementMousemove({data:t,index:e,series:N[n],color:d3.select(this).style("fill")})}).on("click",function(t,e,n){A.elementClick({data:t,index:e,series:N[n],color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e,n){A.elementDblClick({data:t,index:e,series:N[n],color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),U.attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(t,e){return"translate("+d(g(t,e))+",0)"}),C&&(t||(t=N.map(function(){return!0})),U.style("fill",function(e,n,r){return d3.rgb(C(e,n)).darker(t.map(function(t,e){return e}).filter(function(e,n){return!t[n]})[r]).toString()}).style("stroke",function(e,n,r){return d3.rgb(C(e,n)).darker(t.map(function(t,e){return e}).filter(function(e,n){return!t[n]})[r]).toString()}));var B=U.watchTransition(S,"multibar",Math.min(250,k)).delay(function(t,e){return e*k/N[0].values.length});b?B.attr("y",function(t,e,n){return N[n].nonStackable?m(t,e)<0?h(0):h(0)-h(m(t,e))<-1?h(0)-1:h(m(t,e))||0:h(t.y1)}).attr("height",function(t,e,n){return N[n].nonStackable?Math.max(Math.abs(h(m(t,e))-h(0)),0)||0:Math.max(Math.abs(h(t.y+t.y0)-h(t.y0)),0)}).attr("x",function(t,e,n){var r=0;return N[n].nonStackable&&(r=t.series*d.rangeBand()/N.length,N.length!==I&&(r=N[n].nonStackableSeries*d.rangeBand()/(2*I))),r}).attr("width",function(t,e,n){if(N[n].nonStackable){var r=d.rangeBand()/I;return N.length!==I&&(r=d.rangeBand()/(2*I)),r}return d.rangeBand()}):B.attr("x",function(t,e){return t.series*d.rangeBand()/N.length}).attr("width",d.rangeBand()/N.length).attr("y",function(t,e){return m(t,e)<0?h(0):h(0)-h(m(t,e))<1?h(0)-1:h(m(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(h(m(t,e))-h(0)),1)||0}),s=d.copy(),a=h.copy(),N[0]&&N[0].values&&(T=N[0].values.length)}),S.renderEnd("multibar immediate"),N}return N.dispatch=A,N.options=r.utils.optionsFunc.bind(N),N._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},x:{get:function(){return g},set:function(t){g=t}},y:{get:function(){return m},set:function(t){m=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return h},set:function(t){h=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceY:{get:function(){return v},set:function(t){v=t}},stacked:{get:function(){return b},set:function(t){b=t}},stackOffset:{get:function(){return x},set:function(t){x=t}},clipEdge:{get:function(){return y},set:function(t){y=t}},disabled:{get:function(){return t},set:function(e){t=e}},id:{get:function(){return f},set:function(t){f=t}},hideable:{get:function(){return w},set:function(t){w=t}},groupSpacing:{get:function(){return M},set:function(t){M=t}},fillOpacity:{get:function(){return E},set:function(t){E=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return k},set:function(t){S.reset(k=t)}},color:{get:function(){return _},set:function(t){_=r.utils.getColor(t)}},barColor:{get:function(){return C},set:function(t){C=t?r.utils.getColor(t):null}}}),r.utils.initOptions(N),N},r.models.multiBarChart=function(){"use strict";var t,e,n=r.models.multiBar(),i=r.models.axis(),o=r.models.axis(),s=r.interactiveGuideline(),a=r.models.legend(),l=r.models.legend(),u=r.models.tooltip(),c={top:30,right:20,bottom:50,left:60},d=null,h=null,f=null,p=r.utils.defaultColor(),g=!0,m={},v=!0,y=null,b=!0,x=!0,_=!1,w=!0,C=!1,k=!1,M=0,E=r.utils.state(),A=null,S=null,T=d3.dispatch("stateChange","changeState","renderEnd"),N=function(){return g?180:0},O=250,P=!1;E.stacked=!1,n.stacked(!1),i.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(t){return t}),o.orient(_?"right":"left").tickFormat(d3.format(",.1f")),u.duration(0).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),s.tooltip.valueFormatter(function(t,e){return null==t?"N/A":o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),s.tooltip.valueFormatter(function(t,e){return null==t?"N/A":o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),s.tooltip.duration(0).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),l.updateState(!1);var I=r.utils.renderWatch(T),R=!1,D=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:R}}},V=function(t){return function(e){void 0!==e.stacked&&(R=e.stacked),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};function L(S){return I.reset(),I.models(n),b&&I.models(i),x&&I.models(o),S.each(function(S){var I=d3.select(this);r.utils.initSVG(I);var F,j=r.utils.availableWidth(h,I,c),z=r.utils.availableHeight(f,I,c);if(L.update=function(){0===O?I.call(L):I.transition().duration(O).call(L)},L.container=this,E.setter(V(S),L.update).getter(D(S)).update(),E.disabled=S.map(function(t){return!!t.disabled}),!A)for(F in A={},E)A[F]=E[F]instanceof Array?E[F].slice(0):E[F];if(!(S&&S.length&&S.filter(function(t){return t.values.length}).length))return r.utils.noData(L,I),L;I.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale();var W=I.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([S]),H=W.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),U=W.select("g");if(H.append("g").attr("class","nv-x nv-axis"),H.append("g").attr("class","nv-y nv-axis"),H.append("g").attr("class","nv-barsWrap"),H.append("g").attr("class","nv-legendWrap"),H.append("g").attr("class","nv-controlsWrap"),H.append("g").attr("class","nv-interactive"),v?"bottom"===y?(a.width(j-c.right),U.select(".nv-legendWrap").datum(S).call(a),c.bottom=i.height()+a.height(),z=r.utils.availableHeight(f,I,c),U.select(".nv-legendWrap").attr("transform","translate(0,"+(z+i.height())+")")):(a.width(j-N()),U.select(".nv-legendWrap").datum(S).call(a),d||a.height()===c.top||(c.top=a.height(),z=r.utils.availableHeight(f,I,c)),U.select(".nv-legendWrap").attr("transform","translate("+N()+","+-c.top+")")):U.select(".nv-legendWrap").selectAll("*").remove(),g){var B=[{key:m.grouped||"Grouped",disabled:n.stacked()},{key:m.stacked||"Stacked",disabled:!n.stacked()}];l.width(N()).color(["#444","#444","#444"]),U.select(".nv-controlsWrap").datum(B).attr("transform","translate(0,"+-c.top+")").call(l)}else U.select(".nv-controlsWrap").selectAll("*").remove();if(W.attr("transform","translate("+c.left+","+c.top+")"),_&&U.select(".nv-y.nv-axis").attr("transform","translate("+j+",0)"),n.disabled(S.map(function(t){return t.disabled})).width(j).height(z).color(S.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!S[e].disabled})),U.select(".nv-barsWrap").datum(S.filter(function(t){return!t.disabled})).call(n),b){i.scale(t)._ticks(r.utils.calcTicksX(j/100,S)).tickSize(-z,0),U.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),U.select(".nv-x.nv-axis").call(i);var $=U.select(".nv-x.nv-axis > g").selectAll("g");if($.selectAll("line, text").style("opacity",1),C){var q=function(t,e){return"translate("+t+","+e+")"};$.selectAll("text").attr("transform",function(t,e,n){return q(0,n%2==0?5:17)});var G=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;U.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return q(0,0===e||G%2!=0?17:5)})}k&&U.selectAll(".tick text").call(r.utils.wrapTicks,L.xAxis.rangeBand()),w&&$.filter(function(t,e){return e%Math.ceil(S[0].values.length/(j/100))!=0}).selectAll("text, line").style("opacity",0),M&&$.selectAll(".tick text").attr("transform","rotate("+M+" 0,0)").style("text-anchor",M>0?"start":"end"),U.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}x&&(o.scale(e)._ticks(r.utils.calcTicksY(z/36,S)).tickSize(-j,0),U.select(".nv-y.nv-axis").call(o)),P&&(s.width(j).height(z).margin({left:c.left,top:c.top}).svgContainer(I).xScale(t),W.select(".nv-interactive").call(s)),a.dispatch.on("stateChange",function(t){for(var e in t)E[e]=t[e];T.stateChange(E),L.update()}),l.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(B=B.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case m.grouped:n.stacked(!1);break;case"Stacked":case m.stacked:n.stacked(!0)}E.stacked=n.stacked(),T.stateChange(E),L.update()}}),T.on("changeState",function(t){"undefined"!=typeof t.disabled&&(S.forEach(function(e,n){e.disabled=t.disabled[n]}),E.disabled=t.disabled),"undefined"!=typeof t.stacked&&(n.stacked(t.stacked),E.stacked=t.stacked,R=t.stacked),L.update()}),P?(s.dispatch.on("elementMousemove",function(e){if(void 0!=e.pointXValue){var n,r,i,o,a=[];S.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(s,l){r=t.domain().indexOf(e.pointXValue);var u=s.values[r];void 0!==u&&(o=u.x,void 0===n&&(n=u),void 0===i&&(i=e.mouseX),a.push({key:s.key,value:L.y()(u,r),color:p(s,s.seriesIndex),data:s.values[r]}))}),s.tooltip.data({value:o,index:r,series:a})(),s.renderGuideLine(i)}}),s.dispatch.on("elementMouseout",function(t){s.tooltip.hidden(!0)})):(n.dispatch.on("elementMouseover.tooltip",function(t){t.value=L.x()(t.data),t.series={key:t.data.key,value:L.y()(t.data),color:t.color},u.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(t){u()}))}),I.renderEnd("multibarchart immediate"),L}return L.dispatch=T,L.multibar=n,L.legend=a,L.controls=l,L.xAxis=i,L.yAxis=o,L.state=E,L.tooltip=u,L.interactiveLayer=s,L.options=r.utils.optionsFunc.bind(L),L._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return f},set:function(t){f=t}},showLegend:{get:function(){return v},set:function(t){v=t}},legendPosition:{get:function(){return y},set:function(t){y=t}},showControls:{get:function(){return g},set:function(t){g=t}},controlLabels:{get:function(){return m},set:function(t){m=t}},showXAxis:{get:function(){return b},set:function(t){b=t}},showYAxis:{get:function(){return x},set:function(t){x=t}},defaultState:{get:function(){return A},set:function(t){A=t}},noData:{get:function(){return S},set:function(t){S=t}},reduceXTicks:{get:function(){return w},set:function(t){w=t}},rotateLabels:{get:function(){return M},set:function(t){M=t}},staggerLabels:{get:function(){return C},set:function(t){C=t}},wrapLabels:{get:function(){return k},set:function(t){k=!!t}},margin:{get:function(){return c},set:function(t){void 0!==t.top&&(c.top=t.top,d=t.top),c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return O},set:function(t){n.duration(O=t),i.duration(O),o.duration(O),I.reset(O)}},color:{get:function(){return p},set:function(t){p=r.utils.getColor(t),a.color(p)}},rightAlignYAxis:{get:function(){return _},set:function(t){o.orient((_=t)?"right":"left")}},useInteractiveGuideline:{get:function(){return P},set:function(t){P=t}},barColor:{get:function(){return n.barColor},set:function(t){n.barColor(t),a.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),r.utils.inheritOptions(L,n),r.utils.initOptions(L),L},r.models.multiBarHorizontal=function(){"use strict";var t,e,n,i,o,s,a,l={top:0,right:0,bottom:0,left:0},u=960,c=500,d=Math.floor(1e4*Math.random()),h=null,f=d3.scale.ordinal(),p=d3.scale.linear(),g=function(t){return t.x},m=function(t){return t.y},v=function(t){return t.yErr},y=[0],b=r.utils.defaultColor(),x=null,_=!1,w=!1,C=!1,k=60,M=.1,E=.75,A=d3.format(",.2f"),S=250,T=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),N=r.utils.renderWatch(T,S);function O(d){return N.reset(),d.each(function(d){var S=u-l.left-l.right,O=c-l.top-l.bottom;h=d3.select(this),r.utils.initSVG(h),_&&(d=d3.layout.stack().offset("zero").values(function(t){return t.values}).y(m)(d)),d.forEach(function(t,e){t.values.forEach(function(n){n.series=e,n.key=t.key})}),_&&d[0].values.map(function(t,e){var n=0,r=0;d.map(function(t){var i=t.values[e];i.size=Math.abs(i.y),i.y<0?(i.y1=r-i.size,r-=i.size):(i.y1=n,n+=i.size)})});var P=e&&n?[]:d.map(function(t){return t.values.map(function(t,e){return{x:g(t,e),y:m(t,e),y0:t.y0,y1:t.y1}})});f.domain(e||d3.merge(P).map(function(t){return t.x})).rangeBands(i||[0,O],M),p.domain(n||d3.extent(d3.merge(P).map(function(t){return _?t.y>0?t.y1+t.y:t.y1:t.y}).concat(y))),p.range(w&&!_?o||[p.domain()[0]<0?k:0,S-(p.domain()[1]>0?k:0)]:o||[0,S]),s=s||f,a=a||d3.scale.linear().domain(p.domain()).range([p(0),p(0)]);var I=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([d]),R=I.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),D=(R.append("defs"),R.append("g"));I.select("g"),D.append("g").attr("class","nv-groups"),I.attr("transform","translate("+l.left+","+l.top+")");var V=I.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});V.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),V.exit().watchTransition(N,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),V.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return b(t,e)}).style("stroke",function(t,e){return b(t,e)}),V.watchTransition(N,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",E);var L=V.selectAll("g.nv-bar").data(function(t){return t.values});L.exit().remove();var F=L.enter().append("g").attr("transform",function(t,e,n){return"translate("+a(_?t.y0:0)+","+(_?0:n*f.rangeBand()/d.length+f(g(t,e)))+")"});F.append("rect").attr("width",0).attr("height",f.rangeBand()/(_?1:d.length)),L.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),T.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),T.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){T.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){T.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){T.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e){T.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),v(d[0],0)&&(F.append("polyline"),L.select("polyline").attr("fill","none").attr("points",function(t,e){var n=v(t,e),r=.8*f.rangeBand()/(2*(_?1:d.length));return[[(n=(n=n.length?n:[-Math.abs(n),Math.abs(n)]).map(function(n){return p(n+(m(t,e)<0?0:m(t,e)))-p(0)}))[0],-r],[n[0],r],[n[0],0],[n[1],0],[n[1],-r],[n[1],r]].map(function(t){return t.join(",")}).join(" ")}).attr("transform",function(t,e){return"translate(0, "+f.rangeBand()/(2*(_?1:d.length))+")"})),F.append("text"),w&&!_?(L.select("text").attr("text-anchor",function(t,e){return m(t,e)<0?"end":"start"}).attr("y",f.rangeBand()/(2*d.length)).attr("dy",".32em").text(function(t,e){var n=A(m(t,e)),r=v(t,e);return void 0===r?n:r.length?n+"+"+A(Math.abs(r[1]))+"-"+A(Math.abs(r[0])):n+"\xb1"+A(Math.abs(r))}),L.watchTransition(N,"multibarhorizontal: bars").select("text").attr("x",function(t,e){return m(t,e)<0?-4:p(m(t,e))-p(0)+4})):L.selectAll("text").text(""),C&&!_?(F.append("text").classed("nv-bar-label",!0),L.select("text.nv-bar-label").attr("text-anchor",function(t,e){return m(t,e)<0?"start":"end"}).attr("y",f.rangeBand()/(2*d.length)).attr("dy",".32em").text(function(t,e){return g(t,e)}),L.watchTransition(N,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(t,e){return m(t,e)<0?p(0)-p(m(t,e))+4:-4})):L.selectAll("text.nv-bar-label").text(""),L.attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}),x&&(t||(t=d.map(function(){return!0})),L.style("fill",function(e,n,r){return d3.rgb(x(e,n)).darker(t.map(function(t,e){return e}).filter(function(e,n){return!t[n]})[r]).toString()}).style("stroke",function(e,n,r){return d3.rgb(x(e,n)).darker(t.map(function(t,e){return e}).filter(function(e,n){return!t[n]})[r]).toString()})),_?L.watchTransition(N,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+p(t.y1)+","+f(g(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(p(m(t,e)+t.y0)-p(t.y0))||0}).attr("height",f.rangeBand()):L.watchTransition(N,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+(m(t,e)<0?p(m(t,e)):p(0))+","+(t.series*f.rangeBand()/d.length+f(g(t,e)))+")"}).select("rect").attr("height",f.rangeBand()/d.length).attr("width",function(t,e){return Math.max(Math.abs(p(m(t,e))-p(0)),1)||0}),s=f.copy(),a=p.copy()}),N.renderEnd("multibarHorizontal immediate"),O}return O.dispatch=T,O.options=r.utils.optionsFunc.bind(O),O._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},x:{get:function(){return g},set:function(t){g=t}},y:{get:function(){return m},set:function(t){m=t}},yErr:{get:function(){return v},set:function(t){v=t}},xScale:{get:function(){return f},set:function(t){f=t}},yScale:{get:function(){return p},set:function(t){p=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceY:{get:function(){return y},set:function(t){y=t}},stacked:{get:function(){return _},set:function(t){_=t}},showValues:{get:function(){return w},set:function(t){w=t}},disabled:{get:function(){return t},set:function(e){t=e}},id:{get:function(){return d},set:function(t){d=t}},valueFormat:{get:function(){return A},set:function(t){A=t}},valuePadding:{get:function(){return k},set:function(t){k=t}},groupSpacing:{get:function(){return M},set:function(t){M=t}},fillOpacity:{get:function(){return E},set:function(t){E=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return S},set:function(t){N.reset(S=t)}},color:{get:function(){return b},set:function(t){b=r.utils.getColor(t)}},barColor:{get:function(){return x},set:function(t){x=t?r.utils.getColor(t):null}}}),r.utils.initOptions(O),O},r.models.multiBarHorizontalChart=function(){"use strict";var t,e,n=r.models.multiBarHorizontal(),i=r.models.axis(),o=r.models.axis(),s=r.models.legend().height(30),a=r.models.legend().height(30),l=r.models.tooltip(),u={top:30,right:20,bottom:50,left:60},c=null,d=null,h=null,f=r.utils.defaultColor(),p=!0,g="top",m={},v=!0,y="top",b=!0,x=!0,_=!1,w=r.utils.state(),C=null,k=null,M=d3.dispatch("stateChange","changeState","renderEnd"),E=function(){return p?180:0},A=250;w.stacked=!1,n.stacked(_),i.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(t){return t}),o.orient("bottom").tickFormat(d3.format(",.1f")),l.duration(0).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),a.updateState(!1);var S=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:_}}},T=function(t){return function(e){void 0!==e.stacked&&(_=e.stacked),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},N=r.utils.renderWatch(M,A);function O(l){return N.reset(),N.models(n),b&&N.models(i),x&&N.models(o),l.each(function(l){var k=d3.select(this);r.utils.initSVG(k);var N,P=r.utils.availableWidth(d,k,u),I=r.utils.availableHeight(h,k,u);if(O.update=function(){k.transition().duration(A).call(O)},O.container=this,_=n.stacked(),w.setter(T(l),O.update).getter(S(l)).update(),w.disabled=l.map(function(t){return!!t.disabled}),!C)for(N in C={},w)C[N]=w[N]instanceof Array?w[N].slice(0):w[N];if(!(l&&l.length&&l.filter(function(t){return t.values.length}).length))return r.utils.noData(O,k),O;k.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale().clamp(!0);var R=k.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([l]),D=R.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),V=R.select("g");if(D.append("g").attr("class","nv-x nv-axis"),D.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),D.append("g").attr("class","nv-barsWrap"),D.append("g").attr("class","nv-legendWrap"),D.append("g").attr("class","nv-controlsWrap"),v?(s.width(P-E()),V.select(".nv-legendWrap").datum(l).call(s),"bottom"===y?(u.bottom=i.height()+s.height(),I=r.utils.availableHeight(h,k,u),V.select(".nv-legendWrap").attr("transform","translate("+E()+","+(I+i.height())+")")):"top"===y&&(c||s.height()===u.top||(u.top=s.height(),I=r.utils.availableHeight(h,k,u)),V.select(".nv-legendWrap").attr("transform","translate("+E()+","+-u.top+")"))):V.select(".nv-legendWrap").selectAll("*").remove(),p){var L=[{key:m.grouped||"Grouped",disabled:n.stacked()},{key:m.stacked||"Stacked",disabled:!n.stacked()}];a.width(E()).color(["#444","#444","#444"]),"bottom"===g?(u.bottom=i.height()+s.height(),I=r.utils.availableHeight(h,k,u),V.select(".nv-controlsWrap").datum(L).attr("transform","translate(0,"+(I+i.height())+")").call(a)):"top"===g&&V.select(".nv-controlsWrap").datum(L).attr("transform","translate(0,"+-u.top+")").call(a)}else V.select(".nv-controlsWrap").selectAll("*").remove();R.attr("transform","translate("+u.left+","+u.top+")"),n.disabled(l.map(function(t){return t.disabled})).width(P).height(I).color(l.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!l[e].disabled})),V.select(".nv-barsWrap").datum(l.filter(function(t){return!t.disabled})).transition().call(n),b&&(i.scale(t)._ticks(r.utils.calcTicksY(I/24,l)).tickSize(-P,0),V.select(".nv-x.nv-axis").call(i),V.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text")),x&&(o.scale(e)._ticks(r.utils.calcTicksX(P/100,l)).tickSize(-I,0),V.select(".nv-y.nv-axis").attr("transform","translate(0,"+I+")"),V.select(".nv-y.nv-axis").call(o)),V.select(".nv-zeroLine line").attr("x1",e(0)).attr("x2",e(0)).attr("y1",0).attr("y2",-I),s.dispatch.on("stateChange",function(t){for(var e in t)w[e]=t[e];M.stateChange(w),O.update()}),a.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(L=L.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case m.grouped:n.stacked(!1);break;case"Stacked":case m.stacked:n.stacked(!0)}w.stacked=n.stacked(),M.stateChange(w),_=n.stacked(),O.update()}}),M.on("changeState",function(t){"undefined"!=typeof t.disabled&&(l.forEach(function(e,n){e.disabled=t.disabled[n]}),w.disabled=t.disabled),"undefined"!=typeof t.stacked&&(n.stacked(t.stacked),w.stacked=t.stacked,_=t.stacked),O.update()})}),N.renderEnd("multibar horizontal chart immediate"),O}return n.dispatch.on("elementMouseover.tooltip",function(t){t.value=O.x()(t.data),t.series={key:t.data.key,value:O.y()(t.data),color:t.color},l.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){l.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(t){l()}),O.dispatch=M,O.multibar=n,O.legend=s,O.controls=a,O.xAxis=i,O.yAxis=o,O.state=w,O.tooltip=l,O.options=r.utils.optionsFunc.bind(O),O._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return h},set:function(t){h=t}},showLegend:{get:function(){return v},set:function(t){v=t}},legendPosition:{get:function(){return y},set:function(t){y=t}},controlsPosition:{get:function(){return g},set:function(t){g=t}},showControls:{get:function(){return p},set:function(t){p=t}},controlLabels:{get:function(){return m},set:function(t){m=t}},showXAxis:{get:function(){return b},set:function(t){b=t}},showYAxis:{get:function(){return x},set:function(t){x=t}},defaultState:{get:function(){return C},set:function(t){C=t}},noData:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return u},set:function(t){void 0!==t.top&&(u.top=t.top,c=t.top),u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},duration:{get:function(){return A},set:function(t){N.reset(A=t),n.duration(A),i.duration(A),o.duration(A)}},color:{get:function(){return f},set:function(t){f=r.utils.getColor(t),s.color(f)}},barColor:{get:function(){return n.barColor},set:function(t){n.barColor(t),s.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),r.utils.inheritOptions(O,n),r.utils.initOptions(O),O},r.models.multiChart=function(){"use strict";var t,e,n={top:30,right:20,bottom:50,left:60},i=null,o=r.utils.defaultColor(),s=null,a=null,l=!0,u=null,c=function(t){return t.x},d=function(t){return t.y},h="linear",f=!0,p=r.interactiveGuideline(),g=!1,m=" (right axis)",v=250,y=d3.scale.linear(),b=d3.scale.linear(),x=d3.scale.linear(),_=r.models.line().yScale(b).duration(v),w=r.models.line().yScale(x).duration(v),C=r.models.scatter().yScale(b).duration(v),k=r.models.scatter().yScale(x).duration(v),M=r.models.multiBar().stacked(!1).yScale(b).duration(v),E=r.models.multiBar().stacked(!1).yScale(x).duration(v),A=r.models.stackedArea().yScale(b).duration(v),S=r.models.stackedArea().yScale(x).duration(v),T=r.models.axis().scale(y).orient("bottom").tickPadding(5).duration(v),N=r.models.axis().scale(b).orient("left").duration(v),O=r.models.axis().scale(x).orient("right").duration(v),P=r.models.legend().height(30),I=r.models.tooltip(),R=d3.dispatch(),D=[_,w,C,k,M,E,A,S];function V(u){return u.each(function(u){var f=d3.select(this);r.utils.initSVG(f),V.update=function(){f.transition().call(V)},V.container=this;var v=r.utils.availableWidth(s,f,n),R=r.utils.availableHeight(a,f,n),L=u.filter(function(t){return"line"==t.type&&1==t.yAxis}),F=u.filter(function(t){return"line"==t.type&&2==t.yAxis}),j=u.filter(function(t){return"scatter"==t.type&&1==t.yAxis}),z=u.filter(function(t){return"scatter"==t.type&&2==t.yAxis}),W=u.filter(function(t){return"bar"==t.type&&1==t.yAxis}),H=u.filter(function(t){return"bar"==t.type&&2==t.yAxis}),U=u.filter(function(t){return"area"==t.type&&1==t.yAxis}),B=u.filter(function(t){return"area"==t.type&&2==t.yAxis});if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return r.utils.noData(V,f),V;f.selectAll(".nv-noData").remove();var $=u.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:c(t),y:d(t)}})}),q=u.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:c(t),y:d(t)}})});y.domain(d3.extent(d3.merge($.concat(q)),function(t){return t.x})).range([0,v]);var G=f.selectAll("g.wrap.multiChart").data([u]),Z=G.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");Z.append("g").attr("class","nv-x nv-axis"),Z.append("g").attr("class","nv-y1 nv-axis"),Z.append("g").attr("class","nv-y2 nv-axis"),Z.append("g").attr("class","stack1Wrap"),Z.append("g").attr("class","stack2Wrap"),Z.append("g").attr("class","bars1Wrap"),Z.append("g").attr("class","bars2Wrap"),Z.append("g").attr("class","scatters1Wrap"),Z.append("g").attr("class","scatters2Wrap"),Z.append("g").attr("class","lines1Wrap"),Z.append("g").attr("class","lines2Wrap"),Z.append("g").attr("class","legendWrap"),Z.append("g").attr("class","nv-interactive");var Y=G.select("g"),X=u.map(function(t,e){return u[e].color||o(t,e)});if(l){var K=P.align()?v/2:v,Q=P.align()?K:0;P.width(K),P.color(X),Y.select(".legendWrap").datum(u.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":m),t})).call(P),i||P.height()===n.top||(n.top=P.height(),R=r.utils.availableHeight(a,f,n)),Y.select(".legendWrap").attr("transform","translate("+Q+","+-n.top+")")}else Y.select(".legendWrap").selectAll("*").remove();_.width(v).height(R).interpolate(h).color(X.filter(function(t,e){return!u[e].disabled&&1==u[e].yAxis&&"line"==u[e].type})),w.width(v).height(R).interpolate(h).color(X.filter(function(t,e){return!u[e].disabled&&2==u[e].yAxis&&"line"==u[e].type})),C.width(v).height(R).color(X.filter(function(t,e){return!u[e].disabled&&1==u[e].yAxis&&"scatter"==u[e].type})),k.width(v).height(R).color(X.filter(function(t,e){return!u[e].disabled&&2==u[e].yAxis&&"scatter"==u[e].type})),M.width(v).height(R).color(X.filter(function(t,e){return!u[e].disabled&&1==u[e].yAxis&&"bar"==u[e].type})),E.width(v).height(R).color(X.filter(function(t,e){return!u[e].disabled&&2==u[e].yAxis&&"bar"==u[e].type})),A.width(v).height(R).interpolate(h).color(X.filter(function(t,e){return!u[e].disabled&&1==u[e].yAxis&&"area"==u[e].type})),S.width(v).height(R).interpolate(h).color(X.filter(function(t,e){return!u[e].disabled&&2==u[e].yAxis&&"area"==u[e].type})),Y.attr("transform","translate("+n.left+","+n.top+")");var J=Y.select(".lines1Wrap").datum(L.filter(function(t){return!t.disabled})),tt=Y.select(".scatters1Wrap").datum(j.filter(function(t){return!t.disabled})),et=Y.select(".bars1Wrap").datum(W.filter(function(t){return!t.disabled})),nt=Y.select(".stack1Wrap").datum(U.filter(function(t){return!t.disabled})),rt=Y.select(".lines2Wrap").datum(F.filter(function(t){return!t.disabled})),it=Y.select(".scatters2Wrap").datum(z.filter(function(t){return!t.disabled})),ot=Y.select(".bars2Wrap").datum(H.filter(function(t){return!t.disabled})),st=Y.select(".stack2Wrap").datum(B.filter(function(t){return!t.disabled})),at=[];M.stacked()&&W.length&&(at=W.filter(function(t){return!t.disabled}).map(function(t){return t.values})).length>0&&(at=at.reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})})),W.length&&at.push({x:0,y:0});var lt=[];function ut(t){var e=2===t.series.yAxis?O:N;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},I.duration(0).headerFormatter(function(t,e){return T.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function ct(t){var e=2===t.series.yAxis?O:N;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},I.duration(100).headerFormatter(function(t,e){return T.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function dt(t){var e=2===t.series.yAxis?O:N;t.point.x=A.x()(t.point),t.point.y=A.y()(t.point),I.duration(0).headerFormatter(function(t,e){return T.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function ht(t){var e=2===t.series.yAxis?O:N;t.value=M.x()(t.data),t.series={value:M.y()(t.data),color:t.color,key:t.data.key},I.duration(0).headerFormatter(function(t,e){return T.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function ft(){for(var t=0,e=D.length;t<e;t++){var n=D[t];try{n.clearHighlights()}catch(t){}}}E.stacked()&&H.length&&(lt=H.filter(function(t){return!t.disabled}).map(function(t){return t.values})).length>0&&(lt=lt.reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})})),H.length&&lt.push({x:0,y:0}),b.domain(t||d3.extent(d3.merge($).concat(at),function(t){return t.y})).range([0,R]),x.domain(e||d3.extent(d3.merge(q).concat(lt),function(t){return t.y})).range([0,R]),_.yDomain(b.domain()),C.yDomain(b.domain()),M.yDomain(b.domain()),A.yDomain(b.domain()),w.yDomain(x.domain()),k.yDomain(x.domain()),E.yDomain(x.domain()),S.yDomain(x.domain()),U.length&&d3.transition(nt).call(A),B.length&&d3.transition(st).call(S),W.length&&d3.transition(et).call(M),H.length&&d3.transition(ot).call(E),L.length&&d3.transition(J).call(_),F.length&&d3.transition(rt).call(w),j.length&&d3.transition(tt).call(C),z.length&&d3.transition(it).call(k),T._ticks(r.utils.calcTicksX(v/100,u)).tickSize(-R,0),Y.select(".nv-x.nv-axis").attr("transform","translate(0,"+R+")"),d3.transition(Y.select(".nv-x.nv-axis")).call(T),N._ticks(r.utils.calcTicksY(R/36,u)).tickSize(-v,0),d3.transition(Y.select(".nv-y1.nv-axis")).call(N),O._ticks(r.utils.calcTicksY(R/36,u)).tickSize(-v,0),d3.transition(Y.select(".nv-y2.nv-axis")).call(O),Y.select(".nv-y1.nv-axis").classed("nv-disabled",!$.length).attr("transform","translate("+y.range()[0]+",0)"),Y.select(".nv-y2.nv-axis").classed("nv-disabled",!q.length).attr("transform","translate("+y.range()[1]+",0)"),P.dispatch.on("stateChange",function(t){V.update()}),g&&(p.width(v).height(R).margin({left:n.left,top:n.top}).svgContainer(f).xScale(y),G.select(".nv-interactive").call(p)),g?(p.dispatch.on("elementMousemove",function(t){ft();var e,n,i,s=[];u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(a,l){var u=y.domain(),c=a.values.filter(function(t,e){return V.x()(t,e)>=u[0]&&V.x()(t,e)<=u[1]}),d=c[n=r.interactiveBisect(c,t.pointXValue,V.x())],h=V.y()(d,n);null!==h&&function(t,e,n){for(var r=0,i=D.length;r<i;r++){var o=D[r];try{o.highlightPoint(t,e,!0)}catch(t){}}}(l,n),void 0!==d&&(void 0===e&&(e=d),void 0===i&&(i=y(V.x()(d,n))),s.push({key:a.key,value:h,color:o(a,a.seriesIndex),data:d,yAxis:2==a.yAxis?O:N}))}),p.tooltip.headerFormatter(function(t,e){return T.tickFormat()(t,e)}).valueFormatter(p.tooltip.valueFormatter()||function(t,e){return null==t?"N/A":s[e].yAxis.tickFormat()(t)}).data({value:V.x()(e,n),index:n,series:s})(),p.renderGuideLine(i)}),p.dispatch.on("elementMouseout",function(t){ft()})):(_.dispatch.on("elementMouseover.tooltip",ut),w.dispatch.on("elementMouseover.tooltip",ut),_.dispatch.on("elementMouseout.tooltip",function(t){I.hidden(!0)}),w.dispatch.on("elementMouseout.tooltip",function(t){I.hidden(!0)}),C.dispatch.on("elementMouseover.tooltip",ct),k.dispatch.on("elementMouseover.tooltip",ct),C.dispatch.on("elementMouseout.tooltip",function(t){I.hidden(!0)}),k.dispatch.on("elementMouseout.tooltip",function(t){I.hidden(!0)}),A.dispatch.on("elementMouseover.tooltip",dt),S.dispatch.on("elementMouseover.tooltip",dt),A.dispatch.on("elementMouseout.tooltip",function(t){I.hidden(!0)}),S.dispatch.on("elementMouseout.tooltip",function(t){I.hidden(!0)}),M.dispatch.on("elementMouseover.tooltip",ht),E.dispatch.on("elementMouseover.tooltip",ht),M.dispatch.on("elementMouseout.tooltip",function(t){I.hidden(!0)}),E.dispatch.on("elementMouseout.tooltip",function(t){I.hidden(!0)}),M.dispatch.on("elementMousemove.tooltip",function(t){I()}),E.dispatch.on("elementMousemove.tooltip",function(t){I()}))}),V}return V.dispatch=R,V.legend=P,V.lines1=_,V.lines2=w,V.scatters1=C,V.scatters2=k,V.bars1=M,V.bars2=E,V.stack1=A,V.stack2=S,V.xAxis=T,V.yAxis1=N,V.yAxis2=O,V.tooltip=I,V.interactiveLayer=p,V.options=r.utils.optionsFunc.bind(V),V._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return a},set:function(t){a=t}},showLegend:{get:function(){return l},set:function(t){l=t}},yDomain1:{get:function(){return t},set:function(e){t=e}},yDomain2:{get:function(){return e},set:function(t){e=t}},noData:{get:function(){return u},set:function(t){u=t}},interpolate:{get:function(){return h},set:function(t){h=t}},legendRightAxisHint:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return n},set:function(t){void 0!==t.top&&(n.top=t.top,i=t.top),n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left}},color:{get:function(){return o},set:function(t){o=r.utils.getColor(t)}},x:{get:function(){return c},set:function(t){c=t,_.x(t),w.x(t),C.x(t),k.x(t),M.x(t),E.x(t),A.x(t),S.x(t)}},y:{get:function(){return d},set:function(t){d=t,_.y(t),w.y(t),C.y(t),k.y(t),A.y(t),S.y(t),M.y(t),E.y(t)}},useVoronoi:{get:function(){return f},set:function(t){f=t,_.useVoronoi(t),w.useVoronoi(t),A.useVoronoi(t),S.useVoronoi(t)}},useInteractiveGuideline:{get:function(){return g},set:function(t){(g=t)&&(_.interactive(!1),_.useVoronoi(!1),w.interactive(!1),w.useVoronoi(!1),A.interactive(!1),A.useVoronoi(!1),S.interactive(!1),S.useVoronoi(!1),C.interactive(!1),k.interactive(!1))}},duration:{get:function(){return v},set:function(t){v=t,[_,w,A,S,C,k,T,N,O].forEach(function(t){t.duration(v)})}}}),r.utils.initOptions(V),V},r.models.ohlcBar=function(){"use strict";var t,e,n,i,o={top:0,right:0,bottom:0,left:0},s=null,a=null,l=Math.floor(1e4*Math.random()),u=null,c=d3.scale.linear(),d=d3.scale.linear(),h=function(t){return t.x},f=function(t){return t.y},p=function(t){return t.open},g=function(t){return t.close},m=function(t){return t.high},v=function(t){return t.low},y=[],b=[],x=!1,_=!0,w=r.utils.defaultColor(),C=!1,k=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");function M(C){return C.each(function(C){u=d3.select(this);var M=r.utils.availableWidth(s,u,o),E=r.utils.availableHeight(a,u,o);r.utils.initSVG(u);var A=M/C[0].values.length*.9;c.domain(t||d3.extent(C[0].values.map(h).concat(y))),c.range(x?n||[.5*M/C[0].values.length,M*(C[0].values.length-.5)/C[0].values.length]:n||[5+A/2,M-A/2-5]),d.domain(e||[d3.min(C[0].values.map(v).concat(b)),d3.max(C[0].values.map(m).concat(b))]).range(i||[E,0]),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1]));var S=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([C[0].values]),T=S.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),N=T.append("defs"),O=T.append("g"),P=S.select("g");O.append("g").attr("class","nv-ticks"),S.attr("transform","translate("+o.left+","+o.top+")"),u.on("click",function(t,e){k.chartClick({data:t,index:e,pos:d3.event,id:l})}),N.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),S.select("#nv-chart-clip-path-"+l+" rect").attr("width",M).attr("height",E),P.attr("clip-path",_?"url(#nv-chart-clip-path-"+l+")":"");var I=S.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});I.exit().remove(),I.enter().append("path").attr("class",function(t,e,n){return(p(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(t,e){return"m0,0l0,"+(d(p(t,e))-d(m(t,e)))+"l"+-A/2+",0l"+A/2+",0l0,"+(d(v(t,e))-d(p(t,e)))+"l0,"+(d(g(t,e))-d(v(t,e)))+"l"+A/2+",0l"+-A/2+",0z"}).attr("transform",function(t,e){return"translate("+c(h(t,e))+","+d(m(t,e))+")"}).attr("fill",function(t,e){return w[0]}).attr("stroke",function(t,e){return w[0]}).attr("x",0).attr("y",function(t,e){return d(Math.max(0,f(t,e)))}).attr("height",function(t,e){return Math.abs(d(f(t,e))-d(0))}),I.attr("class",function(t,e,n){return(p(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),d3.transition(I).attr("transform",function(t,e){return"translate("+c(h(t,e))+","+d(m(t,e))+")"}).attr("d",function(t,e){var n=M/C[0].values.length*.9;return"m0,0l0,"+(d(p(t,e))-d(m(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(d(v(t,e))-d(p(t,e)))+"l0,"+(d(g(t,e))-d(v(t,e)))+"l"+n/2+",0l"+-n/2+",0z"})}),M}return M.highlightPoint=function(t,e){M.clearHighlights(),u.select(".nv-ohlcBar .nv-tick-0-"+t).classed("hover",e)},M.clearHighlights=function(){u.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},M.dispatch=k,M.options=r.utils.optionsFunc.bind(M),M._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return a},set:function(t){a=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return e},set:function(t){e=t}},xRange:{get:function(){return n},set:function(t){n=t}},yRange:{get:function(){return i},set:function(t){i=t}},forceX:{get:function(){return y},set:function(t){y=t}},forceY:{get:function(){return b},set:function(t){b=t}},padData:{get:function(){return x},set:function(t){x=t}},clipEdge:{get:function(){return _},set:function(t){_=t}},id:{get:function(){return l},set:function(t){l=t}},interactive:{get:function(){return C},set:function(t){C=t}},x:{get:function(){return h},set:function(t){h=t}},y:{get:function(){return f},set:function(t){f=t}},open:{get:function(){return p()},set:function(t){p=t}},close:{get:function(){return g()},set:function(t){g=t}},high:{get:function(){return m},set:function(t){m=t}},low:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!=t.top?t.top:o.top,o.right=void 0!=t.right?t.right:o.right,o.bottom=void 0!=t.bottom?t.bottom:o.bottom,o.left=void 0!=t.left?t.left:o.left}},color:{get:function(){return w},set:function(t){w=r.utils.getColor(t)}}}),r.utils.initOptions(M),M},r.models.parallelCoordinates=function(){"use strict";var t,e,n,i={top:30,right:0,bottom:10,left:0},o=null,s=null,a=null,l=null,u=d3.scale.ordinal(),c={},d="undefined values",h=[],f=[],p=[],g=!0,m=r.utils.defaultColor(),v=[],y=[],b=[],x=[],_=1,w=d3.svg.line(),C=d3.svg.axis(),k=d3.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),M=r.utils.renderWatch(k);function E(A){return M.reset(),A.each(function(M){var E=d3.select(this);if(a=r.utils.availableWidth(o,E,i),l=r.utils.availableHeight(s,E,i),r.utils.initSVG(E),void 0===M[0].values){var A=[];M.forEach(function(t){var e={};Object.keys(t).forEach(function(n){"name"!==n&&(e[n]=t[n])}),A.push({key:t.name,values:e})}),M=A}var S=M.map(function(t){return t.values});0===y.length&&(y=M),p=h.sort(function(t,e){return t.currentPosition-e.currentPosition}).map(function(t){return t.key}),f=h.filter(function(t){return!t.disabled}),u.rangePoints([0,a],1).domain(f.map(function(t){return t.key}));var T={},N=!1,O=[];p.forEach(function(t){var e=d3.extent(S,function(e){return+e[t]}),n=e[0],r=e[1],i=!1;(isNaN(n)||isNaN(r))&&(i=!0,n=0,r=0),n===r&&(n-=1,r+=1);var o=v.filter(function(e){return e.dimension==t});0!==o.length&&(i?(n=c[t].domain()[0],r=c[t].domain()[1]):!o[0].hasOnlyNaN&&g?(n=n>o[0].extent[0]?o[0].extent[0]:n,r=r<o[0].extent[1]?o[0].extent[1]:r):o[0].hasNaN&&(r=r<o[0].extent[1]?o[0].extent[1]:r,T[t]=c[t].domain()[1],N=!0)),c[t]=d3.scale.linear().domain([n,r]).range([.9*(l-12),0]),x=[],c[t].brush=d3.svg.brush().y(c[t]).on("brushstart",q).on("brush",G).on("brushend",Z)});var P=E.selectAll("g.nv-wrap.nv-parallelCoordinates").data([M]),I=P.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates").append("g"),R=P.select("g");I.append("g").attr("class","nv-parallelCoordinates background"),I.append("g").attr("class","nv-parallelCoordinates foreground"),I.append("g").attr("class","nv-parallelCoordinates missingValuesline"),P.attr("transform","translate("+i.left+","+i.top+")"),w.interpolate("cardinal").tension(_),C.orient("left");var D,V,L=d3.behavior.drag().on("dragstart",function(t){b[t.key]=this.parentNode.__origin__=u(t.key),e.attr("visibility","hidden")}).on("drag",function(e){b[e.key]=Math.min(a,Math.max(0,this.parentNode.__origin__+=d3.event.x)),t.attr("d",B),f.sort(function(t,e){return X(t.key)-X(e.key)}),f.forEach(function(t,e){return t.currentPosition=e}),u.domain(f.map(function(t){return t.key})),n.attr("transform",function(t){return"translate("+X(t.key)+")"})}).on("dragend",function(n,r){delete this.parentNode.__origin__,delete b[n.key],d3.select(this.parentNode).attr("transform","translate("+u(n.key)+")"),t.attr("d",B),e.attr("d",B).attr("visibility",null),k.dimensionsOrder(f)}),F=u.range()[1]-u.range()[0];if(F=isNaN(F)?u.range()[0]:F,!isNaN(F)){var j=[0+F/2,l-12,a-F/2,l-12];(D=P.select(".missingValuesline").selectAll("line").data([j])).enter().append("line"),D.exit().remove(),D.attr("x1",function(t){return t[0]}).attr("y1",function(t){return t[1]}).attr("x2",function(t){return t[2]}).attr("y2",function(t){return t[3]}),(V=P.select(".missingValuesline").selectAll("text").data([d])).append("text").data([d]),V.enter().append("text"),V.exit().remove(),V.attr("y",l).attr("x",a-92-F/2).text(function(t){return t})}(e=P.select(".background").selectAll("path").data(M)).enter().append("path"),e.exit().remove(),e.attr("d",B),(t=P.select(".foreground").selectAll("path").data(M)).enter().append("path"),t.exit().remove(),t.attr("d",B).style("stroke-width",function(t,e){return isNaN(t.strokeWidth)&&(t.strokeWidth=1),t.strokeWidth}).attr("stroke",function(t,e){return t.color||m(t,e)}),t.on("mouseover",function(t,e){d3.select(this).classed("hover",!0).style("stroke-width",t.strokeWidth+2+"px").style("stroke-opacity",1),k.elementMouseover({label:t.name,color:t.color||m(t,e),values:t.values,dimensions:f})}),t.on("mouseout",function(t,e){d3.select(this).classed("hover",!1).style("stroke-width",t.strokeWidth+"px").style("stroke-opacity",.7),k.elementMouseout({label:t.name,index:e})}),t.on("mousemove",function(t,e){k.elementMousemove()}),t.on("click",function(t){k.elementClick({id:t.id})});var z=(n=R.selectAll(".dimension").data(f)).enter().append("g").attr("class","nv-parallelCoordinates dimension");n.attr("transform",function(t){return"translate("+u(t.key)+",0)"}),z.append("g").attr("class","nv-axis"),z.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",function(t,e){k.elementMouseover({label:t.tooltip||t.key,color:t.color})}).on("mouseout",function(t,e){k.elementMouseout({label:t.tooltip})}).on("mousemove",function(t,e){k.elementMousemove()}).call(L),z.append("g").attr("class","nv-brushBackground"),n.exit().remove(),n.select(".nv-label").text(function(t){return t.key}),$(g);var W=p.filter(function(t){return!c[t].brush.empty()}),H=W.map(function(t){return c[t].brush.extent()}),U=y.slice(0);function B(t){return w(f.map(function(e){if(isNaN(t.values[e.key])||isNaN(parseFloat(t.values[e.key]))||N){var n=c[e.key].domain(),r=c[e.key].range(),i=n[0]-(n[1]-n[0])/9;if(x.indexOf(e.key)<0){var o=d3.scale.linear().domain([i,n[1]]).range([l-12,r[1]]);c[e.key].brush.y(o),x.push(e.key)}if(isNaN(t.values[e.key])||isNaN(parseFloat(t.values[e.key])))return[u(e.key),c[e.key](i)]}return void 0!==D&&(x.length>0||N?(D.style("display","inline"),V.style("display","inline")):(D.style("display","none"),V.style("display","none"))),[u(e.key),c[e.key](t.values[e.key])]}))}function $(t){v.forEach(function(e){var n=c[e.dimension].brush.y().domain();e.hasOnlyNaN&&(e.extent[1]=(c[e.dimension].domain()[1]-n[0])*(e.extent[1]-e.extent[0])/(T[e.dimension]-e.extent[0])+n[0]),e.hasNaN&&(e.extent[0]=n[0]),t&&c[e.dimension].brush.extent(e.extent)}),n.select(".nv-brushBackground").each(function(t){d3.select(this).call(c[t.key].brush)}).selectAll("rect").attr("x",-8).attr("width",16),Y()}function q(){!1===g&&(g=!0,$(!0))}function G(){W=p.filter(function(t){return!c[t].brush.empty()}),H=W.map(function(t){return c[t].brush.extent()}),v=[],W.forEach(function(t,e){v[e]={dimension:t,extent:H[e],hasNaN:!1,hasOnlyNaN:!1}}),y=[],t.style("display",function(t){var e=W.every(function(e,n){return!(!isNaN(t.values[e])&&!isNaN(parseFloat(t.values[e]))||H[n][0]!=c[e].brush.y().domain()[0])||H[n][0]<=t.values[e]&&t.values[e]<=H[n][1]&&!isNaN(parseFloat(t.values[e]))});return e&&y.push(t),e?null:"none"}),Y(),k.brush({filters:v,active:y})}function Z(){var t=W.length>0;v.forEach(function(t){t.extent[0]===c[t.dimension].brush.y().domain()[0]&&x.indexOf(t.dimension)>=0&&(t.hasNaN=!0),t.extent[1]<c[t.dimension].domain()[0]&&(t.hasOnlyNaN=!0)}),k.brushEnd(y,t)}function Y(){n.select(".nv-axis").each(function(t,e){var n=v.filter(function(e){return e.dimension==t.key});O[t.key]=c[t.key].domain(),0!=n.length&&g&&(O[t.key]=[],n[0].extent[1]>c[t.key].domain()[0]&&(O[t.key]=[n[0].extent[1]]),n[0].extent[0]>=c[t.key].domain()[0]&&O[t.key].push(n[0].extent[0])),d3.select(this).call(C.scale(c[t.key]).tickFormat(t.format).tickValues(O[t.key]))})}function X(t){var e=b[t];return null==e?u(t):e}y=[],t.style("display",function(t){var e=W.every(function(e,n){return!(!isNaN(t.values[e])&&!isNaN(parseFloat(t.values[e]))||H[n][0]!=c[e].brush.y().domain()[0])||H[n][0]<=t.values[e]&&t.values[e]<=H[n][1]&&!isNaN(parseFloat(t.values[e]))});return e&&y.push(t),e?null:"none"}),(v.length>0||!r.utils.arrayEquals(y,U))&&k.activeChanged(y)}),E}return E.dispatch=k,E.options=r.utils.optionsFunc.bind(E),E._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},dimensionData:{get:function(){return h},set:function(t){h=t}},displayBrush:{get:function(){return g},set:function(t){g=t}},filters:{get:function(){return v},set:function(t){v=t}},active:{get:function(){return y},set:function(t){y=t}},lineTension:{get:function(){return _},set:function(t){_=t}},undefinedValuesLabel:{get:function(){return d},set:function(t){d=t}},dimensions:{get:function(){return h.map(function(t){return t.key})},set:function(t){r.deprecated("dimensions","use dimensionData instead"),t.forEach(0===h.length?function(t){h.push({key:t})}:function(t,e){h[e].key=t})}},dimensionNames:{get:function(){return h.map(function(t){return t.key})},set:function(t){r.deprecated("dimensionNames","use dimensionData instead"),p=[],t.forEach(0===h.length?function(t){h.push({key:t})}:function(t,e){h[e].key=t})}},dimensionFormats:{get:function(){return h.map(function(t){return t.format})},set:function(t){r.deprecated("dimensionFormats","use dimensionData instead"),t.forEach(0===h.length?function(t){h.push({format:t})}:function(t,e){h[e].format=t})}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},color:{get:function(){return m},set:function(t){m=r.utils.getColor(t)}}}),r.utils.initOptions(E),E},r.models.parallelCoordinatesChart=function(){"use strict";var t=r.models.parallelCoordinates(),e=r.models.legend(),n=r.models.tooltip(),i=(r.models.tooltip(),{top:0,right:0,bottom:0,left:0}),o=null,s=null,a=null,l=!0,u=r.utils.defaultColor(),c=r.utils.state(),d=[],h=!0,f=null,p=null,g="undefined",m=d3.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),v=r.utils.renderWatch(m),y=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},b=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};function x(n){return v.reset(),v.models(t),n.each(function(n){var u=d3.select(this);r.utils.initSVG(u);var p,g=r.utils.availableWidth(s,u,i),v=r.utils.availableHeight(a,u,i);if(x.update=function(){u.call(x)},x.container=this,c.setter(b(d),x.update).getter(y(d)).update(),c.disabled=d.map(function(t){return!!t.disabled}),(d=d.map(function(t){return t.disabled=!!t.disabled,t})).forEach(function(t,e){t.originalPosition=isNaN(t.originalPosition)?e:t.originalPosition,t.currentPosition=isNaN(t.currentPosition)?e:t.currentPosition}),!f)for(p in f={},c)f[p]=c[p]instanceof Array?c[p].slice(0):c[p];if(!n||!n.length)return r.utils.noData(x,u),x;u.selectAll(".nv-noData").remove();var _=u.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([n]),w=_.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),C=_.select("g");w.append("g").attr("class","nv-parallelCoordinatesWrap"),w.append("g").attr("class","nv-legendWrap"),C.select("rect").attr("width",g).attr("height",v>0?v:0),l?(e.width(g).color(function(t){return"rgb(188,190,192)"}),C.select(".nv-legendWrap").datum(d.sort(function(t,e){return t.originalPosition-e.originalPosition})).call(e),o||e.height()===i.top||(i.top=e.height(),v=r.utils.availableHeight(a,u,i)),_.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-i.top+")")):C.select(".nv-legendWrap").selectAll("*").remove(),_.attr("transform","translate("+i.left+","+i.top+")"),t.width(g).height(v).dimensionData(d).displayBrush(h),C.select(".nv-parallelCoordinatesWrap ").datum(n).transition().call(t),t.dispatch.on("brushEnd",function(t,e){e?(h=!0,m.brushEnd(t)):h=!1}),e.dispatch.on("stateChange",function(t){for(var e in t)c[e]=t[e];m.stateChange(c),x.update()}),t.dispatch.on("dimensionsOrder",function(t){d.sort(function(t,e){return t.currentPosition-e.currentPosition});var e=!1;d.forEach(function(t,n){t.currentPosition=n,t.currentPosition!==t.originalPosition&&(e=!0)}),m.dimensionsOrder(d,e)}),m.on("changeState",function(t){"undefined"!=typeof t.disabled&&(d.forEach(function(e,n){e.disabled=t.disabled[n]}),c.disabled=t.disabled),x.update()})}),v.renderEnd("parraleleCoordinateChart immediate"),x}return n.contentGenerator(function(t){var e='<table><thead><tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td><strong>'+t.key+"</strong></td></tr></thead>";return 0!==t.series.length&&(e+='<tbody><tr><td height ="10px"></td></tr>',t.series.forEach(function(t){e=e+'<tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td class="key">'+t.key+'</td><td class="value">'+t.value+"</td></tr>"}),e+="</tbody>"),e+="</table>"}),t.dispatch.on("elementMouseover.tooltip",function(t){var e={key:t.label,color:t.color,series:[]};t.values&&(Object.keys(t.values).forEach(function(n){var r,i=t.dimensions.filter(function(t){return t.key===n})[0];i&&(r=isNaN(t.values[n])||isNaN(parseFloat(t.values[n]))?g:i.format(t.values[n]),e.series.push({idx:i.currentPosition,key:n,value:r,color:i.color}))}),e.series.sort(function(t,e){return t.idx-e.idx})),n.data(e).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(t){n.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(){n()}),x.dispatch=m,x.parallelCoordinates=t,x.legend=e,x.tooltip=n,x.options=r.utils.optionsFunc.bind(x),x._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return a},set:function(t){a=t}},showLegend:{get:function(){return l},set:function(t){l=t}},defaultState:{get:function(){return f},set:function(t){f=t}},dimensionData:{get:function(){return d},set:function(t){d=t}},displayBrush:{get:function(){return h},set:function(t){h=t}},noData:{get:function(){return p},set:function(t){p=t}},nanValue:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return i},set:function(t){void 0!==t.top&&(i.top=t.top,o=t.top),i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},color:{get:function(){return u},set:function(n){u=r.utils.getColor(n),e.color(u),t.color(u)}}}),r.utils.inheritOptions(x,t),r.utils.initOptions(x),x},r.models.pie=function(){"use strict";var t={top:0,right:0,bottom:0,left:0},e=500,n=500,i=function(t){return t.x},o=function(t){return t.y},s=Math.floor(1e4*Math.random()),a=null,l=r.utils.defaultColor(),u=d3.format(",.2f"),c=!0,d=!1,h="key",f=.02,p=!1,g=!1,m=!1,v=!0,y=0,b=!1,x=!1,_=!1,w=!1,C=0,k=.5,M=250,E=[],A=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),S=[],T=[],N=r.utils.renderWatch(A);function O(P){return N.reset(),P.each(function(O){var P=e-t.left-t.right,I=n-t.top-t.bottom,R=Math.min(P,I)/2,D=[],V=[];if(a=d3.select(this),0===E.length)for(var L=R-R/10,F=k*R,j=0;j<O[0].length;j++)D.push(L),V.push(F);else v?(D=E.map(function(t){return(t.outer-t.outer/10)*R}),V=E.map(function(t){return(t.inner-t.inner/10)*R}),k=d3.min(E.map(function(t){return t.inner-t.inner/10}))):(D=E.map(function(t){return t.outer*R}),V=E.map(function(t){return t.inner*R}),k=d3.min(E.map(function(t){return t.inner})));r.utils.initSVG(a);var z=a.selectAll(".nv-wrap.nv-pie").data(O),W=z.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+s).append("g"),H=z.select("g"),U=W.append("g").attr("class","nv-pie");for(W.append("g").attr("class","nv-pieLabels"),z.attr("transform","translate("+t.left+","+t.top+")"),H.select(".nv-pie").attr("transform","translate("+P/2+","+I/2+")"),H.select(".nv-pieLabels").attr("transform","translate("+P/2+","+I/2+")"),a.on("click",function(t,e){A.chartClick({data:t,index:e,pos:d3.event,id:s})}),S=[],T=[],j=0;j<O[0].length;j++){var B=d3.svg.arc().outerRadius(D[j]),$=d3.svg.arc().outerRadius(D[j]+5);!1!==x&&(B.startAngle(x),$.startAngle(x)),!1!==w&&(B.endAngle(w),$.endAngle(w)),g&&(B.innerRadius(V[j]),$.innerRadius(V[j])),B.cornerRadius&&C&&(B.cornerRadius(C),$.cornerRadius(C)),S.push(B),T.push($)}var q=d3.layout.pie().sort(null).value(function(t){return t.disabled?0:o(t)});q.padAngle&&_&&q.padAngle(_),g&&m&&(U.append("text").attr("class","nv-pie-title"),z.select(".nv-pie-title").style("text-anchor","middle").text(function(t){return m}).style("font-size",Math.min(P,I)*k*2/(m.length+2)+"px").attr("dy","0.35em").attr("transform",function(t,e){return"translate(0, "+y+")"}));var G=z.select(".nv-pie").selectAll(".nv-slice").data(q),Z=z.select(".nv-pieLabels").selectAll(".nv-label").data(q);G.exit().remove(),Z.exit().remove();var Y=G.enter().append("g");if(Y.attr("class","nv-slice"),Y.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),v&&d3.select(this).select("path").transition().duration(70).attr("d",T[e]),A.elementMouseover({data:t.data,index:e,color:d3.select(this).style("fill"),percent:(t.endAngle-t.startAngle)/(2*Math.PI)})}),Y.on("mouseout",function(t,e){d3.select(this).classed("hover",!1),v&&d3.select(this).select("path").transition().duration(50).attr("d",S[e]),A.elementMouseout({data:t.data,index:e})}),Y.on("mousemove",function(t,e){A.elementMousemove({data:t.data,index:e})}),Y.on("click",function(t,e){A.elementClick({data:t.data,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this})}),Y.on("dblclick",function(t,e){A.elementDblClick({data:t.data,index:e,color:d3.select(this).style("fill")})}),G.attr("fill",function(t,e){return l(t.data,e)}),G.attr("stroke",function(t,e){return l(t.data,e)}),Y.append("path").each(function(t){this._current=t}),G.select("path").transition().duration(M).attr("d",function(t,e){return S[e](t)}).attrTween("d",function(t,e){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,g||(t.innerRadius=0);var n=d3.interpolate(this._current,t);return this._current=n(0),function(t){return S[e](n(t))}}),c){var X=[];for(j=0;j<O[0].length;j++)X.push(S[j]),d?g&&(X[j]=d3.svg.arc().outerRadius(S[j].outerRadius()),!1!==x&&X[j].startAngle(x),!1!==w&&X[j].endAngle(w)):g||X[j].innerRadius(0);Z.enter().append("g").classed("nv-label",!0).each(function(t,e){var n=d3.select(this);n.attr("transform",function(t,e){if(b){t.outerRadius=D[e]+10,t.innerRadius=D[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+X[e].centroid(t)+") rotate("+n+")"}return t.outerRadius=R+10,t.innerRadius=R+15,"translate("+X[e].centroid(t)+")"}),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",b?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var K={},Q=function(t){return 140*Math.floor(t[0]/140)+","+14*Math.floor(t[1]/14)},J=function(t){return(t.endAngle-t.startAngle)/(2*Math.PI)};Z.watchTransition(N,"pie labels").attr("transform",function(t,e){if(b){t.outerRadius=D[e]+10,t.innerRadius=D[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+X[e].centroid(t)+") rotate("+n+")"}t.outerRadius=R+10,t.innerRadius=R+15;var r=X[e].centroid(t),i=J(t);if(t.value&&i>=f){var o=Q(r);K[o]&&(r[1]-=14),K[Q(r)]=!0}return"translate("+r+")"}),Z.select(".nv-label text").style("text-anchor",function(t,e){return b?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(t,e){var n=J(t),r="";if(!t.value||n<f)return"";if("function"==typeof h)r=h(t,e,{key:i(t.data),value:o(t.data),percent:u(n)});else switch(h){case"key":r=i(t.data);break;case"value":r=u(o(t.data));break;case"percent":r=d3.format("%")(n)}return r}),p&&Z.each(function(t,e){if(this.getBBox){var n=this.getBBox(),i=X[e].centroid(t),o={x:i[0]+n.x,y:i[1]+n.y},s={x:o.x+n.width,y:o.y},a={x:o.x,y:o.y+n.height},l={x:o.x+n.width,y:o.y+n.height};t.visible=r.utils.pointIsInArc(o,t,B)&&r.utils.pointIsInArc(s,t,B)&&r.utils.pointIsInArc(a,t,B)&&r.utils.pointIsInArc(l,t,B)}}).style("display",function(t){return t.visible?null:"none"})}}),N.renderEnd("pie immediate"),O}return O.dispatch=A,O.options=r.utils.optionsFunc.bind(O),O._options=Object.create({},{arcsRadius:{get:function(){return E},set:function(t){E=t}},width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return n},set:function(t){n=t}},showLabels:{get:function(){return c},set:function(t){c=t}},title:{get:function(){return m},set:function(t){m=t}},titleOffset:{get:function(){return y},set:function(t){y=t}},labelThreshold:{get:function(){return f},set:function(t){f=t}},hideOverlapLabels:{get:function(){return p},set:function(t){p=t}},valueFormat:{get:function(){return u},set:function(t){u=t}},x:{get:function(){return i},set:function(t){i=t}},id:{get:function(){return s},set:function(t){s=t}},endAngle:{get:function(){return w},set:function(t){w=t}},startAngle:{get:function(){return x},set:function(t){x=t}},padAngle:{get:function(){return _},set:function(t){_=t}},cornerRadius:{get:function(){return C},set:function(t){C=t}},donutRatio:{get:function(){return k},set:function(t){k=t}},labelsOutside:{get:function(){return d},set:function(t){d=t}},labelSunbeamLayout:{get:function(){return b},set:function(t){b=t}},donut:{get:function(){return g},set:function(t){g=t}},growOnHover:{get:function(){return v},set:function(t){v=t}},pieLabelsOutside:{get:function(){return d},set:function(t){d=t,r.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return d},set:function(t){d=t,r.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return u},set:function(t){u=t,r.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return t},set:function(e){t.top="undefined"!=typeof e.top?e.top:t.top,t.right="undefined"!=typeof e.right?e.right:t.right,t.bottom="undefined"!=typeof e.bottom?e.bottom:t.bottom,t.left="undefined"!=typeof e.left?e.left:t.left}},duration:{get:function(){return M},set:function(t){N.reset(M=t)}},y:{get:function(){return o},set:function(t){o=d3.functor(t)}},color:{get:function(){return l},set:function(t){l=r.utils.getColor(t)}},labelType:{get:function(){return h},set:function(t){h=t||"key"}}}),r.utils.initOptions(O),O},r.models.pieChart=function(){"use strict";var t=r.models.pie(),e=r.models.legend(),n=r.models.tooltip(),i={top:30,right:20,bottom:20,left:20},o=null,s=null,a=null,l=!1,u=!0,c="top",d=r.utils.defaultColor(),h=r.utils.state(),f=null,p=null,g=250,m=d3.dispatch("stateChange","changeState","renderEnd");n.duration(0).headerEnabled(!1).valueFormatter(function(e,n){return t.valueFormat()(e,n)});var v=r.utils.renderWatch(m),y=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},b=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};function x(n){return v.reset(),v.models(t),n.each(function(n){var l=d3.select(this);r.utils.initSVG(l);var d,p=r.utils.availableWidth(s,l,i),g=r.utils.availableHeight(a,l,i);if(x.update=function(){l.transition().call(x)},x.container=this,h.setter(b(n),x.update).getter(y(n)).update(),h.disabled=n.map(function(t){return!!t.disabled}),!f)for(d in f={},h)f[d]=h[d]instanceof Array?h[d].slice(0):h[d];if(!n||!n.length)return r.utils.noData(x,l),x;l.selectAll(".nv-noData").remove();var v=l.selectAll("g.nv-wrap.nv-pieChart").data([n]),_=v.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),w=v.select("g");if(_.append("g").attr("class","nv-pieWrap"),_.append("g").attr("class","nv-legendWrap"),u)if("top"===c)e.width(p).key(t.x()),v.select(".nv-legendWrap").datum(n).call(e),o||e.height()===i.top||(i.top=e.height(),g=r.utils.availableHeight(a,l,i)),v.select(".nv-legendWrap").attr("transform","translate(0,"+-i.top+")");else if("right"===c){var C=r.models.legend().width();p/2<C&&(C=p/2),e.height(g).key(t.x()),e.width(C),p-=e.width(),v.select(".nv-legendWrap").datum(n).call(e).attr("transform","translate("+p+",0)")}else"bottom"===c&&(e.width(p).key(t.x()),v.select(".nv-legendWrap").datum(n).call(e),i.bottom=e.height(),g=r.utils.availableHeight(a,l,i),v.select(".nv-legendWrap").attr("transform","translate(0,"+g+")"));else w.select(".nv-legendWrap").selectAll("*").remove();v.attr("transform","translate("+i.left+","+i.top+")"),t.width(p).height(g);var k=w.select(".nv-pieWrap").datum([n]);d3.transition(k).call(t),e.dispatch.on("stateChange",function(t){for(var e in t)h[e]=t[e];m.stateChange(h),x.update()}),m.on("changeState",function(t){"undefined"!=typeof t.disabled&&(n.forEach(function(e,n){e.disabled=t.disabled[n]}),h.disabled=t.disabled),x.update()})}),v.renderEnd("pieChart immediate"),x}return t.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:x.x()(t.data),value:x.y()(t.data),color:t.color,percent:t.percent},l||(delete t.percent,delete t.series.percent),n.data(t).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(t){n.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(t){n()}),x.legend=e,x.dispatch=m,x.pie=t,x.tooltip=n,x.options=r.utils.optionsFunc.bind(x),x._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return a},set:function(t){a=t}},noData:{get:function(){return p},set:function(t){p=t}},showTooltipPercent:{get:function(){return l},set:function(t){l=t}},showLegend:{get:function(){return u},set:function(t){u=t}},legendPosition:{get:function(){return c},set:function(t){c=t}},defaultState:{get:function(){return f},set:function(t){f=t}},color:{get:function(){return d},set:function(n){e.color(d=n),t.color(d)}},duration:{get:function(){return g},set:function(e){v.reset(g=e),t.duration(g)}},margin:{get:function(){return i},set:function(t){void 0!==t.top&&(i.top=t.top,o=t.top),i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}}}),r.utils.inheritOptions(x,t),r.utils.initOptions(x),x},r.models.sankey=function(){"use strict";var t={},e=24,n=8,i=[1,1],o=[],s=[],a=!0,l=function(t){o.forEach(function(t){t.sourceLinks=[],t.targetLinks=[]}),s.forEach(function(t){var e=t.source,n=t.target;"number"==typeof e&&(e=t.source=o[t.source]),"number"==typeof n&&(n=t.target=o[t.target]),e.sourceLinks.push(t),n.targetLinks.push(t)}),o.forEach(function(t){t.value=Math.max(d3.sum(t.sourceLinks,h),d3.sum(t.targetLinks,h))}),function(){for(var t,n=o,r=0;n.length&&r<o.length;)t=[],n.forEach(function(n){n.x=r,n.dx=e,n.sourceLinks.forEach(function(e){t.indexOf(e.target)<0&&t.push(e.target)})}),n=t,++r;a&&function(t){o.forEach(function(e){e.sourceLinks.length||(e.x=t-1)})}(r),function(t){o.forEach(function(e){e.x*=t})}((i[0]-e)/(r-1))}(),function(t){var e=d3.nest().key(function(t){return t.x}).sortKeys(d3.ascending).entries(o).map(function(t){return t.values});(function(){var t=d3.min(e,function(t){return(i[1]-(t.length-1)*n)/d3.sum(t,h)});e.forEach(function(e){e.forEach(function(e,n){e.y=n,e.dy=e.value*t})}),s.forEach(function(e){e.dy=e.value*t})})(),u(),d();for(var r=1;t>0;--t)l(r*=.99),u(),d(),a(r),u(),d();function a(t){function n(t){return(t.source.y+t.sy+t.dy/2)*t.value}e.forEach(function(e,r){e.forEach(function(e){if(e.targetLinks.length){var r=d3.sum(e.targetLinks,n)/d3.sum(e.targetLinks,h);e.y+=(r-c(e))*t}})})}function l(t){function n(t){return(t.target.y+t.ty+t.dy/2)*t.value}e.slice().reverse().forEach(function(e){e.forEach(function(e){if(e.sourceLinks.length){var r=d3.sum(e.sourceLinks,n)/d3.sum(e.sourceLinks,h);e.y+=(r-c(e))*t}})})}function u(){e.forEach(function(t){var e,r,o,s=0,a=t.length;for(t.sort(f),o=0;o<a;++o)(r=s-(e=t[o]).y)>0&&(e.y+=r),s=e.y+e.dy+n;if((r=s-n-i[1])>0)for(s=e.y-=r,o=a-2;o>=0;--o)(r=(e=t[o]).y+e.dy+n-s)>0&&(e.y-=r),s=e.y})}function f(t,e){return t.y-e.y}}(t)},u=function(){var t=.5;function e(e){var n=e.source.x+e.source.dx,r=e.target.x,i=d3.interpolateNumber(n,r),o=i(t),s=i(1-t),a=e.source.y+e.sy+e.dy/2,l=e.target.y+e.ty+e.dy/2;return"M"+n+","+a+"C"+o+","+a+" "+s+","+l+" "+r+","+l}return e.curvature=function(n){return arguments.length?(t=+n,e):t},e},c=function(t){return t.y+t.dy/2};function d(){function t(t,e){return t.source.y-e.source.y}function e(t,e){return t.target.y-e.target.y}o.forEach(function(n){n.sourceLinks.sort(e),n.targetLinks.sort(t)}),o.forEach(function(t){var e=0,n=0;t.sourceLinks.forEach(function(t){t.sy=e,e+=t.dy}),t.targetLinks.forEach(function(t){t.ty=n,n+=t.dy})})}function h(t){return t.value}return t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{nodeWidth:{get:function(){return e},set:function(t){e=+t}},nodePadding:{get:function(){return n},set:function(t){n=t}},nodes:{get:function(){return o},set:function(t){o=t}},links:{get:function(){return s},set:function(t){s=t}},size:{get:function(){return i},set:function(t){i=t}},sinksRight:{get:function(){return a},set:function(t){a=t}},layout:{get:function(){l(32)},set:function(t){l(t)}},relayout:{get:function(){d()},set:function(t){}},center:{get:function(){return c()},set:function(t){"function"==typeof t&&(c=t)}},link:{get:function(){return u()},set:function(t){return"function"==typeof t&&(u=t),u()}}}),r.utils.initOptions(t),t},r.models.sankeyChart=function(){"use strict";var t={top:5,right:0,bottom:5,left:0},e=r.models.sankey(),n=600,i=400,o=36,s=40,a="units",l=void 0,u=d3.format(",.0f"),c=function(t){return u(t)+" "+a},d=d3.scale.category20(),h=function(t){return t.source.name+" \u2192 "+t.target.name+"\n"+c(t.value)},f=function(t){return t.color=d(t.name.replace(/ .*/,""))},p=function(t){return d3.rgb(t.color).darker(2)},g=function(t){return t.name+"\n"+c(t.value)},m=function(t,e){t.append("text").attr("x",0).attr("y",0).attr("class","nvd3-sankey-chart-error").attr("text-anchor","middle").text(e)};function v(t){return t.each(function(r){var a={nodes:[{node:1,name:"Test 1"},{node:2,name:"Test 2"},{node:3,name:"Test 3"},{node:4,name:"Test 4"},{node:5,name:"Test 5"},{node:6,name:"Test 6"}],links:[{source:0,target:1,value:2295},{source:0,target:5,value:1199},{source:1,target:2,value:1119},{source:1,target:5,value:1176},{source:2,target:3,value:487},{source:2,target:5,value:632},{source:3,target:4,value:301},{source:3,target:5,value:186}]},u=!1,c=!1;if(("object"==typeof r.nodes&&r.nodes.length)>=0&&("object"==typeof r.links&&r.links.length)>=0&&(u=!0),r.nodes&&r.nodes.length>0&&r.links&&r.links.length>0&&(c=!0),!u)return console.error("NVD3 Sankey chart error:","invalid data format for",r),console.info("Valid data format is: ",a,JSON.stringify(a)),m(t,"Error loading chart, data is invalid"),!1;if(!c)return m(t,"No data available"),!1;var d=t.append("svg").attr("width",n).attr("height",i).append("g").attr("class","nvd3 nv-wrap nv-sankeyChart");e.nodeWidth(o).nodePadding(s).size([n,i]);var v=e.link();e.nodes(r.nodes).links(r.links).layout(32).center(l);var y=d.append("g").selectAll(".link").data(r.links).enter().append("path").attr("class","link").attr("d",v).style("stroke-width",function(t){return Math.max(1,t.dy)}).sort(function(t,e){return e.dy-t.dy});y.append("title").text(h);var b=d.append("g").selectAll(".node").data(r.nodes).enter().append("g").attr("class","node").attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).call(d3.behavior.drag().origin(function(t){return t}).on("dragstart",function(){this.parentNode.appendChild(this)}).on("drag",function(t){d3.select(this).attr("transform","translate("+t.x+","+(t.y=Math.max(0,Math.min(i-t.dy,d3.event.y)))+")"),e.relayout(),y.attr("d",v)}));b.append("rect").attr("height",function(t){return t.dy}).attr("width",e.nodeWidth()).style("fill",f).style("stroke",p).append("title").text(g),b.append("text").attr("x",-6).attr("y",function(t){return t.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(function(t){return t.name}).filter(function(t){return t.x<n/2}).attr("x",6+e.nodeWidth()).attr("text-anchor","start")}),v}return v.options=r.utils.optionsFunc.bind(v),v._options=Object.create({},{units:{get:function(){return a},set:function(t){a=t}},width:{get:function(){return n},set:function(t){n=t}},height:{get:function(){return i},set:function(t){i=t}},format:{get:function(){return c},set:function(t){c=t}},linkTitle:{get:function(){return h},set:function(t){h=t}},nodeWidth:{get:function(){return o},set:function(t){o=t}},nodePadding:{get:function(){return s},set:function(t){s=t}},center:{get:function(){return l},set:function(t){l=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},nodeStyle:{get:function(){return{}},set:function(t){f=void 0!==t.fillColor?t.fillColor:f,p=void 0!==t.strokeColor?t.strokeColor:p,g=void 0!==t.title?t.title:g}}}),r.utils.initOptions(v),v},r.models.scatter=function(){"use strict";var t,e,n,i,o,s,a,l,u={top:0,right:0,bottom:0,left:0},c=null,d=null,h=r.utils.defaultColor(),f=null,p=Math.floor(1e5*Math.random()),g=null,m=d3.scale.linear(),v=d3.scale.linear(),y=d3.scale.linear(),b=function(t){return t.x},x=function(t){return t.y},_=function(t){return t.size||1},w=function(t){return t.shape||"circle"},C=[],k=[],M=[],E=!0,A=function(t){return!t.notActive},S=!1,T=.1,N=!1,O=!0,P=!1,I=function(){return 25},R=null,D=null,V=null,L=null,F=null,j=null,z=!1,W=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),H=!0,U=250,B=300,$=!1,q=!1,G=r.utils.renderWatch(W,U),Z=[16,256],Y={};function X(t){delete Y[t[0].series+":"+t[1]]}function K(t){var e,n,r,i=function(t){var e;return Y[e=t[0].series+":"+t[1]]=Y[e]||{}}(t),o=!1;for(e=1;e<arguments.length;e+=2)n=arguments[e],r=arguments[e+1](t[0],t[1]),i[n]===r&&i.hasOwnProperty(n)||(i[n]=r,o=!0);return o}function Q(U){return G.reset(),U.each(function(U){g=d3.select(this);var Y=r.utils.availableWidth(c,g,u),J=r.utils.availableHeight(d,g,u);r.utils.initSVG(g),U.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var tt="function"==typeof Q.yScale().base,et=R&&D&&F?[]:d3.merge(U.map(function(t){return t.values.map(function(t,e){return{x:b(t,e),y:x(t,e),size:_(t,e)}})}));if(m.domain(R||d3.extent(et.map(function(t){return t.x}).concat(C))),m.range(S&&U[0]?V||[(Y*T+Y)/(2*U[0].values.length),Y-Y*(1+T)/(2*U[0].values.length)]:V||[0,Y]),tt){var nt=d3.min(et.map(function(t){if(0!==t.y)return t.y}));v.clamp(!0).domain(D||d3.extent(et.map(function(t){return 0!==t.y?t.y:.1*nt}).concat(k))).range(L||[J,0])}else v.domain(D||d3.extent(et.map(function(t){return t.y}).concat(k))).range(L||[J,0]);y.domain(F||d3.extent(et.map(function(t){return t.size}).concat(M))).range(j||Z),z=m.domain()[0]===m.domain()[1]||v.domain()[0]===v.domain()[1],m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]):m.domain([-1,1])),v.domain()[0]===v.domain()[1]&&(v.domain()[0]?v.domain([v.domain()[0]-.01*v.domain()[0],v.domain()[1]+.01*v.domain()[1]]):v.domain([-1,1])),isNaN(m.domain()[0])&&m.domain([-1,1]),isNaN(v.domain()[0])&&v.domain([-1,1]),t=t||m,e=e||v,n=n||y;var rt=m(1)!==t(1)||v(1)!==e(1)||y(1)!==n(1);s=s||c,a=a||d;var it=s!==c||a!==d,ot=(i=i||[])[0]!==m.domain()[0]||i[1]!==m.domain()[1];i=m.domain(),o=o||[],ot=ot||o[0]!==v.domain()[0]||o[1]!==v.domain()[1],o=v.domain();var st=g.selectAll("g.nv-wrap.nv-scatter").data([U]),at=st.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+p),lt=at.append("defs"),ut=at.append("g"),ct=st.select("g");function dt(){if(q=!1,!E)return!1;if(!0===H){st.select(".nv-point-paths").selectAll("path").remove();var t=d3.merge(U.map(function(t,e){return t.values.map(function(t,n){var i=b(t,n),o=x(t,n);return[r.utils.NaNtoZero(m(i))+1e-4*Math.random(),r.utils.NaNtoZero(v(o))+1e-4*Math.random(),e,n,t]}).filter(function(t,e){return A(t[4],e)})}));if(0==t.length)return!1;t.length<3&&(t.push([m.range()[0]-20,v.range()[0]-20,null,null]),t.push([m.range()[1]+20,v.range()[1]+20,null,null]),t.push([m.range()[0]-20,v.range()[0]+20,null,null]),t.push([m.range()[1]+20,v.range()[1]-20,null,null]));var e=d3.geom.polygon([[-10,-10],[-10,d+10],[c+10,d+10],[c+10,-10]]);t=t.sort(function(t,e){return t[0]-e[0]||t[1]-e[1]});for(var n=0;n<t.length-1;)Math.abs(t[n][0]-t[n+1][0])<1e-4&&Math.abs(t[n][1]-t[n+1][1])<1e-4?t.splice(n+1,1):n++;var i=d3.geom.voronoi(t).map(function(n,r){return{data:e.clip(n),series:t[r][2],point:t[r][3]}}),o=st.select(".nv-point-paths").selectAll("path").data(i),s=o.enter().append("svg:path").attr("d",function(t){return t&&t.data&&0!==t.data.length?"M"+t.data.join(",")+"Z":"M 0 0"}).attr("id",function(t,e){return"nv-path-"+e}).attr("clip-path",function(t,e){return"url(#nv-clip-"+p+"-"+e+")"});P&&s.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),O&&(st.select(".nv-point-clips").selectAll("*").remove(),st.select(".nv-point-clips").selectAll("clipPath").data(t).enter().append("svg:clipPath").attr("id",function(t,e){return"nv-clip-"+p+"-"+e}).append("svg:circle").attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}).attr("r",I));var a=function(t,e,n){if(q)return 0;var r=U[e.series];if(void 0!==r){var i=r.values[e.point];i.color=h(r,e.series),i.x=b(i),i.y=x(i);var o=g.node().getBoundingClientRect(),s=window.pageYOffset||document.documentElement.scrollTop,a=window.pageXOffset||document.documentElement.scrollLeft;n({point:i,series:r,pos:{left:m(b(i,e.point))+o.left+a+u.left+10,top:v(x(i,e.point))+o.top+s+u.top+10},relativePos:[m(b(i,e.point))+u.left,v(x(i,e.point))+u.top],seriesIndex:e.series,pointIndex:e.point,event:d3.event,element:t})}};o.on("click",function(t){a(this,t,W.elementClick)}).on("dblclick",function(t){a(this,t,W.elementDblClick)}).on("mouseover",function(t){a(this,t,W.elementMouseover)}).on("mouseout",function(t,e){a(this,t,W.elementMouseout)})}else st.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(t,e){if(q||!U[t.series])return 0;var n=U[t.series],r=n.values[e];W.elementClick({point:r,series:n,pos:[m(b(r,e))+u.left,v(x(r,e))+u.top],relativePos:[m(b(r,e))+u.left,v(x(r,e))+u.top],seriesIndex:t.series,pointIndex:e,event:d3.event,element:this})}).on("dblclick",function(t,e){if(q||!U[t.series])return 0;var n=U[t.series],r=n.values[e];W.elementDblClick({point:r,series:n,pos:[m(b(r,e))+u.left,v(x(r,e))+u.top],relativePos:[m(b(r,e))+u.left,v(x(r,e))+u.top],seriesIndex:t.series,pointIndex:e})}).on("mouseover",function(t,e){if(q||!U[t.series])return 0;var n=U[t.series],r=n.values[e];W.elementMouseover({point:r,series:n,pos:[m(b(r,e))+u.left,v(x(r,e))+u.top],relativePos:[m(b(r,e))+u.left,v(x(r,e))+u.top],seriesIndex:t.series,pointIndex:e,color:h(t,e)})}).on("mouseout",function(t,e){if(q||!U[t.series])return 0;var n=U[t.series],r=n.values[e];W.elementMouseout({point:r,series:n,pos:[m(b(r,e))+u.left,v(x(r,e))+u.top],relativePos:[m(b(r,e))+u.left,v(x(r,e))+u.top],seriesIndex:t.series,pointIndex:e,color:h(t,e)})})}st.classed("nv-single-point",z),ut.append("g").attr("class","nv-groups"),ut.append("g").attr("class","nv-point-paths"),at.append("g").attr("class","nv-point-clips"),st.attr("transform","translate("+u.left+","+u.top+")"),lt.append("clipPath").attr("id","nv-edge-clip-"+p).append("rect").attr("transform","translate( -10, -10)"),st.select("#nv-edge-clip-"+p+" rect").attr("width",Y+20).attr("height",J>0?J+20:0),ct.attr("clip-path",N?"url(#nv-edge-clip-"+p+")":""),q=!0;var ht=st.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});ht.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),ht.exit().remove(),ht.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("nv-noninteractive",!E).classed("hover",function(t){return t.hover}),ht.watchTransition(G,"scatter: groups").style("fill",function(t,e){return h(t,e)}).style("stroke",function(t,e){return t.pointBorderColor||f||h(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5);var ft=ht.selectAll("path.nv-point").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return A(t[0],e)})});if(ft.enter().append("path").attr("class",function(t){return"nv-point nv-point-"+t[1]}).style("fill",function(t){return t.color}).style("stroke",function(t){return t.color}).attr("transform",function(n){return"translate("+r.utils.NaNtoZero(t(b(n[0],n[1])))+","+r.utils.NaNtoZero(e(x(n[0],n[1])))+")"}).attr("d",r.utils.symbol().type(function(t){return w(t[0])}).size(function(t){return y(_(t[0],t[1]))})),ft.exit().each(X).remove(),ht.exit().selectAll("path.nv-point").watchTransition(G,"scatter exit").attr("transform",function(t){return"translate("+r.utils.NaNtoZero(m(b(t[0],t[1])))+","+r.utils.NaNtoZero(v(x(t[0],t[1])))+")"}).remove(),ft.filter(function(t){return K(t,"x",b,"y",x)||rt||it||ot}).watchTransition(G,"scatter points").attr("transform",function(t){return"translate("+r.utils.NaNtoZero(m(b(t[0],t[1])))+","+r.utils.NaNtoZero(v(x(t[0],t[1])))+")"}),ft.filter(function(t){return K(t,"shape",w,"size",_)||rt||it||ot}).watchTransition(G,"scatter points").attr("d",r.utils.symbol().type(function(t){return w(t[0])}).size(function(t){return y(_(t[0],t[1]))})),$){var pt=ht.selectAll(".nv-label").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return A(t[0],e)})});pt.enter().append("text").style("fill",function(t,e){return t.color}).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",function(n){return"translate("+(r.utils.NaNtoZero(t(b(n[0],n[1])))+Math.sqrt(y(_(n[0],n[1]))/Math.PI)+2)+","+r.utils.NaNtoZero(e(x(n[0],n[1])))+")"}).text(function(t,e){return t[0].label}),pt.exit().remove(),ht.exit().selectAll("path.nv-label").watchTransition(G,"scatter exit").attr("transform",function(t){return"translate("+(r.utils.NaNtoZero(m(b(t[0],t[1])))+Math.sqrt(y(_(t[0],t[1]))/Math.PI)+2)+","+r.utils.NaNtoZero(v(x(t[0],t[1])))+")"}).remove(),pt.each(function(t){d3.select(this).classed("nv-label",!0).classed("nv-label-"+t[1],!1).classed("hover",!1)}),pt.watchTransition(G,"scatter labels").attr("transform",function(t){return"translate("+(r.utils.NaNtoZero(m(b(t[0],t[1])))+Math.sqrt(y(_(t[0],t[1]))/Math.PI)+2)+","+r.utils.NaNtoZero(v(x(t[0],t[1])))+")"})}B?(clearTimeout(l),l=setTimeout(dt,B)):dt(),t=m.copy(),e=v.copy(),n=y.copy(),s=c,a=d}),G.renderEnd("scatter immediate"),Q}return Q.dispatch=W,Q.options=r.utils.optionsFunc.bind(Q),Q._calls=new function(){this.clearHighlights=function(){return r.dom.write(function(){g.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(t,e,n){r.dom.write(function(){g.select(".nv-groups").selectAll(".nv-series-"+t).selectAll(".nv-point-"+e).classed("hover",n)})}},W.on("elementMouseover.point",function(t){E&&Q._calls.highlightPoint(t.seriesIndex,t.pointIndex,!0)}),W.on("elementMouseout.point",function(t){E&&Q._calls.highlightPoint(t.seriesIndex,t.pointIndex,!1)}),Q._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},xScale:{get:function(){return m},set:function(t){m=t}},yScale:{get:function(){return v},set:function(t){v=t}},pointScale:{get:function(){return y},set:function(t){y=t}},xDomain:{get:function(){return R},set:function(t){R=t}},yDomain:{get:function(){return D},set:function(t){D=t}},pointDomain:{get:function(){return F},set:function(t){F=t}},xRange:{get:function(){return V},set:function(t){V=t}},yRange:{get:function(){return L},set:function(t){L=t}},pointRange:{get:function(){return j},set:function(t){j=t}},forceX:{get:function(){return C},set:function(t){C=t}},forceY:{get:function(){return k},set:function(t){k=t}},forcePoint:{get:function(){return M},set:function(t){M=t}},interactive:{get:function(){return E},set:function(t){E=t}},pointActive:{get:function(){return A},set:function(t){A=t}},padDataOuter:{get:function(){return T},set:function(t){T=t}},padData:{get:function(){return S},set:function(t){S=t}},clipEdge:{get:function(){return N},set:function(t){N=t}},clipVoronoi:{get:function(){return O},set:function(t){O=t}},clipRadius:{get:function(){return I},set:function(t){I=t}},showVoronoi:{get:function(){return P},set:function(t){P=t}},id:{get:function(){return p},set:function(t){p=t}},interactiveUpdateDelay:{get:function(){return B},set:function(t){B=t}},showLabels:{get:function(){return $},set:function(t){$=t}},pointBorderColor:{get:function(){return f},set:function(t){f=t}},x:{get:function(){return b},set:function(t){b=d3.functor(t)}},y:{get:function(){return x},set:function(t){x=d3.functor(t)}},pointSize:{get:function(){return _},set:function(t){_=d3.functor(t)}},pointShape:{get:function(){return w},set:function(t){w=d3.functor(t)}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},duration:{get:function(){return U},set:function(t){G.reset(U=t)}},color:{get:function(){return h},set:function(t){h=r.utils.getColor(t)}},useVoronoi:{get:function(){return H},set:function(t){!1===(H=t)&&(O=!1)}}}),r.utils.initOptions(Q),Q},r.models.scatterChart=function(){"use strict";var t=r.models.scatter(),e=r.models.axis(),n=r.models.axis(),i=r.models.legend(),o=r.models.distribution(),s=r.models.distribution(),a=r.models.tooltip(),l={top:30,right:20,bottom:50,left:75},u=null,c=null,d=null,h=null,f=r.utils.defaultColor(),p=t.xScale(),g=t.yScale(),m=!1,v=!1,y=!0,b=!0,x=!0,_=!1,w=r.utils.state(),C=null,k=d3.dispatch("stateChange","changeState","renderEnd"),M=null,E=250,A=!1;t.xScale(p).yScale(g),e.orient("bottom").tickPadding(10),n.orient(_?"right":"left").tickPadding(10),o.axis("x"),s.axis("y"),a.headerFormatter(function(t,n){return e.tickFormat()(t,n)}).valueFormatter(function(t,e){return n.tickFormat()(t,e)});var S=r.utils.renderWatch(k,E),T=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},N=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};function O(M){return S.reset(),S.models(t),b&&S.models(e),x&&S.models(n),m&&S.models(o),v&&S.models(s),M.each(function(M){h=d3.select(this),r.utils.initSVG(h);var P,I=r.utils.availableWidth(c,h,l),R=r.utils.availableHeight(d,h,l);if(O.update=function(){0===E?h.call(O):h.transition().duration(E).call(O)},O.container=this,w.setter(N(M),O.update).getter(T(M)).update(),w.disabled=M.map(function(t){return!!t.disabled}),!C)for(P in C={},w)C[P]=w[P]instanceof Array?w[P].slice(0):w[P];if(!(M&&M.length&&M.filter(function(t){return t.values.length}).length))return r.utils.noData(O,h),S.renderEnd("scatter immediate"),O;h.selectAll(".nv-noData").remove(),p=t.xScale(),g=t.yScale();var D=h.selectAll("g.nv-wrap.nv-scatterChart").data([M]),V=D.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+t.id()).append("g"),L=D.select("g");V.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),V.append("g").attr("class","nv-x nv-axis"),V.append("g").attr("class","nv-y nv-axis"),V.append("g").attr("class","nv-scatterWrap"),V.append("g").attr("class","nv-regressionLinesWrap"),V.append("g").attr("class","nv-distWrap"),V.append("g").attr("class","nv-legendWrap"),_&&L.select(".nv-y.nv-axis").attr("transform","translate("+I+",0)"),y?(i.width(I),D.select(".nv-legendWrap").datum(M).call(i),u||i.height()===l.top||(l.top=i.height(),R=r.utils.availableHeight(d,h,l)),D.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")):L.select(".nv-legendWrap").selectAll("*").remove(),D.attr("transform","translate("+l.left+","+l.top+")"),t.width(I).height(R).color(M.map(function(t,e){return t.color=t.color||f(t,e),t.color}).filter(function(t,e){return!M[e].disabled})).showLabels(A),D.select(".nv-scatterWrap").datum(M.filter(function(t){return!t.disabled})).call(t),D.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+t.id()+")");var F=D.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t});F.enter().append("g").attr("class","nv-regLines");var j=F.selectAll(".nv-regLine").data(function(t){return[t]});j.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),j.filter(function(t){return t.intercept&&t.slope}).watchTransition(S,"scatterPlusLineChart: regline").attr("x1",p.range()[0]).attr("x2",p.range()[1]).attr("y1",function(t,e){return g(p.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t,e){return g(p.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return f(t,n)}).style("stroke-opacity",function(t,e){return t.disabled||"undefined"==typeof t.slope||"undefined"==typeof t.intercept?0:1}),b&&(e.scale(p)._ticks(r.utils.calcTicksX(I/100,M)).tickSize(-R,0),L.select(".nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")").call(e)),x&&(n.scale(g)._ticks(r.utils.calcTicksY(R/36,M)).tickSize(-I,0),L.select(".nv-y.nv-axis").call(n)),m&&(o.getData(t.x()).scale(p).width(I).color(M.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!M[e].disabled})),V.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),L.select(".nv-distributionX").attr("transform","translate(0,"+g.range()[0]+")").datum(M.filter(function(t){return!t.disabled})).call(o)),v&&(s.getData(t.y()).scale(g).width(R).color(M.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!M[e].disabled})),V.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),L.select(".nv-distributionY").attr("transform","translate("+(_?I:-s.size())+",0)").datum(M.filter(function(t){return!t.disabled})).call(s)),i.dispatch.on("stateChange",function(t){for(var e in t)w[e]=t[e];k.stateChange(w),O.update()}),k.on("changeState",function(t){"undefined"!=typeof t.disabled&&(M.forEach(function(e,n){e.disabled=t.disabled[n]}),w.disabled=t.disabled),O.update()}),t.dispatch.on("elementMouseout.tooltip",function(e){a.hidden(!0),h.select(".nv-chart-"+t.id()+" .nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",0),h.select(".nv-chart-"+t.id()+" .nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",s.size())}),t.dispatch.on("elementMouseover.tooltip",function(t){h.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.relativePos[1]-R),h.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.relativePos[0]+o.size()),a.data(t).hidden(!1)}),p.copy(),g.copy()}),S.renderEnd("scatter with line immediate"),O}return O.dispatch=k,O.scatter=t,O.legend=i,O.xAxis=e,O.yAxis=n,O.distX=o,O.distY=s,O.tooltip=a,O.options=r.utils.optionsFunc.bind(O),O._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},container:{get:function(){return h},set:function(t){h=t}},showDistX:{get:function(){return m},set:function(t){m=t}},showDistY:{get:function(){return v},set:function(t){v=t}},showLegend:{get:function(){return y},set:function(t){y=t}},showXAxis:{get:function(){return b},set:function(t){b=t}},showYAxis:{get:function(){return x},set:function(t){x=t}},defaultState:{get:function(){return C},set:function(t){C=t}},noData:{get:function(){return M},set:function(t){M=t}},duration:{get:function(){return E},set:function(t){E=t}},showLabels:{get:function(){return A},set:function(t){A=t}},margin:{get:function(){return l},set:function(t){void 0!==t.top&&(l.top=t.top,u=t.top),l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},rightAlignYAxis:{get:function(){return _},set:function(t){_=t,n.orient(t?"right":"left")}},color:{get:function(){return f},set:function(t){f=r.utils.getColor(t),i.color(f),o.color(f),s.color(f)}}}),r.utils.inheritOptions(O,t),r.utils.initOptions(O),O},r.models.sparkline=function(){"use strict";var t,e,n,i,o={top:2,right:0,bottom:2,left:0},s=400,a=32,l=null,u=!0,c=d3.scale.linear(),d=d3.scale.linear(),h=function(t){return t.x},f=function(t){return t.y},p=r.utils.getColor(["#000"]),g=!0,m=!0,v=d3.dispatch("renderEnd"),y=r.utils.renderWatch(v);function b(u){return y.reset(),u.each(function(u){var v=s-o.left-o.right,y=a-o.top-o.bottom;l=d3.select(this),r.utils.initSVG(l),c.domain(t||d3.extent(u,h)).range(n||[0,v]),d.domain(e||d3.extent(u,f)).range(i||[y,0]);var b=l.selectAll("g.nv-wrap.nv-sparkline").data([u]);b.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g"),b.select("g"),b.attr("transform","translate("+o.left+","+o.top+")");var x=b.selectAll("path").data(function(t){return[t]});x.enter().append("path"),x.exit().remove(),x.style("stroke",function(t,e){return t.color||p(t,e)}).attr("d",d3.svg.line().x(function(t,e){return c(h(t,e))}).y(function(t,e){return d(f(t,e))}));var _=b.selectAll("circle.nv-point").data(function(t){var e=t.map(function(t,e){return f(t,e)});function n(e){if(-1!=e){var n=t[e];return n.pointIndex=e,n}return null}var r=n(e.lastIndexOf(d.domain()[1])),i=n(e.indexOf(d.domain()[0])),o=n(e.length-1);return[g?i:null,g?r:null,m?o:null].filter(function(t){return null!=t})});_.enter().append("circle"),_.exit().remove(),_.attr("cx",function(t,e){return c(h(t,t.pointIndex))}).attr("cy",function(t,e){return d(f(t,t.pointIndex))}).attr("r",2).attr("class",function(t,e){return h(t,t.pointIndex)==c.domain()[1]?"nv-point nv-currentValue":f(t,t.pointIndex)==d.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),y.renderEnd("sparkline immediate"),b}return b.options=r.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return a},set:function(t){a=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return e},set:function(t){e=t}},xRange:{get:function(){return n},set:function(t){n=t}},yRange:{get:function(){return i},set:function(t){i=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return d},set:function(t){d=t}},animate:{get:function(){return u},set:function(t){u=t}},showMinMaxPoints:{get:function(){return g},set:function(t){g=t}},showCurrentPoint:{get:function(){return m},set:function(t){m=t}},x:{get:function(){return h},set:function(t){h=d3.functor(t)}},y:{get:function(){return f},set:function(t){f=d3.functor(t)}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},color:{get:function(){return p},set:function(t){p=r.utils.getColor(t)}}}),b.dispatch=v,r.utils.initOptions(b),b},r.models.sparklinePlus=function(){"use strict";var t,e,n=r.models.sparkline(),i={top:15,right:100,bottom:10,left:50},o=null,s=null,a=[],l=!1,u=d3.format(",r"),c=d3.format(",.2f"),d=!0,h=!0,f=!1,p=null,g=d3.dispatch("renderEnd"),m=r.utils.renderWatch(g);function v(p){return m.reset(),m.models(n),p.each(function(p){var g=d3.select(this);r.utils.initSVG(g);var m=r.utils.availableWidth(o,g,i),y=r.utils.availableHeight(s,g,i);if(v.update=function(){g.call(v)},v.container=this,!p||!p.length)return r.utils.noData(v,g),v;g.selectAll(".nv-noData").remove();var b=n.y()(p[p.length-1],p.length-1);t=n.xScale(),e=n.yScale();var x=g.selectAll("g.nv-wrap.nv-sparklineplus").data([p]),_=x.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),w=x.select("g");_.append("g").attr("class","nv-sparklineWrap"),_.append("g").attr("class","nv-valueWrap"),_.append("g").attr("class","nv-hoverArea"),x.attr("transform","translate("+i.left+","+i.top+")");var C=w.select(".nv-sparklineWrap");if(n.width(m).height(y),C.call(n),d){var k=w.select(".nv-valueWrap").selectAll(".nv-currentValue").data([b]);k.enter().append("text").attr("class","nv-currentValue").attr("dx",f?-8:8).attr("dy",".9em").style("text-anchor",f?"end":"start"),k.attr("x",m+(f?i.right:0)).attr("y",h?function(t){return e(t)}:0).style("fill",n.color()(p[p.length-1],p.length-1)).text(c(b))}function M(){if(!l){var e=w.selectAll(".nv-hoverValue").data(a),r=e.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);e.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),e.attr("transform",function(e){return"translate("+t(n.x()(p[e],e))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),a.length&&(r.append("line").attr("x1",0).attr("y1",-i.top).attr("x2",0).attr("y2",y),r.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-i.top).attr("text-anchor","end").attr("dy",".9em"),w.select(".nv-hoverValue .nv-xValue").text(u(n.x()(p[a[0]],a[0]))),r.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-i.top).attr("text-anchor","start").attr("dy",".9em"),w.select(".nv-hoverValue .nv-yValue").text(c(n.y()(p[a[0]],a[0]))))}}_.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(!l){var e=d3.mouse(this)[0]-i.left;a=[function(t,e){for(var r=Math.abs(n.x()(t[0],0)-e),i=0,o=0;o<t.length;o++)Math.abs(n.x()(t[o],o)-e)<r&&(r=Math.abs(n.x()(t[o],o)-e),i=o);return i}(p,Math.round(t.invert(e)))],M()}}).on("click",function(){l=!l}).on("mouseout",function(){a=[],M()}),w.select(".nv-hoverArea rect").attr("transform",function(t){return"translate("+-i.left+","+-i.top+")"}).attr("width",m+i.left+i.right).attr("height",y+i.top)}),m.renderEnd("sparklinePlus immediate"),v}return v.dispatch=g,v.sparkline=n,v.options=r.utils.optionsFunc.bind(v),v._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},xTickFormat:{get:function(){return u},set:function(t){u=t}},yTickFormat:{get:function(){return c},set:function(t){c=t}},showLastValue:{get:function(){return d},set:function(t){d=t}},alignValue:{get:function(){return h},set:function(t){h=t}},rightAlignValue:{get:function(){return f},set:function(t){f=t}},noData:{get:function(){return p},set:function(t){p=t}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}}}),r.utils.inheritOptions(v,n),r.utils.initOptions(v),v},r.models.stackedArea=function(){"use strict";var t,e,n={top:0,right:0,bottom:0,left:0},i=960,o=500,s=r.utils.defaultColor(),a=Math.floor(1e5*Math.random()),l=null,u=function(t){return t.x},c=function(t){return t.y},d=function(t,e){return!isNaN(c(t,e))&&null!==c(t,e)},h="stack",f="zero",p="default",g="linear",m=!1,v=r.models.scatter(),y=250,b=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");v.pointSize(2.2).pointDomain([2.2,2.2]);var x=r.utils.renderWatch(b,y);function _(h){return x.reset(),x.models(v),h.each(function(h){var y=i-n.left-n.right,w=o-n.top-n.bottom;l=d3.select(this),r.utils.initSVG(l),t=v.xScale(),e=v.yScale();var C=h;h.forEach(function(t,e){t.seriesIndex=e,t.values=t.values.map(function(t,n){return t.index=n,t.seriesIndex=e,t})});var k=h.filter(function(t){return!t.disabled});h=d3.layout.stack().order(p).offset(f).values(function(t){return t.values}).x(u).y(c).out(function(t,e,n){t.display={y:n,y0:e}})(k);var M=l.selectAll("g.nv-wrap.nv-stackedarea").data([h]),E=M.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),A=E.append("defs"),S=E.append("g"),T=M.select("g");S.append("g").attr("class","nv-areaWrap"),S.append("g").attr("class","nv-scatterWrap"),M.attr("transform","translate("+n.left+","+n.top+")"),0==v.forceY().length&&v.forceY().push(0),v.width(y).height(w).x(u).y(function(t){if(void 0!==t.display)return t.display.y+t.display.y0}).color(h.map(function(t,e){return t.color=t.color||s(t,t.seriesIndex),t.color})),T.select(".nv-scatterWrap").datum(h).call(v),A.append("clipPath").attr("id","nv-edge-clip-"+a).append("rect"),M.select("#nv-edge-clip-"+a+" rect").attr("width",y).attr("height",w),T.attr("clip-path",m?"url(#nv-edge-clip-"+a+")":"");var N=d3.svg.area().defined(d).x(function(e,n){return t(u(e,n))}).y0(function(t){return e(t.display.y0)}).y1(function(t){return e(t.display.y+t.display.y0)}).interpolate(g),O=d3.svg.area().defined(d).x(function(e,n){return t(u(e,n))}).y0(function(t){return e(t.display.y0)}).y1(function(t){return e(t.display.y0)}),P=T.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});P.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t,e){return O(t.values,t.seriesIndex)}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),b.areaMouseover({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),b.areaMouseout({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("click",function(t,e){d3.select(this).classed("hover",!1),b.areaClick({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}),P.exit().remove(),P.style("fill",function(t,e){return t.color||s(t,t.seriesIndex)}).style("stroke",function(t,e){return t.color||s(t,t.seriesIndex)}),P.watchTransition(x,"stackedArea path").attr("d",function(t,e){return N(t.values,e)}),v.dispatch.on("elementMouseover.area",function(t){T.select(".nv-chart-"+a+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),v.dispatch.on("elementMouseout.area",function(t){T.select(".nv-chart-"+a+" .nv-area-"+t.seriesIndex).classed("hover",!1)}),_.d3_stackedOffset_stackPercent=function(t){var e,n,r,i=t.length,o=t[0].length,s=[];for(n=0;n<o;++n){for(e=0,r=0;e<C.length;e++)r+=c(C[e].values[n]);if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=0}for(n=0;n<o;++n)s[n]=0;return s}}),x.renderEnd("stackedArea immediate"),_}return _.dispatch=b,_.scatter=v,v.dispatch.on("elementClick",function(){b.elementClick.apply(this,arguments)}),v.dispatch.on("elementMouseover",function(){b.elementMouseover.apply(this,arguments)}),v.dispatch.on("elementMouseout",function(){b.elementMouseout.apply(this,arguments)}),_.interpolate=function(t){return arguments.length?(g=t,_):g},_.duration=function(t){return arguments.length?(x.reset(y=t),v.duration(y),_):y},_.dispatch=b,_.scatter=v,_.options=r.utils.optionsFunc.bind(_),_._options=Object.create({},{width:{get:function(){return i},set:function(t){i=t}},height:{get:function(){return o},set:function(t){o=t}},defined:{get:function(){return d},set:function(t){d=t}},clipEdge:{get:function(){return m},set:function(t){m=t}},offset:{get:function(){return f},set:function(t){f=t}},order:{get:function(){return p},set:function(t){p=t}},interpolate:{get:function(){return g},set:function(t){g=t}},x:{get:function(){return u},set:function(t){u=d3.functor(t)}},y:{get:function(){return c},set:function(t){c=d3.functor(t)}},margin:{get:function(){return n},set:function(t){n.top=void 0!==t.top?t.top:n.top,n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left}},color:{get:function(){return s},set:function(t){s=r.utils.getColor(t)}},style:{get:function(){return h},set:function(t){switch(h=t){case"stack":_.offset("zero"),_.order("default");break;case"stream":_.offset("wiggle"),_.order("inside-out");break;case"stream-center":_.offset("silhouette"),_.order("inside-out");break;case"expand":_.offset("expand"),_.order("default");break;case"stack_percent":_.offset(_.d3_stackedOffset_stackPercent),_.order("default")}}},duration:{get:function(){return y},set:function(t){x.reset(y=t),v.duration(y)}}}),r.utils.inheritOptions(_,v),r.utils.initOptions(_),_},r.models.stackedAreaChart=function(){"use strict";var t,e,n=r.models.stackedArea(),i=r.models.axis(),o=r.models.axis(),s=r.models.legend(),a=r.models.legend(),l=r.interactiveGuideline(),u=r.models.tooltip(),c=r.models.focus(r.models.stackedArea()),d={top:10,right:25,bottom:50,left:60},h=null,f=null,p=null,g=r.utils.defaultColor(),m=!0,v=!0,y="top",b=!0,x=!0,_=!1,w=!1,C=!1,k=!0,M="TOTAL",E=r.utils.state(),A=null,S=null,T=d3.dispatch("stateChange","changeState","renderEnd"),N=250,O=["Stacked","Stream","Expanded"],P={},I=250;E.style=n.style(),i.orient("bottom").tickPadding(7),o.orient(_?"right":"left"),u.headerFormatter(function(t,e){return i.tickFormat()(t,e)}).valueFormatter(function(t,e){return o.tickFormat()(t,e)}),l.tooltip.headerFormatter(function(t,e){return i.tickFormat()(t,e)}).valueFormatter(function(t,e){return null==t?"N/A":o.tickFormat()(t,e)});var R=null,D=null;a.updateState(!1);var V=r.utils.renderWatch(T),L=(n.style(),function(t){return function(){return{active:t.map(function(t){return!t.disabled}),style:n.style()}}}),F=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},j=d3.format("%");function z(u){return V.reset(),V.models(n),b&&V.models(i),x&&V.models(o),u.each(function(u){var S=d3.select(this);r.utils.initSVG(S);var V,W=r.utils.availableWidth(f,S,d),H=r.utils.availableHeight(p,S,d)-(w?c.height():0);if(z.update=function(){S.transition().duration(I).call(z)},z.container=this,E.setter(F(u),z.update).getter(L(u)).update(),E.disabled=u.map(function(t){return!!t.disabled}),!A)for(V in A={},E)A[V]=E[V]instanceof Array?E[V].slice(0):E[V];if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return r.utils.noData(z,S),z;S.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale();var U=S.selectAll("g.nv-wrap.nv-stackedAreaChart").data([u]),B=U.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),$=U.select("g");B.append("g").attr("class","nv-legendWrap"),B.append("g").attr("class","nv-controlsWrap");var q=B.append("g").attr("class","nv-focus");if(q.append("g").attr("class","nv-background").append("rect"),q.append("g").attr("class","nv-x nv-axis"),q.append("g").attr("class","nv-y nv-axis"),q.append("g").attr("class","nv-stackedWrap"),q.append("g").attr("class","nv-interactive"),B.append("g").attr("class","nv-focusWrap"),v){var G=m&&"top"===y?W-N:W;if(s.width(G),$.select(".nv-legendWrap").datum(u).call(s),"bottom"===y){var Z=10+(b?12:0);d.bottom=Math.max(s.height()+Z,d.bottom);var Y=(H=r.utils.availableHeight(p,S,d)-(w?c.height():0))+Z;$.select(".nv-legendWrap").attr("transform","translate(0,"+Y+")")}else"top"===y&&(h||d.top==s.height()||(d.top=s.height(),H=r.utils.availableHeight(p,S,d)-(w?c.height():0)),$.select(".nv-legendWrap").attr("transform","translate("+(W-G)+","+-d.top+")"))}else $.select(".nv-legendWrap").selectAll("*").remove();if(m){var X=[{key:P.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=n.style(),style:"stack"},{key:P.stream||"Stream",metaKey:"Stream",disabled:"stream"!=n.style(),style:"stream"},{key:P.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=n.style(),style:"expand"},{key:P.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=n.style(),style:"stack_percent"}];N=O.length/3*260,X=X.filter(function(t){return-1!==O.indexOf(t.metaKey)}),a.width(N).color(["#444","#444","#444"]),$.select(".nv-controlsWrap").datum(X).call(a);var K=Math.max(a.height(),v&&"top"===y?s.height():0);d.top!=K&&(d.top=K,H=r.utils.availableHeight(p,S,d)-(w?c.height():0)),$.select(".nv-controlsWrap").attr("transform","translate(0,"+-d.top+")")}else $.select(".nv-controlsWrap").selectAll("*").remove();U.attr("transform","translate("+d.left+","+d.top+")"),_&&$.select(".nv-y.nv-axis").attr("transform","translate("+W+",0)"),C&&(l.width(W).height(H).margin({left:d.left,top:d.top}).svgContainer(S).xScale(t),U.select(".nv-interactive").call(l)),$.select(".nv-focus .nv-background rect").attr("width",W).attr("height",H),n.width(W).height(H).color(u.map(function(t,e){return t.color||g(t,e)}).filter(function(t,e){return!u[e].disabled}));var Q,J=$.select(".nv-focus .nv-stackedWrap").datum(u.filter(function(t){return!t.disabled}));function tt(){b&&$.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+H+")").transition().duration(I).call(i)}function et(){if(x){if("expand"===n.style()||"stack_percent"===n.style()){var t=o.tickFormat();R&&t===j||(R=t),o.tickFormat(j)}else R&&(o.tickFormat(R),R=null);$.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(o)}}if(b&&i.scale(t)._ticks(r.utils.calcTicksX(W/100,u)).tickSize(-H,0),x&&(Q="wiggle"===n.offset()?0:r.utils.calcTicksY(H/36,u),o.scale(e)._ticks(Q).tickSize(-W,0)),w){c.width(W),$.select(".nv-focusWrap").attr("transform","translate(0,"+(H+d.bottom+c.margin().top)+")").datum(u.filter(function(t){return!t.disabled})).call(c);var nt=c.brush.empty()?c.xDomain():c.brush.extent();null!==nt&&rt(nt)}else J.transition().call(n),tt(),et();function rt(t){$.select(".nv-focus .nv-stackedWrap").datum(u.filter(function(t){return!t.disabled}).map(function(e,r){return{key:e.key,area:e.area,classed:e.classed,values:e.values.filter(function(e,r){return n.x()(e,r)>=t[0]&&n.x()(e,r)<=t[1]}),disableTooltip:e.disableTooltip}})).transition().duration(I).call(n),tt(),et()}n.dispatch.on("areaClick.toggle",function(t){1===u.filter(function(t){return!t.disabled}).length?u.forEach(function(t){t.disabled=!1}):u.forEach(function(e,n){e.disabled=n!=t.seriesIndex}),E.disabled=u.map(function(t){return!!t.disabled}),T.stateChange(E),z.update()}),s.dispatch.on("stateChange",function(t){for(var e in t)E[e]=t[e];T.stateChange(E),z.update()}),a.dispatch.on("legendClick",function(t,e){t.disabled&&(X=X.map(function(t){return t.disabled=!0,t}),t.disabled=!1,n.style(t.style),E.style=n.style(),T.stateChange(E),z.update())}),l.dispatch.on("elementMousemove",function(t){n.clearHighlights();var e,i,o,s=[],a=0,c=!0,d=!1;if(u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(l,h){i=r.interactiveBisect(l.values,t.pointXValue,z.x());var f=l.values[i],p=z.y()(f,i);if(null!=p&&p>0&&(n.highlightPoint(h,i,!0),d=!0),h!==u.length-1||d||n.highlightPoint(h,i,!0),"undefined"!=typeof f){"undefined"==typeof e&&(e=f),"undefined"==typeof o&&(o=z.xScale()(z.x()(f,i)));var m="expand"==n.style()?f.display.y:z.y()(f,i);s.push({key:l.key,value:m,color:g(l,l.seriesIndex),point:f}),k&&"expand"!=n.style()&&null!=m&&(a+=m,c=!1)}}),s.reverse(),s.length>2){var h=z.yScale().invert(t.mouseY),f=null;s.forEach(function(t,e){h=Math.abs(h);var n=Math.abs(t.point.display.y0),r=Math.abs(t.point.display.y);h>=n&&h<=r+n&&(f=e)}),null!=f&&(s[f].highlight=!0)}k&&"expand"!=n.style()&&s.length>=2&&!c&&s.push({key:M,value:a,total:!0});var p=z.x()(e,i),m=l.tooltip.valueFormatter();"expand"===n.style()||"stack_percent"===n.style()?(D||(D=m),m=d3.format(".1%")):D&&(m=D,D=null),l.tooltip.valueFormatter(m).data({value:p,series:s})(),l.renderGuideLine(o)}),l.dispatch.on("elementMouseout",function(t){n.clearHighlights()}),c.dispatch.on("onBrush",function(t){rt(t)}),T.on("changeState",function(t){"undefined"!=typeof t.disabled&&u.length===t.disabled.length&&(u.forEach(function(e,n){e.disabled=t.disabled[n]}),E.disabled=t.disabled),"undefined"!=typeof t.style&&n.style(t.style),z.update()})}),V.renderEnd("stacked Area chart immediate"),z}return n.dispatch.on("elementMouseover.tooltip",function(t){t.point.x=n.x()(t.point),t.point.y=n.y()(t.point),u.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)}),z.dispatch=T,z.stacked=n,z.legend=s,z.controls=a,z.xAxis=i,z.x2Axis=c.xAxis,z.yAxis=o,z.y2Axis=c.yAxis,z.interactiveLayer=l,z.tooltip=u,z.focus=c,z.dispatch=T,z.options=r.utils.optionsFunc.bind(z),z._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return v},set:function(t){v=t}},legendPosition:{get:function(){return y},set:function(t){y=t}},showXAxis:{get:function(){return b},set:function(t){b=t}},showYAxis:{get:function(){return x},set:function(t){x=t}},defaultState:{get:function(){return A},set:function(t){A=t}},noData:{get:function(){return S},set:function(t){S=t}},showControls:{get:function(){return m},set:function(t){m=t}},controlLabels:{get:function(){return P},set:function(t){P=t}},controlOptions:{get:function(){return O},set:function(t){O=t}},showTotalInTooltip:{get:function(){return k},set:function(t){k=t}},totalLabel:{get:function(){return M},set:function(t){M=t}},focusEnable:{get:function(){return w},set:function(t){w=t}},focusHeight:{get:function(){return c.height()},set:function(t){c.height(t)}},brushExtent:{get:function(){return c.brushExtent()},set:function(t){c.brushExtent(t)}},margin:{get:function(){return d},set:function(t){void 0!==t.top&&(d.top=t.top,h=t.top),d.right=void 0!==t.right?t.right:d.right,d.bottom=void 0!==t.bottom?t.bottom:d.bottom,d.left=void 0!==t.left?t.left:d.left}},focusMargin:{get:function(){return c.margin},set:function(t){c.margin.top=void 0!==t.top?t.top:c.margin.top,c.margin.right=void 0!==t.right?t.right:c.margin.right,c.margin.bottom=void 0!==t.bottom?t.bottom:c.margin.bottom,c.margin.left=void 0!==t.left?t.left:c.margin.left}},duration:{get:function(){return I},set:function(t){V.reset(I=t),n.duration(I),i.duration(I),o.duration(I)}},color:{get:function(){return g},set:function(t){g=r.utils.getColor(t),s.color(g),n.color(g),c.color(g)}},x:{get:function(){return n.x()},set:function(t){n.x(t),c.x(t)}},y:{get:function(){return n.y()},set:function(t){n.y(t),c.y(t)}},rightAlignYAxis:{get:function(){return _},set:function(t){o.orient((_=t)?"right":"left")}},useInteractiveGuideline:{get:function(){return C},set:function(t){C=!!t,z.interactive(!t),z.useVoronoi(!t),n.scatter.interactive(!t)}}}),r.utils.inheritOptions(z,n),r.utils.initOptions(z),z},r.models.stackedAreaWithFocusChart=function(){return r.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)},r.models.sunburst=function(){"use strict";var t,e,n,i,o={top:0,right:0,bottom:0,left:0},s=600,a=600,l="count",u={count:function(t){return 1},value:function(t){return t.value||t.size},size:function(t){return t.value||t.size}},c=Math.floor(1e4*Math.random()),d=null,h=r.utils.defaultColor(),f=!1,p=function(t){return"count"===l?t.name+" #"+t.value:t.name+" "+(t.value||t.size)},g=.02,m=function(t,e){return t.name>e.name},v=function(t,e){return void 0!==t.parent?t.name+"-"+t.parent.name+"-"+e:t.name},y=!0,b=500,x=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),_=d3.scale.linear().range([0,2*Math.PI]),w=d3.scale.sqrt(),C=d3.layout.partition().sort(m),k={},M=d3.svg.arc().startAngle(function(t){return Math.max(0,Math.min(2*Math.PI,_(t.x)))}).endAngle(function(t){return Math.max(0,Math.min(2*Math.PI,_(t.x+t.dx)))}).innerRadius(function(t){return Math.max(0,w(t.y))}).outerRadius(function(t){return Math.max(0,w(t.y+t.dy))});function E(t){return A(t)>90?180:0}function A(t){return(Math.max(0,Math.min(2*Math.PI,_(t.x)))+Math.max(0,Math.min(2*Math.PI,_(t.x+t.dx))))/2*(180/Math.PI)-90}function S(t){var e=Math.max(0,Math.min(2*Math.PI,_(t.x)));return Math.max(0,Math.min(2*Math.PI,_(t.x+t.dx)))-e>g}function T(e,n){var r=d3.interpolate(_.domain(),[t.x,t.x+t.dx]),o=d3.interpolate(w.domain(),[t.y,1]),s=d3.interpolate(w.range(),[t.y?20:0,i]);return 0===n?function(){return M(e)}:function(t){return _.domain(r(t)),w.domain(o(t)).range(s(t)),M(e)}}function N(t){var e=d3.interpolate({x:t.x0,dx:t.dx0,y:t.y0,dy:t.dy0},t);return function(n){var r=e(n);return t.x0=r.x,t.dx0=r.dx,t.y0=r.y,t.dy0=r.dy,M(r)}}function O(e){var n=d.selectAll("text"),r=d.selectAll("path");n.transition().attr("opacity",0),t=e,r.transition().duration(b).attrTween("d",T).each("end",function(t){t.x>=e.x&&t.x<e.x+e.dx&&t.depth>=e.depth&&d3.select(this.parentNode).select("text").transition().duration(b).text(function(t){return p(t)}).attr("opacity",function(t){return S(t)?1:0}).attr("transform",function(){var n=this.getBBox().width;if(0===t.depth)return"translate("+n/2*-1+",0)";if(t.depth===e.depth)return"translate("+(w(t.y)+5)+",0)";var r=A(t),i=E(t);return 0===i?"rotate("+r+")translate("+(w(t.y)+5)+",0)":"rotate("+r+")translate("+(w(t.y)+n+5)+",0)rotate("+i+")"})})}var P=r.utils.renderWatch(x);function I(t){return P.reset(),t.each(function(t){d=d3.select(this),e=r.utils.availableWidth(s,d,o),n=r.utils.availableHeight(a,d,o),i=Math.min(e,n)/2,w.range([0,i]);var g=d.select("g.nvd3.nv-wrap.nv-sunburst");g[0][0]?g.attr("transform","translate("+(e/2+o.left+o.right)+","+(n/2+o.top+o.bottom)+")"):g=d.append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+c).attr("transform","translate("+(e/2+o.left+o.right)+","+(n/2+o.top+o.bottom)+")"),d.on("click",function(t,e){x.chartClick({data:t,index:e,pos:d3.event,id:c})}),C.value(u[l]||u.count);var m=C.nodes(t[0]).reverse();!function(t){t.forEach(function(t){var e=v(t),n=k[e];n?(t.dx0=n.dx,t.x0=n.x,t.dy0=n.dy,t.y0=n.y):(t.dx0=t.dx,t.x0=t.x,t.dy0=t.dy,t.y0=t.y),function(t){var e=v(t);k[e]||(k[e]={});var n=k[e];n.dx=t.dx,n.x=t.x,n.dy=t.dy,n.y=t.y}(t)})}(m);var T=g.selectAll(".arc-container").data(m,v);T.enter().append("g").attr("class","arc-container").append("path").attr("d",M).style("fill",function(t){return t.color?t.color:h(y?(t.children?t:t.parent).name:t.name)}).style("stroke","#FFF").on("click",function(t,e){O(t),x.elementClick({data:t,index:e})}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0).style("opacity",.8),x.elementMouseover({data:t,color:d3.select(this).style("fill"),percent:function(t){var e=Math.max(0,Math.min(2*Math.PI,_(t.x)));return(Math.max(0,Math.min(2*Math.PI,_(t.x+t.dx)))-e)/(2*Math.PI)}(t)})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1).style("opacity",1),x.elementMouseout({data:t})}).on("mousemove",function(t,e){x.elementMousemove({data:t})}),T.each(function(t){d3.select(this).select("path").transition().duration(b).attrTween("d",N)}),f&&(T.selectAll("text").remove(),T.append("text").text(function(t){return p(t)}).transition().duration(b).attr("opacity",function(t){return S(t)?1:0}).attr("transform",function(t){var e=this.getBBox().width;if(0===t.depth)return"rotate(0)translate("+e/2*-1+",0)";var n=A(t),r=E(t);return 0===r?"rotate("+n+")translate("+(w(t.y)+5)+",0)":"rotate("+n+")translate("+(w(t.y)+e+5)+",0)rotate("+r+")"})),O(m[m.length-1]),T.exit().transition().duration(b).attr("opacity",0).each("end",function(t){var e=v(t);k[e]=void 0}).remove()}),P.renderEnd("sunburst immediate"),I}return I.dispatch=x,I.options=r.utils.optionsFunc.bind(I),I._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return a},set:function(t){a=t}},mode:{get:function(){return l},set:function(t){l=t}},id:{get:function(){return c},set:function(t){c=t}},duration:{get:function(){return b},set:function(t){b=t}},groupColorByParent:{get:function(){return y},set:function(t){y=!!t}},showLabels:{get:function(){return f},set:function(t){f=!!t}},labelFormat:{get:function(){return p},set:function(t){p=t}},labelThreshold:{get:function(){return g},set:function(t){g=t}},sort:{get:function(){return m},set:function(t){m=t}},key:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!=t.top?t.top:o.top,o.right=void 0!=t.right?t.right:o.right,o.bottom=void 0!=t.bottom?t.bottom:o.bottom,o.left=void 0!=t.left?t.left:o.left}},color:{get:function(){return h},set:function(t){h=r.utils.getColor(t)}}}),r.utils.initOptions(I),I},r.models.sunburstChart=function(){"use strict";var t=r.models.sunburst(),e=r.models.tooltip(),n={top:30,right:20,bottom:20,left:20},i=null,o=null,s=r.utils.defaultColor(),a=!1,l=(Math.round(1e5*Math.random()),null),u=null,c=250,d=d3.dispatch("stateChange","changeState","renderEnd"),h=r.utils.renderWatch(d);function f(e){return h.reset(),h.models(t),e.each(function(e){var s=d3.select(this);r.utils.initSVG(s);var a=r.utils.availableWidth(i,s,n),l=r.utils.availableHeight(o,s,n);if(f.update=function(){0===c?s.call(f):s.transition().duration(c).call(f)},f.container=s,!e||!e.length)return r.utils.noData(f,s),f;s.selectAll(".nv-noData").remove(),t.width(a).height(l).margin(n),s.call(t)}),h.renderEnd("sunburstChart immediate"),f}return e.duration(0).headerEnabled(!1).valueFormatter(function(t){return t}),t.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.data.name,value:t.data.value||t.data.size,color:t.color,percent:t.percent},a||(delete t.percent,delete t.series.percent),e.data(t).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(t){e()}),f.dispatch=d,f.sunburst=t,f.tooltip=e,f.options=r.utils.optionsFunc.bind(f),f._options=Object.create({},{noData:{get:function(){return u},set:function(t){u=t}},defaultState:{get:function(){return l},set:function(t){l=t}},showTooltipPercent:{get:function(){return a},set:function(t){a=t}},color:{get:function(){return s},set:function(e){t.color(s=e)}},duration:{get:function(){return c},set:function(e){h.reset(c=e),t.duration(c)}},margin:{get:function(){return n},set:function(e){n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left,t.margin(n)}}}),r.utils.inheritOptions(f,t),r.utils.initOptions(f),f},r.version="1.8.6"}()},Qi5R:function(t,e,n){"use strict";e.a=function(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(o.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(new i.a(t,n))};var r=n("ves3"),i=n("y3s0"),o=n("f2Ls"),s=n("Ynfn")},R3ym:function(t,e,n){"use strict";var r=n("ves3");class i extends r.a{constructor(t,e){super(),this.value=t,this.scheduler=e,this._isScalar=!0,e&&(this._isScalar=!1)}static create(t,e){return new i(t,e)}static dispatch(t){const{done:e,value:n,subscriber:r}=t;e?r.complete():(r.next(n),r.closed||(t.done=!0,this.schedule(t)))}_subscribe(t){const e=this.value,n=this.scheduler;if(n)return n.schedule(i.dispatch,0,{done:!1,value:e,subscriber:t});t.next(e),t.closed||t.complete()}}e.a=i},TToO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.__extends=function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n.d(e,"__assign",function(){return i}),e.__rest=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n},e.__decorate=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},e.__param=function(t,e){return function(n,r){e(n,r,t)}},e.__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},e.__awaiter=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}l((r=r.apply(t,e||[])).next())})},e.__generator=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},e.__exportStar=function(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])},e.__values=o,e.__read=s,e.__spread=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t},e.__await=a,e.__asyncGenerator=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||l(t,e)})})}function l(t,e){try{!function(t){t.value instanceof a?Promise.resolve(t.value.v).then(u,c):d(o[0][2],t)}(i[t](e))}catch(t){d(o[0][3],t)}}function u(t){l("next",t)}function c(t){l("throw",t)}function d(t,e){t(e),o.shift(),o.length&&l(o[0][0],o[0][1])}},e.__asyncDelegator=function(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){t[r]&&(e[r]=function(e){return(n=!n)?{value:a(t[r](e)),done:"return"===r}:i?i(e):e})}},e.__asyncValues=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):"function"==typeof o?o(t):t[Symbol.iterator]()},e.__makeTemplateObject=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},e.__importStar=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},e.__importDefault=function(t){return t&&t.__esModule?t:{default:t}};var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function o(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function s(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function a(t){return this instanceof a?(this.v=t,this):new a(t)}},"W/Sc":function(t,e,n){"use strict";var r=n("ves3"),i=n("2zkT"),o=n("s+UU"),s=n("7nan");class a extends o.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}var l=n("73T8");class u extends i.a{constructor(t){super(t),this.destination=t}}e.b=u;class c extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.a](){return new u(this)}lift(t){const e=new d(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}e.a=c,c.create=((t,e)=>new d(t,e));class d extends c{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},WFWZ:function(t,e,n){"use strict";e.a=function(t){return"function"==typeof t}},XLJA:function(t,e,n){"use strict";e.a=function(t,e,n=Number.POSITIVE_INFINITY){return function(o){return"number"==typeof e&&(n=e,e=null),o.lift(new class{constructor(t,e,n=Number.POSITIVE_INFINITY){this.project=t,this.resultSelector=e,this.concurrent=n}call(t,e){return e.subscribe(new class extends i.a{constructor(t,e,n,r=Number.POSITIVE_INFINITY){super(t),this.project=e,this.resultSelector=n,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){this.add(Object(r.a)(this,t,e,n))}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()}notifyNext(t,e,n,r,i){this.resultSelector?this._notifyResultSelector(t,e,n,r):this.destination.next(e)}_notifyResultSelector(t,e,n,r){let i;try{i=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(i)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}(t,this.project,this.resultSelector,this.concurrent))}}(t,e,n))}};var r=n("73El"),i=n("JEOp")},XVqe:function(t,e,n){"use strict";var r=n("ves3");class i extends r.a{constructor(t){super(),this.scheduler=t}static create(t){return new i(t)}static dispatch(t){const{subscriber:e}=t;e.complete()}_subscribe(t){const e=this.scheduler;if(e)return e.schedule(i.dispatch,0,{subscriber:t});t.complete()}}e.a=i},Ynfn:function(t,e,n){"use strict";var r=n("XLJA");function i(t){return t}e.a=function(t=Number.POSITIVE_INFINITY){return Object(r.a)(i,null,t)}},Za4h:function(t,e,n){var r,i;!function(){var o={version:"3.5.17"},s=[].slice,a=function(t){return s.call(t)},l=this.document;function u(t){return t&&(t.ownerDocument||t.document||t).documentElement}function c(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(l)try{a(l.documentElement.childNodes)}catch(t){a=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var d=this.Element.prototype,h=d.setAttribute,f=d.setAttributeNS,p=this.CSSStyleDeclaration.prototype,g=p.setProperty;d.setAttribute=function(t,e){h.call(this,t,e+"")},d.setAttributeNS=function(t,e,n){f.call(this,t,e,n+"")},p.setProperty=function(t,e,n){g.call(this,t,e+"",n)}}function m(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function v(t){return null===t?NaN:+t}function y(t){return!isNaN(t)}function b(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}o.ascending=m,o.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},o.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},o.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},o.extent=function(t,e){var n,r,i,o=-1,s=t.length;if(1===arguments.length){for(;++o<s;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<s;)null!=(r=t[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<s;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=i=r;break}for(;++o<s;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},o.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)y(n=+t[o])&&(r+=n);else for(;++o<i;)y(n=+e.call(t,t[o],o))&&(r+=n);return r},o.mean=function(t,e){var n,r=0,i=t.length,o=-1,s=i;if(1===arguments.length)for(;++o<i;)y(n=v(t[o]))?r+=n:--s;else for(;++o<i;)y(n=v(e.call(t,t[o],o)))?r+=n:--s;if(s)return r/s},o.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},o.median=function(t,e){var n,r=[],i=t.length,s=-1;if(1===arguments.length)for(;++s<i;)y(n=v(t[s]))&&r.push(n);else for(;++s<i;)y(n=v(e.call(t,t[s],s)))&&r.push(n);if(r.length)return o.quantile(r.sort(m),.5)},o.variance=function(t,e){var n,r,i=t.length,o=0,s=0,a=-1,l=0;if(1===arguments.length)for(;++a<i;)y(n=v(t[a]))&&(s+=(r=n-o)*(n-(o+=r/++l)));else for(;++a<i;)y(n=v(e.call(t,t[a],a)))&&(s+=(r=n-o)*(n-(o+=r/++l)));if(l>1)return s/(l-1)},o.deviation=function(){var t=o.variance.apply(this,arguments);return t?Math.sqrt(t):t};var x=b(m);function _(t){return t.length}o.bisectLeft=x.left,o.bisect=o.bisectRight=x.right,o.bisector=function(t){return b(1===t.length?function(e,n){return m(t(e),n)}:t)},o.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},o.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},o.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},o.transpose=function(t){if(!(i=t.length))return[];for(var e=-1,n=o.min(t,_),r=new Array(n);++e<n;)for(var i,s=-1,a=r[e]=new Array(i);++s<i;)a[s]=t[s][e];return r},o.zip=function(){return o.transpose(arguments)},o.keys=function(t){var e=[];for(var n in t)e.push(n);return e},o.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},o.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},o.merge=function(t){for(var e,n,r,i=t.length,o=-1,s=0;++o<i;)s+=t[o].length;for(n=new Array(s);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--s]=r[e];return n};var w=Math.abs;function C(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function k(){this._=Object.create(null)}o.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var r,i=[],o=function(t){for(var e=1;t*e%1;)e*=10;return e}(w(n)),s=-1;if(t*=o,e*=o,(n*=o)<0)for(;(r=t+n*++s)>e;)i.push(r/o);else for(;(r=t+n*++s)<e;)i.push(r/o);return i},o.map=function(t,e){var n=new k;if(t instanceof k)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var s in t)n.set(s,t[s]);return n};var M="__proto__",E="\0";function A(t){return(t+="")===M||t[0]===E?E+t:t}function S(t){return(t+="")[0]===E?t.slice(1):t}function T(t){return A(t)in this._}function N(t){return(t=A(t))in this._&&delete this._[t]}function O(){var t=[];for(var e in this._)t.push(S(e));return t}function P(){var t=0;for(var e in this._)++t;return t}function I(){for(var t in this._)return!1;return!0}function R(){this._=Object.create(null)}function D(t){return t}function V(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function L(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=F.length;n<r;++n){var i=F[n]+e;if(i in t)return i}}C(k,{has:T,get:function(t){return this._[A(t)]},set:function(t,e){return this._[A(t)]=e},remove:N,keys:O,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:S(e),value:this._[e]});return t},size:P,empty:I,forEach:function(t){for(var e in this._)t.call(this,S(e),this._[e])}}),o.nest=function(){var t,e,n={},r=[],i=[];function s(i,o,a){if(a>=r.length)return e?e.call(n,o):t?o.sort(t):o;for(var l,u,c,d,h=-1,f=o.length,p=r[a++],g=new k;++h<f;)(d=g.get(l=p(u=o[h])))?d.push(u):g.set(l,[u]);return i?(u=i(),c=function(t,e){u.set(t,s(i,e,a))}):(u={},c=function(t,e){u[t]=s(i,e,a)}),g.forEach(c),u}return n.map=function(t,e){return s(e,t,0)},n.entries=function(t){return function t(e,n){if(n>=r.length)return e;var o=[],s=i[n++];return e.forEach(function(e,r){o.push({key:e,values:t(r,n)})}),s?o.sort(function(t,e){return s(t.key,e.key)}):o}(s(o.map,t,0),0)},n.key=function(t){return r.push(t),n},n.sortKeys=function(t){return i[r.length-1]=t,n},n.sortValues=function(e){return t=e,n},n.rollup=function(t){return e=t,n},n},o.set=function(t){var e=new R;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},C(R,{has:T,add:function(t){return this._[A(t+="")]=!0,t},remove:N,values:O,size:P,empty:I,forEach:function(t){for(var e in this._)t.call(this,S(e))}}),o.behavior={},o.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=V(t,e,e[n]);return t};var F=["webkit","ms","moz","Moz","o","O"];function j(){}function z(){}function W(t){var e=[],n=new k;function r(){for(var n,r=e,i=-1,o=r.length;++i<o;)(n=r[i].on)&&n.apply(this,arguments);return t}return r.on=function(r,i){var o,s=n.get(r);return arguments.length<2?s&&s.on:(s&&(s.on=null,e=e.slice(0,o=e.indexOf(s)).concat(e.slice(o+1)),n.remove(r)),i&&e.push(n.set(r,{on:i})),t)},r}function H(){o.event.preventDefault()}function U(){for(var t,e=o.event;t=e.sourceEvent;)e=t;return e}function B(t){for(var e=new z,n=0,r=arguments.length;++n<r;)e[arguments[n]]=W(e);return e.of=function(n,r){return function(i){try{var s=i.sourceEvent=o.event;i.target=t,o.event=i,e[i.type].apply(n,r)}finally{o.event=s}}},e}o.dispatch=function(){for(var t=new z,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=W(t);return t},z.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},o.event=null,o.requote=function(t){return t.replace($,"\\$&")};var $=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,q={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function G(t){return q(t,K),t}var Z=function(t,e){return e.querySelector(t)},Y=function(t,e){return e.querySelectorAll(t)},X=function(t,e){var n=t.matches||t[L(t,"matchesSelector")];return(X=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Z=function(t,e){return Sizzle(t,e)[0]||null},Y=Sizzle,X=Sizzle.matchesSelector),o.selection=function(){return o.select(l.documentElement)};var K=o.selection.prototype=[];function Q(t){return"function"==typeof t?t:function(){return Z(t,this)}}function J(t){return"function"==typeof t?t:function(){return Y(t,this)}}K.select=function(t){var e,n,r,i,o=[];t=Q(t);for(var s=-1,a=this.length;++s<a;){o.push(e=[]),e.parentNode=(r=this[s]).parentNode;for(var l=-1,u=r.length;++l<u;)(i=r[l])?(e.push(n=t.call(i,i.__data__,l,s)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return G(o)},K.selectAll=function(t){var e,n,r=[];t=J(t);for(var i=-1,o=this.length;++i<o;)for(var s=this[i],l=-1,u=s.length;++l<u;)(n=s[l])&&(r.push(e=a(t.call(n,n.__data__,l,i))),e.parentNode=n);return G(r)};var tt="http://www.w3.org/1999/xhtml",et={svg:"http://www.w3.org/2000/svg",xhtml:tt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function nt(t,e){return t=o.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function rt(t){return t.trim().replace(/\s+/g," ")}function it(t){return new RegExp("(?:^|\\s+)"+o.requote(t)+"(?:\\s+|$)","g")}function ot(t){return(t+"").trim().split(/^|\s+/)}function st(t,e){var n=(t=ot(t).map(at)).length;return"function"==typeof e?function(){for(var r=-1,i=e.apply(this,arguments);++r<n;)t[r](this,i)}:function(){for(var r=-1;++r<n;)t[r](this,e)}}function at(t){var e=it(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",rt(i+" "+t))):n.setAttribute("class",rt(i.replace(e," ")))}}function lt(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}:function(){this.style.setProperty(t,e,n)}}function ut(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function ct(t){return"function"==typeof t?t:(t=o.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n===tt&&e.documentElement.namespaceURI===tt?e.createElement(t):e.createElementNS(n,t)}}function dt(){var t=this.parentNode;t&&t.removeChild(this)}function ht(t){return{__data__:t}}function ft(t){return function(){return X(this,t)}}function pt(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,o=t[n],s=0,a=o.length;s<a;s++)(i=o[s])&&e(i,s,n);return t}function gt(t){return q(t,mt),t}o.ns={prefix:et,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),et.hasOwnProperty(n)?{space:et[n],local:t}:t}},K.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=o.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(nt(e,t[e]));return this}return this.each(nt(t,e))},K.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=ot(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!it(t[i]).test(e))return!1;return!0}for(e in t)this.each(st(e,t[e]));return this}return this.each(st(t,e))},K.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.each(lt(n,t[n],e));return this}if(r<2){var i=this.node();return c(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(lt(t,e,n))},K.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(ut(e,t[e]));return this}return this.each(ut(t,e))},K.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},K.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},K.append=function(t){return t=ct(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},K.insert=function(t,e){return t=ct(t),e=Q(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},K.remove=function(){return this.each(dt)},K.data=function(t,e){var n,r,i=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(n=this[0]).length);++i<o;)(r=n[i])&&(t[i]=r.__data__);return t}function s(t,n){var r,i,o,s=t.length,c=n.length,d=Math.min(s,c),h=new Array(c),f=new Array(c),p=new Array(s);if(e){var g,m=new k,v=new Array(s);for(r=-1;++r<s;)(i=t[r])&&(m.has(g=e.call(i,i.__data__,r))?p[r]=i:m.set(g,i),v[r]=g);for(r=-1;++r<c;)(i=m.get(g=e.call(n,o=n[r],r)))?!0!==i&&(h[r]=i,i.__data__=o):f[r]=ht(o),m.set(g,!0);for(r=-1;++r<s;)r in v&&!0!==m.get(v[r])&&(p[r]=t[r])}else{for(r=-1;++r<d;)o=n[r],(i=t[r])?(i.__data__=o,h[r]=i):f[r]=ht(o);for(;r<c;++r)f[r]=ht(n[r]);for(;r<s;++r)p[r]=t[r]}f.update=h,f.parentNode=h.parentNode=p.parentNode=t.parentNode,a.push(f),l.push(h),u.push(p)}var a=gt([]),l=G([]),u=G([]);if("function"==typeof t)for(;++i<o;)s(n=this[i],t.call(n,n.parentNode.__data__,i));else for(;++i<o;)s(n=this[i],t);return l.enter=function(){return a},l.exit=function(){return u},l},K.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},K.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=ft(t));for(var o=0,s=this.length;o<s;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var a=0,l=n.length;a<l;a++)(r=n[a])&&t.call(r,r.__data__,a,o)&&e.push(r)}return G(i)},K.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},K.sort=function(t){t=(function(t){return arguments.length||(t=m),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}).apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},K.each=function(t){return pt(this,function(e,n,r){t.call(e,e.__data__,n,r)})},K.call=function(t){var e=a(arguments);return t.apply(e[0]=this,e),this},K.empty=function(){return!this.node()},K.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},K.size=function(){var t=0;return pt(this,function(){++t}),t};var mt=[];function vt(t,e,n){var r="__on"+t,i=t.indexOf("."),s=bt;i>0&&(t=t.slice(0,i));var l=yt.get(t);function u(){var e=this[r];e&&(this.removeEventListener(t,e,e.$),delete this[r])}return l&&(t=l,s=xt),i?e?function(){var i=s(e,a(arguments));u.call(this),this.addEventListener(t,this[r]=i,i.$=n),i._=e}:u:e?j:function(){var e,n=new RegExp("^__on([^.]+)"+o.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}}o.selection.enter=gt,o.selection.enter.prototype=mt,mt.append=K.append,mt.empty=K.empty,mt.node=K.node,mt.call=K.call,mt.size=K.size,mt.select=function(t){for(var e,n,r,i,o,s=[],a=-1,l=this.length;++a<l;){r=(i=this[a]).update,s.push(e=[]),e.parentNode=i.parentNode;for(var u=-1,c=i.length;++u<c;)(o=i[u])?(e.push(r[u]=n=t.call(i.parentNode,o.__data__,u,a)),n.__data__=o.__data__):e.push(null)}return G(s)},mt.insert=function(t,e){return arguments.length<2&&(e=function(t){var e,n;return function(r,i,o){var s,a=t[o].update,l=a.length;for(o!=n&&(n=o,e=0),i>=e&&(e=i+1);!(s=a[e])&&++e<l;);return s}}(this)),K.insert.call(this,t,e)},o.select=function(t){var e;return"string"==typeof t?(e=[Z(t,l)]).parentNode=l.documentElement:(e=[t]).parentNode=u(t),G([e])},o.selectAll=function(t){var e;return"string"==typeof t?(e=a(Y(t,l))).parentNode=l.documentElement:(e=a(t)).parentNode=null,G([e])},K.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=!1),t)this.each(vt(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(vt(t,e,n))};var yt=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});function bt(t,e){return function(n){var r=o.event;o.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{o.event=r}}}function xt(t,e){var n=bt(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}l&&yt.forEach(function(t){"on"+t in l&&yt.remove(t)});var _t,wt=0;function Ct(t){var e=".dragsuppress-"+ ++wt,n="click"+e,r=o.select(c(t)).on("touchmove"+e,H).on("dragstart"+e,H).on("selectstart"+e,H);if(null==_t&&(_t=!("onselectstart"in t)&&L(t.style,"userSelect")),_t){var i=u(t).style,s=i[_t];i[_t]="none"}return function(t){if(r.on(e,null),_t&&(i[_t]=s),t){var o=function(){r.on(n,null)};r.on(n,function(){H(),o()},!0),setTimeout(o,0)}}}o.mouse=function(t){return Mt(t,U())};var kt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Mt(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(kt<0){var i=c(t);if(i.scrollX||i.scrollY){var s=(n=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();kt=!(s.f||s.e),n.remove()}}return kt?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function Et(){return o.event.changedTouches[0].identifier}o.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=U().changedTouches),e)for(var r,i=0,o=e.length;i<o;++i)if((r=e[i]).identifier===n)return Mt(t,r)},o.behavior.drag=function(){var t=B(i,"drag","dragstart","dragend"),e=null,n=s(j,o.mouse,c,"mousemove","mouseup"),r=s(Et,o.touch,D,"touchmove","touchend");function i(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function s(n,r,i,s,a){return function(){var l,u=o.event.target.correspondingElement||o.event.target,c=this.parentNode,d=t.of(this,arguments),h=0,f=n(),p=".drag"+(null==f?"":"-"+f),g=o.select(i(u)).on(s+p,function(){var t,e,n=r(c,f);n&&(h|=(t=n[0]-v[0])|(e=n[1]-v[1]),v=n,d({type:"drag",x:n[0]+l[0],y:n[1]+l[1],dx:t,dy:e}))}).on(a+p,function(){r(c,f)&&(g.on(s+p,null).on(a+p,null),m(h),d({type:"dragend"}))}),m=Ct(u),v=r(c,f);l=e?[(l=e.apply(this,arguments)).x-v[0],l.y-v[1]]:[0,0],d({type:"dragstart"})}}return i.origin=function(t){return arguments.length?(e=t,i):e},o.rebind(i,t,"on")},o.touches=function(t,e){return arguments.length<2&&(e=U().touches),e?a(e).map(function(e){var n=Mt(t,e);return n.identifier=e.identifier,n}):[]};var At=1e-6,St=At*At,Tt=Math.PI,Nt=2*Tt,Ot=Nt-At,Pt=Tt/2,It=Tt/180,Rt=180/Tt;function Dt(t){return t>0?1:t<0?-1:0}function Vt(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Lt(t){return t>1?0:t<-1?Tt:Math.acos(t)}function Ft(t){return t>1?Pt:t<-1?-Pt:Math.asin(t)}function jt(t){return((t=Math.exp(t))+1/t)/2}function zt(t){return(t=Math.sin(t/2))*t}var Wt=Math.SQRT2;o.interpolateZoom=function(t,e){var n,r,i=t[0],o=t[1],s=t[2],a=e[2],l=e[0]-i,u=e[1]-o,c=l*l+u*u;if(c<St)r=Math.log(a/s)/Wt,n=function(t){return[i+t*l,o+t*u,s*Math.exp(Wt*t*r)]};else{var d=Math.sqrt(c),h=(a*a-s*s+4*c)/(2*s*2*d),f=(a*a-s*s-4*c)/(2*a*2*d),p=Math.log(Math.sqrt(h*h+1)-h),g=Math.log(Math.sqrt(f*f+1)-f);r=(g-p)/Wt,n=function(t){var e=t*r,n=jt(p),a=s/(2*d)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(Wt*e+p)-function(t){return((t=Math.exp(t))-1/t)/2}(p));return[i+a*l,o+a*u,s*n/jt(Wt*e+p)]}}return n.duration=1e3*r,n},o.behavior.zoom=function(){var t,e,n,r,i,s,a,u,d,h={x:0,y:0,k:1},f=[960,500],p=Bt,g=250,m=0,v="mousedown.zoom",y="mousemove.zoom",b="mouseup.zoom",x="touchstart.zoom",_=B(w,"zoomstart","zoom","zoomend");function w(t){t.on(v,O).on(Ut+".zoom",I).on("dblclick.zoom",R).on(x,P)}function C(t){return[(t[0]-h.x)/h.k,(t[1]-h.y)/h.k]}function k(t){h.k=Math.max(p[0],Math.min(p[1],t))}function M(t,e){e=function(t){return[t[0]*h.k+h.x,t[1]*h.k+h.y]}(e),h.x+=t[0]-e[0],h.y+=t[1]-e[1]}function E(t,n,r,i){t.__chart__={x:h.x,y:h.y,k:h.k},k(Math.pow(2,i)),M(e=n,r),t=o.select(t),g>0&&(t=t.transition().duration(g)),t.call(w.event)}function A(){a&&a.domain(s.range().map(function(t){return(t-h.x)/h.k}).map(s.invert)),d&&d.domain(u.range().map(function(t){return(t-h.y)/h.k}).map(u.invert))}function S(t){m++||t({type:"zoomstart"})}function T(t){A(),t({type:"zoom",scale:h.k,translate:[h.x,h.y]})}function N(t){--m||(t({type:"zoomend"}),e=null)}function O(){var t=this,e=_.of(t,arguments),n=0,r=o.select(c(t)).on(y,function(){n=1,M(o.mouse(t),i),T(e)}).on(b,function(){r.on(y,null).on(b,null),s(n),N(e)}),i=C(o.mouse(t)),s=Ct(t);ha.call(t),S(e)}function P(){var t,e=this,n=_.of(e,arguments),r={},s=0,a=".zoom-"+o.event.changedTouches[0].identifier,l="touchmove"+a,u="touchend"+a,c=[],d=o.select(e),f=Ct(e);function p(){var n=o.touches(e);return t=h.k,n.forEach(function(t){t.identifier in r&&(r[t.identifier]=C(t))}),n}function g(){var t=o.event.target;o.select(t).on(l,m).on(u,y),c.push(t);for(var n=o.event.changedTouches,a=0,d=n.length;a<d;++a)r[n[a].identifier]=null;var f=p(),g=Date.now();if(1===f.length)g-i<500&&(E(e,v=f[0],r[v.identifier],Math.floor(Math.log(h.k)/Math.LN2)+1),H()),i=g;else if(f.length>1){var v,b=f[1],x=(v=f[0])[0]-b[0],_=v[1]-b[1];s=x*x+_*_}}function m(){var a,l,u,c,d=o.touches(e);ha.call(e);for(var h=0,f=d.length;h<f;++h,c=null)if(c=r[(u=d[h]).identifier]){if(l)break;a=u,l=c}if(c){var p=(p=u[0]-a[0])*p+(p=u[1]-a[1])*p,g=s&&Math.sqrt(p/s);a=[(a[0]+u[0])/2,(a[1]+u[1])/2],l=[(l[0]+c[0])/2,(l[1]+c[1])/2],k(g*t)}i=null,M(a,l),T(n)}function y(){if(o.event.touches.length){for(var t=o.event.changedTouches,e=0,i=t.length;e<i;++e)delete r[t[e].identifier];for(var s in r)return void p()}o.selectAll(c).on(a,null),d.on(v,O).on(x,P),f(),N(n)}g(),S(n),d.on(v,null).on(x,g)}function I(){var i=_.of(this,arguments);r?clearTimeout(r):(ha.call(this),t=C(e=n||o.mouse(this)),S(i)),r=setTimeout(function(){r=null,N(i)},50),H(),k(Math.pow(2,.002*Ht())*h.k),M(e,t),T(i)}function R(){var t=o.mouse(this),e=Math.log(h.k)/Math.LN2;E(this,t,C(t),o.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return Ut||(Ut="onwheel"in l?(Ht=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(Ht=function(){return o.event.wheelDelta},"mousewheel"):(Ht=function(){return-o.event.detail},"MozMousePixelScroll")),w.event=function(t){t.each(function(){var t=_.of(this,arguments),n=h;ga?o.select(this).transition().each("start.zoom",function(){h=this.__chart__||{x:0,y:0,k:1},S(t)}).tween("zoom:zoom",function(){var r=f[0],i=e?e[0]:r/2,s=e?e[1]:f[1]/2,a=o.interpolateZoom([(i-h.x)/h.k,(s-h.y)/h.k,r/h.k],[(i-n.x)/n.k,(s-n.y)/n.k,r/n.k]);return function(e){var n=a(e),o=r/n[2];this.__chart__=h={x:i-n[0]*o,y:s-n[1]*o,k:o},T(t)}}).each("interrupt.zoom",function(){N(t)}).each("end.zoom",function(){N(t)}):(this.__chart__=h,S(t),T(t),N(t))})},w.translate=function(t){return arguments.length?(h={x:+t[0],y:+t[1],k:h.k},A(),w):[h.x,h.y]},w.scale=function(t){return arguments.length?(h={x:h.x,y:h.y,k:null},k(+t),A(),w):h.k},w.scaleExtent=function(t){return arguments.length?(p=null==t?Bt:[+t[0],+t[1]],w):p},w.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],w):n},w.size=function(t){return arguments.length?(f=t&&[+t[0],+t[1]],w):f},w.duration=function(t){return arguments.length?(g=+t,w):g},w.x=function(t){return arguments.length?(a=t,s=t.copy(),h={x:0,y:0,k:1},w):a},w.y=function(t){return arguments.length?(d=t,u=t.copy(),h={x:0,y:0,k:1},w):d},o.rebind(w,_,"on")};var Ht,Ut,Bt=[0,1/0];function $t(){}function qt(t,e,n){return this instanceof qt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof qt?new qt(t.h,t.s,t.l):fe(""+t,pe,qt):new qt(t,e,n)}o.color=$t,$t.prototype.toString=function(){return this.rgb()+""},o.hsl=qt;var Gt=qt.prototype=new $t;function Zt(t,e,n){var r,i;function o(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(i-r)*t/60:t<180?i:t<240?r+(i-r)*(240-t)/60:r}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,r=2*(n=n<0?0:n>1?1:n)-(i=n<=.5?n*(1+e):n+e-n*e),new le(o(t+120),o(t),o(t-120))}function Yt(t,e,n){return this instanceof Yt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof Yt?new Yt(t.h,t.c,t.l):function(t,e,n){return t>0?new Yt(Math.atan2(n,e)*Rt,Math.sqrt(e*e+n*n),t):new Yt(NaN,NaN,t)}(t instanceof Qt?t.l:(t=ge((t=o.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Yt(t,e,n)}Gt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new qt(this.h,this.s,this.l/t)},Gt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new qt(this.h,this.s,t*this.l)},Gt.rgb=function(){return Zt(this.h,this.s,this.l)},o.hcl=Yt;var Xt=Yt.prototype=new $t;function Kt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Qt(n,Math.cos(t*=It)*e,Math.sin(t)*e)}function Qt(t,e,n){return this instanceof Qt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Qt?new Qt(t.l,t.a,t.b):t instanceof Yt?Kt(t.h,t.c,t.l):ge((t=le(t)).r,t.g,t.b):new Qt(t,e,n)}Xt.brighter=function(t){return new Yt(this.h,this.c,Math.min(100,this.l+Jt*(arguments.length?t:1)))},Xt.darker=function(t){return new Yt(this.h,this.c,Math.max(0,this.l-Jt*(arguments.length?t:1)))},Xt.rgb=function(){return Kt(this.h,this.c,this.l).rgb()},o.lab=Qt;var Jt=18,te=.95047,ee=1,ne=1.08883,re=Qt.prototype=new $t;function ie(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return new le(ae(3.2404542*(i=oe(i)*te)-1.5371385*(r=oe(r)*ee)-.4985314*(o=oe(o)*ne)),ae(-.969266*i+1.8760108*r+.041556*o),ae(.0556434*i-.2040259*r+1.0572252*o))}function oe(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function se(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ae(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function le(t,e,n){return this instanceof le?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof le?new le(t.r,t.g,t.b):fe(""+t,le,Zt):new le(t,e,n)}function ue(t){return new le(t>>16,t>>8&255,255&t)}function ce(t){return ue(t)+""}re.brighter=function(t){return new Qt(Math.min(100,this.l+Jt*(arguments.length?t:1)),this.a,this.b)},re.darker=function(t){return new Qt(Math.max(0,this.l-Jt*(arguments.length?t:1)),this.a,this.b)},re.rgb=function(){return ie(this.l,this.a,this.b)},o.rgb=le;var de=le.prototype=new $t;function he(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function fe(t,e,n){var r,i,o,s=0,a=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(ve(i[0]),ve(i[1]),ve(i[2]))}return(o=ye.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(s=(3840&o)>>4,s|=s>>4,a=240&o,a|=a>>4,l=15&o,l|=l<<4):7===t.length&&(s=(16711680&o)>>16,a=(65280&o)>>8,l=255&o)),e(s,a,l))}function pe(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),s=Math.max(t,e,n),a=s-o,l=(s+o)/2;return a?(i=l<.5?a/(s+o):a/(2-s-o),r=t==s?(e-n)/a+(e<n?6:0):e==s?(n-t)/a+2:(t-e)/a+4,r*=60):(r=NaN,i=l>0&&l<1?0:r),new qt(r,i,l)}function ge(t,e,n){var r=se((.4124564*(t=me(t))+.3575761*(e=me(e))+.1804375*(n=me(n)))/te),i=se((.2126729*t+.7151522*e+.072175*n)/ee);return Qt(116*i-16,500*(r-i),200*(i-se((.0193339*t+.119192*e+.9503041*n)/ne)))}function me(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ve(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}de.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new le(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new le(i,i,i)},de.darker=function(t){return new le((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},de.hsl=function(){return pe(this.r,this.g,this.b)},de.toString=function(){return"#"+he(this.r)+he(this.g)+he(this.b)};var ye=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function be(t){return"function"==typeof t?t:function(){return t}}function xe(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),_e(e,n,t,r)}}function _e(t,e,n,r){var i={},s=o.dispatch("beforesend","progress","load","error"),l={},u=new XMLHttpRequest,c=null;function d(){var t,e=u.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(u)||e>=200&&e<300||304===e){try{t=n.call(i,u)}catch(t){return void s.error.call(i,t)}s.load.call(i,t)}else s.error.call(i,u)}return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=d:u.onreadystatechange=function(){u.readyState>3&&d()},u.onprogress=function(t){var e=o.event;o.event=t;try{s.progress.call(i,u)}finally{o.event=e}},i.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l[t]:(null==e?delete l[t]:l[t]=e+"",i)},i.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",i):e},i.responseType=function(t){return arguments.length?(c=t,i):c},i.response=function(t){return n=t,i},["get","post"].forEach(function(t){i[t]=function(){return i.send.apply(i,[t].concat(a(arguments)))}}),i.send=function(n,r,o){if(2===arguments.length&&"function"==typeof r&&(o=r,r=null),u.open(n,t,!0),null==e||"accept"in l||(l.accept=e+",*/*"),u.setRequestHeader)for(var a in l)u.setRequestHeader(a,l[a]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=c&&(u.responseType=c),null!=o&&i.on("error",o).on("load",function(t){o(null,t)}),s.beforesend.call(i,u),u.send(null==r?null:r),i},i.abort=function(){return u.abort(),i},o.rebind(i,s,"on"),null==r?i:i.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(r))}ye.forEach(function(t,e){ye.set(t,ue(e))}),o.functor=be,o.xhr=xe(D),o.dsv=function(t,e){var n=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function i(t,n,r){arguments.length<3&&(r=n,n=null);var i=_e(t,e,null==n?o:s(n),r);return i.row=function(t){return arguments.length?i.response(null==(n=t)?o:s(t)):n},i}function o(t){return i.parse(t.responseText)}function s(t){return function(e){return i.parse(e.responseText,t)}}function a(e){return e.map(l).join(t)}function l(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return i.parse=function(t,e){var n;return i.parseRows(t,function(t,r){if(n)return n(t,r-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");n=e?function(t,n){return e(i(t),n)}:i})},i.parseRows=function(t,e){var n,i,o={},s={},a=[],l=t.length,u=0,c=0;function d(){if(u>=l)return s;if(i)return i=!1,o;var e=u;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return u=n+2,13===(a=t.charCodeAt(n+1))?(i=!0,10===t.charCodeAt(n+2)&&++u):10===a&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;u<l;){var a,c=1;if(10===(a=t.charCodeAt(u++)))i=!0;else if(13===a)i=!0,10===t.charCodeAt(u)&&(++u,++c);else if(a!==r)continue;return t.slice(e,u-c)}return t.slice(e)}for(;(n=d())!==s;){for(var h=[];n!==o&&n!==s;)h.push(n),n=d();e&&null==(h=e(h,c++))||a.push(h)}return a},i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var n=new R,r=[];return e.forEach(function(t){for(var e in t)n.has(e)||r.push(n.add(e))}),[r.map(l).join(t)].concat(e.map(function(e){return r.map(function(t){return l(e[t])}).join(t)})).join("\n")},i.formatRows=function(t){return t.map(a).join("\n")},i},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("\t","text/tab-separated-values");var we,Ce,ke,Me,Ee=this[L(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function Ae(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i={c:t,t:n+e,n:null};return Ce?Ce.n=i:we=i,Ce=i,ke||(Me=clearTimeout(Me),ke=1,Ee(Se)),i}function Se(){var t=Te(),e=Ne()-t;e>24?(isFinite(e)&&(clearTimeout(Me),Me=setTimeout(Se,e)),ke=0):(ke=1,Ee(Se))}function Te(){for(var t=Date.now(),e=we;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Ne(){for(var t,e=we,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:we=e.n;return Ce=t,n}function Oe(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}o.timer=function(){Ae.apply(this,arguments)},o.timer.flush=function(){Te(),Ne()},o.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Pe=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*w(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}});o.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=o.round(t,Oe(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Pe[8+n/3]};var Ie=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Re=o.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=o.round(t,Oe(t,e))).toFixed(Math.max(0,Math.min(20,Oe(t*(1+1e-15),e))))}});function De(t){return t+""}var Ve=o.time={},Le=Date;function Fe(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Fe.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){je.setUTCDate.apply(this._,arguments)},setDay:function(){je.setUTCDay.apply(this._,arguments)},setFullYear:function(){je.setUTCFullYear.apply(this._,arguments)},setHours:function(){je.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){je.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){je.setUTCMinutes.apply(this._,arguments)},setMonth:function(){je.setUTCMonth.apply(this._,arguments)},setSeconds:function(){je.setUTCSeconds.apply(this._,arguments)},setTime:function(){je.setTime.apply(this._,arguments)}};var je=Date.prototype;function ze(t,e,n){function r(e){var n=t(e),r=o(n,1);return e-n<r-e?n:r}function i(n){return e(n=t(new Le(n-1)),1),n}function o(t,n){return e(t=new Le(+t),n),t}function s(t,r,o){var s=i(t),a=[];if(o>1)for(;s<r;)n(s)%o||a.push(new Date(+s)),e(s,1);else for(;s<r;)a.push(new Date(+s)),e(s,1);return a}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=s;var a=t.utc=We(t);return a.floor=a,a.round=We(r),a.ceil=We(i),a.offset=We(o),a.range=function(t,e,n){try{Le=Fe;var r=new Fe;return r._=t,s(r,e,n)}finally{Le=Date}},t}function We(t){return function(e,n){try{Le=Fe;var r=new Fe;return r._=e,t(r,n)._}finally{Le=Date}}}Ve.year=ze(function(t){return(t=Ve.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),Ve.years=Ve.year.range,Ve.years.utc=Ve.year.utc.range,Ve.day=ze(function(t){var e=new Le(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),Ve.days=Ve.day.range,Ve.days.utc=Ve.day.utc.range,Ve.dayOfYear=function(t){var e=Ve.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=Ve[t]=ze(function(t){return(t=Ve.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=Ve.year(t).getDay();return Math.floor((Ve.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});Ve[t+"s"]=n.range,Ve[t+"s"].utc=n.utc.range,Ve[t+"OfYear"]=function(t){var n=Ve.year(t).getDay();return Math.floor((Ve.dayOfYear(t)+(n+e)%7)/7)}}),Ve.week=Ve.sunday,Ve.weeks=Ve.sunday.range,Ve.weeks.utc=Ve.sunday.utc.range,Ve.weekOfYear=Ve.sundayOfYear;var He={"-":"",_:" ",0:"0"},Ue=/^\s*\d+/,Be=/^%/;function $e(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function qe(t){return new RegExp("^(?:"+t.map(o.requote).join("|")+")","i")}function Ge(t){for(var e=new k,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Ze(t,e,n){Ue.lastIndex=0;var r=Ue.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ye(t,e,n){Ue.lastIndex=0;var r=Ue.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Xe(t,e,n){Ue.lastIndex=0;var r=Ue.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Ke(t,e,n){Ue.lastIndex=0;var r=Ue.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Qe(t,e,n){Ue.lastIndex=0;var r=Ue.exec(e.slice(n,n+2));return r?(t.y=function(t){return t+(t>68?1900:2e3)}(+r[0]),n+r[0].length):-1}function Je(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function tn(t,e,n){Ue.lastIndex=0;var r=Ue.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function en(t,e,n){Ue.lastIndex=0;var r=Ue.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function nn(t,e,n){Ue.lastIndex=0;var r=Ue.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function rn(t,e,n){Ue.lastIndex=0;var r=Ue.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function on(t,e,n){Ue.lastIndex=0;var r=Ue.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function sn(t,e,n){Ue.lastIndex=0;var r=Ue.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function an(t,e,n){Ue.lastIndex=0;var r=Ue.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ln(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=w(e)/60|0,i=w(e)%60;return n+$e(r,"0",2)+$e(i,"0",2)}function un(t,e,n){Be.lastIndex=0;var r=Be.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function cn(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}o.locale=function(t){return{numberFormat:function(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,s=r&&n?function(t,e){for(var i=t.length,o=[],s=0,a=r[0],l=0;i>0&&a>0&&(l+a+1>e&&(a=Math.max(1,e-l)),o.push(t.substring(i-=a,i+a)),!((l+=a+1)>e));)a=r[s=(s+1)%r.length];return o.reverse().join(n)}:D;return function(t){var n=Ie.exec(t),r=n[1]||" ",a=n[2]||">",l=n[3]||"-",u=n[4]||"",c=n[5],d=+n[6],h=n[7],f=n[8],p=n[9],g=1,m="",v="",y=!1,b=!0;switch(f&&(f=+f.substring(1)),(c||"0"===r&&"="===a)&&(c=r="0",a="="),p){case"n":h=!0,p="g";break;case"%":g=100,v="%",p="f";break;case"p":g=100,v="%",p="r";break;case"b":case"o":case"x":case"X":"#"===u&&(m="0"+p.toLowerCase());case"c":b=!1;case"d":y=!0,f=0;break;case"s":g=-1,p="r"}"$"===u&&(m=i[0],v=i[1]),"r"!=p||f||(p="g"),null!=f&&("g"==p?f=Math.max(1,Math.min(21,f)):"e"!=p&&"f"!=p||(f=Math.max(0,Math.min(20,f)))),p=Re.get(p)||De;var x=c&&h;return function(t){var n=v;if(y&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===l?"":l;if(g<0){var u=o.formatPrefix(t,f);t=u.scale(t),n=u.symbol+v}else t*=g;var _,w,C=(t=p(t,f)).lastIndexOf(".");if(C<0){var k=b?t.lastIndexOf("e"):-1;k<0?(_=t,w=""):(_=t.substring(0,k),w=t.substring(k))}else _=t.substring(0,C),w=e+t.substring(C+1);!c&&h&&(_=s(_,1/0));var M=m.length+_.length+w.length+(x?0:i.length),E=M<d?new Array(M=d-M+1).join(r):"";return x&&(_=s(E+_,E.length?d-w.length:1/0)),i+=m,t=_+w,("<"===a?i+t+E:">"===a?E+i+t:"^"===a?E.substring(0,M>>=1)+i+t+E.substring(M):i+(x?t:E+t))+n}}}(t),timeFormat:function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,l=t.months,u=t.shortMonths;function c(t){var e=t.length;function n(n){for(var r,i,o,s=[],a=-1,l=0;++a<e;)37===t.charCodeAt(a)&&(s.push(t.slice(l,a)),null!=(i=He[r=t.charAt(++a)])&&(r=t.charAt(++a)),(o=_[r])&&(r=o(n,null==i?"e"===r?" ":"0":i)),s.push(r),l=a+1);return s.push(t.slice(l,a)),s.join("")}return n.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(d(n,t,e,0)!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&Le!==Fe,i=new(r?Fe:Le);return"j"in n?i.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),i.setFullYear(n.y,0,1),i.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(i.getDay()+5)%7:n.w+7*n.U-(i.getDay()+6)%7)):i.setFullYear(n.y,n.m,n.d),i.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?i._:i},n.toString=function(){return t},n}function d(t,e,n,r){for(var i,o,s,a=0,l=e.length,u=n.length;a<l;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(s=e.charAt(a++),!(o=w[s in He?e.charAt(a++):s])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}c.multi=(c.utc=function(t){var e=c(t);function n(t){try{var n=new(Le=Fe);return n._=t,e(n)}finally{Le=Date}}return n.parse=function(t){try{Le=Fe;var n=e.parse(t);return n&&n._}finally{Le=Date}},n.toString=e.toString,n}).multi=cn;var h=o.map(),f=qe(s),p=Ge(s),g=qe(a),m=Ge(a),v=qe(l),y=Ge(l),b=qe(u),x=Ge(u);i.forEach(function(t,e){h.set(t.toLowerCase(),e)});var _={a:function(t){return a[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:c(e),d:function(t,e){return $e(t.getDate(),e,2)},e:function(t,e){return $e(t.getDate(),e,2)},H:function(t,e){return $e(t.getHours(),e,2)},I:function(t,e){return $e(t.getHours()%12||12,e,2)},j:function(t,e){return $e(1+Ve.dayOfYear(t),e,3)},L:function(t,e){return $e(t.getMilliseconds(),e,3)},m:function(t,e){return $e(t.getMonth()+1,e,2)},M:function(t,e){return $e(t.getMinutes(),e,2)},p:function(t){return i[+(t.getHours()>=12)]},S:function(t,e){return $e(t.getSeconds(),e,2)},U:function(t,e){return $e(Ve.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return $e(Ve.mondayOfYear(t),e,2)},x:c(n),X:c(r),y:function(t,e){return $e(t.getFullYear()%100,e,2)},Y:function(t,e){return $e(t.getFullYear()%1e4,e,4)},Z:ln,"%":function(){return"%"}},w={a:function(t,e,n){g.lastIndex=0;var r=g.exec(e.slice(n));return r?(t.w=m.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){f.lastIndex=0;var r=f.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){b.lastIndex=0;var r=b.exec(e.slice(n));return r?(t.m=x.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){v.lastIndex=0;var r=v.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,e,n){return d(t,_.c.toString(),e,n)},d:en,e:en,H:rn,I:rn,j:nn,L:an,m:tn,M:on,p:function(t,e,n){var r=h.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)},S:sn,U:Ye,w:Ze,W:Xe,x:function(t,e,n){return d(t,_.x.toString(),e,n)},X:function(t,e,n){return d(t,_.X.toString(),e,n)},y:Qe,Y:Ke,Z:Je,"%":un};return c}(t)}};var dn=o.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hn(){}o.format=dn.numberFormat,o.geo={},hn.prototype={s:0,t:0,add:function(t){pn(t,this.t,fn),pn(fn.s,this.s,this),this.s?this.t+=fn.t:this.s=fn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var fn=new hn;function pn(t,e,n){var r=n.s=t+e,i=r-t;n.t=t-(r-i)+(e-i)}function gn(t,e){t&&vn.hasOwnProperty(t.type)&&vn[t.type](t,e)}o.geo.stream=function(t,e){t&&mn.hasOwnProperty(t.type)?mn[t.type](t,e):gn(t,e)};var mn={Feature:function(t,e){gn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)gn(n[r].geometry,e)}},vn={Sphere:function(t,e){e.sphere()},Point:function(t,e){e.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)e.point((t=n[r])[0],t[1],t[2])},LineString:function(t,e){yn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)yn(n[r],e,0)},Polygon:function(t,e){bn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)bn(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)gn(n[r],e)}};function yn(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)e.point((r=t[i])[0],r[1],r[2]);e.lineEnd()}function bn(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)yn(t[n],e,1);e.polygonEnd()}o.geo.area=function(t){return xn=0,o.geo.stream(t,In),xn};var xn,_n,wn,Cn,kn,Mn,En,An,Sn,Tn,Nn,On,Pn=new hn,In={sphere:function(){xn+=4*Tt},point:j,lineStart:j,lineEnd:j,polygonStart:function(){Pn.reset(),In.lineStart=Rn},polygonEnd:function(){var t=2*Pn;xn+=t<0?4*Tt+t:t,In.lineStart=In.lineEnd=In.point=j}};function Rn(){var t,e,n,r,i;function o(t,e){e=e*It/2+Tt/4;var o=(t*=It)-n,s=o>=0?1:-1,a=s*o,l=Math.cos(e),u=Math.sin(e),c=i*u,d=r*l+c*Math.cos(a),h=c*s*Math.sin(a);Pn.add(Math.atan2(h,d)),n=t,r=l,i=u}In.point=function(s,a){In.point=o,n=(t=s)*It,r=Math.cos(a=(e=a)*It/2+Tt/4),i=Math.sin(a)},In.lineEnd=function(){o(t,e)}}function Dn(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function Vn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ln(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Fn(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function jn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function zn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Wn(t){return[Math.atan2(t[1],t[0]),Ft(t[2])]}function Hn(t,e){return w(t[0]-e[0])<At&&w(t[1]-e[1])<At}o.geo.bounds=function(){var t,e,n,r,i,s,a,l,u,c,d,h={point:f,lineStart:g,lineEnd:m,polygonStart:function(){h.point=v,h.lineStart=y,h.lineEnd=b,u=0,In.polygonStart()},polygonEnd:function(){In.polygonEnd(),h.point=f,h.lineStart=g,h.lineEnd=m,Pn<0?(t=-(n=180),e=-(r=90)):u>At?r=90:u<-At&&(e=-90),d[0]=t,d[1]=n}};function f(i,o){c.push(d=[t=i,n=i]),o<e&&(e=o),o>r&&(r=o)}function p(o,s){var a=Dn([o*It,s*It]);if(l){var u=Ln(l,a),c=Ln([u[1],-u[0],0],u);zn(c),c=Wn(c);var d=o-i,h=d>0?1:-1,p=c[0]*Rt*h,g=w(d)>180;if(g^(h*i<p&&p<h*o))(m=c[1]*Rt)>r&&(r=m);else if(g^(h*i<(p=(p+360)%360-180)&&p<h*o)){var m;(m=-c[1]*Rt)<e&&(e=m)}else s<e&&(e=s),s>r&&(r=s);g?o<i?x(t,o)>x(t,n)&&(n=o):x(o,n)>x(t,n)&&(t=o):n>=t?(o<t&&(t=o),o>n&&(n=o)):o>i?x(t,o)>x(t,n)&&(n=o):x(o,n)>x(t,n)&&(t=o)}else f(o,s);l=a,i=o}function g(){h.point=p}function m(){d[0]=t,d[1]=n,h.point=f,l=null}function v(t,e){if(l){var n=t-i;u+=w(n)>180?n+(n>0?360:-360):n}else s=t,a=e;In.point(t,e),p(t,e)}function y(){In.lineStart()}function b(){v(s,a),In.lineEnd(),w(u)>At&&(t=-(n=180)),d[0]=t,d[1]=n,l=null}function x(t,e){return(e-=t)<0?e+360:e}function _(t,e){return t[0]-e[0]}function C(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(i){if(r=n=-(t=e=1/0),c=[],o.geo.stream(i,h),u=c.length){c.sort(_);for(var s=1,a=[g=c[0]];s<u;++s)C((f=c[s])[0],g)||C(f[1],g)?(x(g[0],f[1])>x(g[0],g[1])&&(g[1]=f[1]),x(f[0],g[1])>x(g[0],g[1])&&(g[0]=f[0])):a.push(g=f);for(var l,u,f,p=-1/0,g=(s=0,a[u=a.length-1]);s<=u;g=f,++s)(l=x(g[1],(f=a[s])[0]))>p&&(p=l,t=f[0],n=g[1])}return c=d=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,r]]}}(),o.geo.centroid=function(t){_n=wn=Cn=kn=Mn=En=An=Sn=Tn=Nn=On=0,o.geo.stream(t,Un);var e=Tn,n=Nn,r=On,i=e*e+n*n+r*r;return i<St&&(e=En,n=An,r=Sn,wn<At&&(e=Cn,n=kn,r=Mn),(i=e*e+n*n+r*r)<St)?[NaN,NaN]:[Math.atan2(n,e)*Rt,Ft(r/Math.sqrt(i))*Rt]};var Un={sphere:j,point:Bn,lineStart:qn,lineEnd:Gn,polygonStart:function(){Un.lineStart=Zn},polygonEnd:function(){Un.lineStart=qn}};function Bn(t,e){t*=It;var n=Math.cos(e*=It);$n(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function $n(t,e,n){Cn+=(t-Cn)/++_n,kn+=(e-kn)/_n,Mn+=(n-Mn)/_n}function qn(){var t,e,n;function r(r,i){r*=It;var o=Math.cos(i*=It),s=o*Math.cos(r),a=o*Math.sin(r),l=Math.sin(i),u=Math.atan2(Math.sqrt((u=e*l-n*a)*u+(u=n*s-t*l)*u+(u=t*a-e*s)*u),t*s+e*a+n*l);wn+=u,En+=u*(t+(t=s)),An+=u*(e+(e=a)),Sn+=u*(n+(n=l)),$n(t,e,n)}Un.point=function(i,o){i*=It;var s=Math.cos(o*=It);t=s*Math.cos(i),e=s*Math.sin(i),n=Math.sin(o),Un.point=r,$n(t,e,n)}}function Gn(){Un.point=Bn}function Zn(){var t,e,n,r,i;function o(t,e){t*=It;var o=Math.cos(e*=It),s=o*Math.cos(t),a=o*Math.sin(t),l=Math.sin(e),u=r*l-i*a,c=i*s-n*l,d=n*a-r*s,h=Math.sqrt(u*u+c*c+d*d),f=n*s+r*a+i*l,p=h&&-Lt(f)/h,g=Math.atan2(h,f);Tn+=p*u,Nn+=p*c,On+=p*d,wn+=g,En+=g*(n+(n=s)),An+=g*(r+(r=a)),Sn+=g*(i+(i=l)),$n(n,r,i)}Un.point=function(s,a){t=s,e=a,Un.point=o,s*=It;var l=Math.cos(a*=It);n=l*Math.cos(s),r=l*Math.sin(s),i=Math.sin(a),$n(n,r,i)},Un.lineEnd=function(){o(t,e),Un.lineEnd=Gn,Un.point=Bn}}function Yn(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Xn(){return!0}function Kn(t,e,n,r,i){var o=[],s=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(Hn(n,r)){i.lineStart();for(var a=0;a<e;++a)i.point((n=t[a])[0],n[1]);i.lineEnd()}else{var l=new Jn(n,t,null,!0),u=new Jn(n,null,l,!1);l.o=u,o.push(l),s.push(u),u=new Jn(r,null,l=new Jn(r,t,null,!1),!0),l.o=u,o.push(l),s.push(u)}}}),s.sort(e),Qn(o),Qn(s),o.length){for(var a=0,l=n,u=s.length;a<u;++a)s[a].e=l=!l;for(var c,d,h=o[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(a=0,u=c.length;a<u;++a)i.point((d=c[a])[0],d[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p)for(a=(c=f.p.z).length-1;a>=0;--a)i.point((d=c[a])[0],d[1]);else r(f.x,f.p.x,-1,i);f=f.p}c=(f=f.o).z,p=!p}while(!f.v);i.lineEnd()}}}function Qn(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Jn(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function tr(t,e,n,r){return function(i,s){var a,l=e(s),u=i.invert(r[0],r[1]),c={point:d,lineStart:f,lineEnd:p,polygonStart:function(){c.point=x,c.lineStart=_,c.lineEnd=w,a=[],g=[]},polygonEnd:function(){c.point=d,c.lineStart=f,c.lineEnd=p,a=o.merge(a);var t=function(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,s=0;Pn.reset();for(var a=0,l=e.length;a<l;++a){var u=e[a],c=u.length;if(c)for(var d=u[0],h=d[0],f=d[1]/2+Tt/4,p=Math.sin(f),g=Math.cos(f),m=1;;){m===c&&(m=0);var v=(t=u[m])[0],y=t[1]/2+Tt/4,b=Math.sin(y),x=Math.cos(y),_=v-h,w=_>=0?1:-1,C=w*_,k=C>Tt,M=p*b;if(Pn.add(Math.atan2(M*w*Math.sin(C),g*x+M*Math.cos(C))),o+=k?_+w*Nt:_,k^h>=n^v>=n){var E=Ln(Dn(d),Dn(t));zn(E);var A=Ln(i,E);zn(A);var S=(k^_>=0?-1:1)*Ft(A[2]);(r>S||r===S&&(E[0]||E[1]))&&(s+=k^_>=0?1:-1)}if(!m++)break;h=v,p=b,g=x,d=t}}return(o<-At||o<At&&Pn<-At)^1&s}(u,g);a.length?(b||(s.polygonStart(),b=!0),Kn(a,rr,t,n,s)):t&&(b||(s.polygonStart(),b=!0),s.lineStart(),n(null,null,1,s),s.lineEnd()),b&&(s.polygonEnd(),b=!1),a=g=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function d(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&s.point(e,n)}function h(t,e){var n=i(t,e);l.point(n[0],n[1])}function f(){c.point=h,l.lineStart()}function p(){c.point=d,l.lineEnd()}var g,m,v=nr(),y=e(v),b=!1;function x(t,e){m.push([t,e]);var n=i(t,e);y.point(n[0],n[1])}function _(){y.lineStart(),m=[]}function w(){x(m[0][0],m[0][1]),y.lineEnd();var t,e=y.clean(),n=v.buffer(),r=n.length;if(m.pop(),g.push(m),m=null,r)if(1&e){var i,o=-1;if((r=(t=n[0]).length-1)>0){for(b||(s.polygonStart(),b=!0),s.lineStart();++o<r;)s.point((i=t[o])[0],i[1]);s.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),a.push(n.filter(er))}return c}}function er(t){return t.length>1}function nr(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:j,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function rr(t,e){return((t=t.x)[0]<0?t[1]-Pt-At:Pt-t[1])-((e=e.x)[0]<0?e[1]-Pt-At:Pt-e[1])}var ir=tr(Xn,function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?Tt:-Tt,l=w(o-n);w(l-Tt)<At?(t.point(n,r=(r+s)/2>0?Pt:-Pt),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),e=0):i!==a&&l>=Tt&&(w(n-i)<At&&(n-=i*At),w(o-a)<At&&(o-=a*At),r=function(t,e,n,r){var i,o,s=Math.sin(t-n);return w(s)>At?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*s)):(e+r)/2}(n,r,o,s),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),e=0),t.point(n=o,r=s),i=a},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)r.point(-Tt,i=n*Pt),r.point(0,i),r.point(Tt,i),r.point(Tt,0),r.point(Tt,-i),r.point(0,-i),r.point(-Tt,-i),r.point(-Tt,0),r.point(-Tt,i);else if(w(t[0]-e[0])>At){var o=t[0]<e[0]?Tt:-Tt;r.point(-o,i=n*o/2),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-Tt,-Tt/2]);function or(t,e,n,r){return function(i){var o,s=i.a,a=i.b,l=s.x,u=s.y,c=0,d=1,h=a.x-l,f=a.y-u;if(o=t-l,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<d&&(d=o)}else if(h>0){if(o>d)return;o>c&&(c=o)}if(o=n-l,h||!(o<0)){if(o/=h,h<0){if(o>d)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<d&&(d=o)}if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<d&&(d=o)}else if(f>0){if(o>d)return;o>c&&(c=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>d)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<d&&(d=o)}return c>0&&(i.a={x:l+c*h,y:u+c*f}),d<1&&(i.b={x:l+d*h,y:u+d*f}),i}}}}}}var sr=1e9;function ar(t,e,n,r){return function(l){var u,c,d,h,f,p,g,m,v,y,b,x=l,_=nr(),w=or(t,e,n,r),C={point:E,lineStart:function(){C.point=A,c&&c.push(d=[]),y=!0,v=!1,g=m=NaN},lineEnd:function(){u&&(A(h,f),p&&v&&_.rejoin(),u.push(_.buffer())),C.point=E,v&&l.lineEnd()},polygonStart:function(){l=_,u=[],c=[],b=!0},polygonEnd:function(){l=x,u=o.merge(u);var e=function(t){for(var e=0,n=c.length,r=t[1],i=0;i<n;++i)for(var o,s=1,a=c[i],l=a.length,u=a[0];s<l;++s)o=a[s],u[1]<=r?o[1]>r&&Vt(u,o,t)>0&&++e:o[1]<=r&&Vt(u,o,t)<0&&--e,u=o;return 0!==e}([t,r]),n=b&&e,i=u.length;(n||i)&&(l.polygonStart(),n&&(l.lineStart(),k(null,null,1,l),l.lineEnd()),i&&Kn(u,s,e,k,l),l.polygonEnd()),u=c=d=null}};function k(o,s,l,u){var c=0,d=0;if(null==o||(c=i(o,l))!==(d=i(s,l))||a(o,s)<0^l>0)do{u.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+l+4)%4)!==d);else u.point(s[0],s[1])}function M(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function E(t,e){M(t,e)&&l.point(t,e)}function A(t,e){var n=M(t=Math.max(-sr,Math.min(sr,t)),e=Math.max(-sr,Math.min(sr,e)));if(c&&d.push([t,e]),y)h=t,f=e,p=n,y=!1,n&&(l.lineStart(),l.point(t,e));else if(n&&v)l.point(t,e);else{var r={a:{x:g,y:m},b:{x:t,y:e}};w(r)?(v||(l.lineStart(),l.point(r.a.x,r.a.y)),l.point(r.b.x,r.b.y),n||l.lineEnd(),b=!1):n&&(l.lineStart(),l.point(t,e),b=!1)}g=t,m=e,v=n}return C};function i(r,i){return w(r[0]-t)<At?i>0?0:3:w(r[0]-n)<At?i>0?2:1:w(r[1]-e)<At?i>0?1:0:i>0?3:2}function s(t,e){return a(t.x,e.x)}function a(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function lr(t){var e=0,n=Tt/3,r=Nr(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Tt/180,n=t[1]*Tt/180):[e/Tt*180,n/Tt*180]},i}function ur(t,e){var n=Math.sin(t),r=(n+Math.sin(e))/2,i=1+n*(2*r-n),o=Math.sqrt(i)/r;function s(t,e){var n=Math.sqrt(i-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),o-n*Math.cos(t)]}return s.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,Ft((i-(t*t+n*n)*r*r)/(2*r))]},s}o.geo.clipExtent=function(){var t,e,n,r,i,o,s={stream:function(t){return i&&(i.valid=!1),(i=o(t)).valid=!0,i},extent:function(a){return arguments.length?(o=ar(t=+a[0][0],e=+a[0][1],n=+a[1][0],r=+a[1][1]),i&&(i.valid=!1,i=null),s):[[t,e],[n,r]]}};return s.extent([[0,0],[960,500]])},(o.geo.conicEqualArea=function(){return lr(ur)}).raw=ur,o.geo.albers=function(){return o.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},o.geo.albersUsa=function(){var t,e,n,r,i=o.geo.albers(),s=o.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=o.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};function u(i){var o=i[0],s=i[1];return t=null,e(o,s),t||(n(o,s),t)||r(o,s),t}return u.invert=function(t){var e=i.scale(),n=i.translate(),r=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?s:o>=.166&&o<.234&&r>=-.214&&r<-.115?a:i).invert(t)},u.stream=function(t){var e=i.stream(t),n=s.stream(t),r=a.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},u.precision=function(t){return arguments.length?(i.precision(t),s.precision(t),a.precision(t),u):i.precision()},u.scale=function(t){return arguments.length?(i.scale(t),s.scale(.35*t),a.scale(t),u.translate(i.translate())):i.scale()},u.translate=function(t){if(!arguments.length)return i.translate();var o=i.scale(),c=+t[0],d=+t[1];return e=i.translate(t).clipExtent([[c-.455*o,d-.238*o],[c+.455*o,d+.238*o]]).stream(l).point,n=s.translate([c-.307*o,d+.201*o]).clipExtent([[c-.425*o+At,d+.12*o+At],[c-.214*o-At,d+.234*o-At]]).stream(l).point,r=a.translate([c-.205*o,d+.212*o]).clipExtent([[c-.214*o+At,d+.166*o+At],[c-.115*o-At,d+.234*o-At]]).stream(l).point,u},u.scale(1070)};var cr,dr,hr,fr,pr,gr,mr={point:j,lineStart:j,lineEnd:j,polygonStart:function(){dr=0,mr.lineStart=vr},polygonEnd:function(){mr.lineStart=mr.lineEnd=mr.point=j,cr+=w(dr/2)}};function vr(){var t,e,n,r;function i(t,e){dr+=r*t-n*e,n=t,r=e}mr.point=function(o,s){mr.point=i,t=n=o,e=r=s},mr.lineEnd=function(){i(t,e)}}var yr={point:function(t,e){t<hr&&(hr=t),t>pr&&(pr=t),e<fr&&(fr=e),e>gr&&(gr=e)},lineStart:j,lineEnd:j,polygonStart:j,polygonEnd:j};function br(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var xr,_r={point:wr,lineStart:Cr,lineEnd:kr,polygonStart:function(){_r.lineStart=Mr},polygonEnd:function(){_r.point=wr,_r.lineStart=Cr,_r.lineEnd=kr}};function wr(t,e){Cn+=t,kn+=e,++Mn}function Cr(){var t,e;function n(n,r){var i=n-t,o=r-e,s=Math.sqrt(i*i+o*o);En+=s*(t+n)/2,An+=s*(e+r)/2,Sn+=s,wr(t=n,e=r)}_r.point=function(r,i){_r.point=n,wr(t=r,e=i)}}function kr(){_r.point=wr}function Mr(){var t,e,n,r;function i(t,e){var i=t-n,o=e-r,s=Math.sqrt(i*i+o*o);En+=s*(n+t)/2,An+=s*(r+e)/2,Sn+=s,Tn+=(s=r*t-n*e)*(n+t),Nn+=s*(r+e),On+=3*s,wr(n=t,r=e)}_r.point=function(o,s){_r.point=i,wr(t=n=o,e=r=s)},_r.lineEnd=function(){i(t,e)}}function Er(t){var e=.5,n=Math.cos(30*It),r=16;function i(e){return(r?function(e){var n,i,s,a,l,u,c,d,h,f,p,g,m={point:v,lineStart:y,lineEnd:x,polygonStart:function(){e.polygonStart(),m.lineStart=_},polygonEnd:function(){e.polygonEnd(),m.lineStart=y}};function v(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){d=NaN,m.point=b,e.lineStart()}function b(n,i){var s=Dn([n,i]),a=t(n,i);o(d,h,c,f,p,g,d=a[0],h=a[1],c=n,f=s[0],p=s[1],g=s[2],r,e),e.point(d,h)}function x(){m.point=v,e.lineEnd()}function _(){y(),m.point=w,m.lineEnd=C}function w(t,e){b(n=t,e),i=d,s=h,a=f,l=p,u=g,m.point=b}function C(){o(d,h,c,f,p,g,i,s,n,a,l,u,r,e),m.lineEnd=x,x()}return m}:function(e){return Sr(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})})(e)}function o(r,i,s,a,l,u,c,d,h,f,p,g,m,v){var y=c-r,b=d-i,x=y*y+b*b;if(x>4*e&&m--){var _=a+f,C=l+p,k=u+g,M=Math.sqrt(_*_+C*C+k*k),E=Math.asin(k/=M),A=w(w(k)-1)<At||w(s-h)<At?(s+h)/2:Math.atan2(C,_),S=t(A,E),T=S[0],N=S[1],O=T-r,P=N-i,I=b*O-y*P;(I*I/x>e||w((y*O+b*P)/x-.5)>.3||a*f+l*p+u*g<n)&&(o(r,i,s,a,l,u,T,N,A,_/=M,C/=M,k,m,v),v.point(T,N),o(T,N,A,_,C,k,c,d,h,f,p,g,m,v))}}return i.precision=function(t){return arguments.length?(r=(e=t*t)>0&&16,i):Math.sqrt(e)},i}function Ar(t){this.stream=t}function Sr(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Tr(t){return Nr(function(){return t})()}function Nr(t){var e,n,r,i,s,a,l=Er(function(t,n){return[(t=e(t,n))[0]*u+i,s-t[1]*u]}),u=150,c=480,d=250,h=0,f=0,p=0,g=0,m=0,v=ir,y=D,b=null,x=null;function _(t){return[(t=r(t[0]*It,t[1]*It))[0]*u+i,s-t[1]*u]}function C(t){return(t=r.invert((t[0]-i)/u,(s-t[1])/u))&&[t[0]*Rt,t[1]*Rt]}function k(){r=Yn(n=Rr(p,g,m),e);var t=e(h,f);return i=c-t[0]*u,s=d+t[1]*u,M()}function M(){return a&&(a.valid=!1,a=null),_}return _.stream=function(t){return a&&(a.valid=!1),(a=Or(v(n,l(y(t))))).valid=!0,a},_.clipAngle=function(t){return arguments.length?(v=null==t?(b=t,ir):function(t){var e=Math.cos(t),n=e>0,r=w(e)>At;return tr(i,function(t){var e,a,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(d,h){var f,p=[d,h],g=i(d,h),m=n?g?0:s(d,h):g?s(d+(d<0?Tt:-Tt),h):0;if(!e&&(u=l=g)&&t.lineStart(),g!==l&&(f=o(e,p),(Hn(e,f)||Hn(p,f))&&(p[0]+=At,p[1]+=At,g=i(p[0],p[1]))),g!==l)c=0,g?(t.lineStart(),f=o(p,e),t.point(f[0],f[1])):(f=o(e,p),t.point(f[0],f[1]),t.lineEnd()),e=f;else if(r&&e&&n^g){var v;m&a||!(v=o(p,e,!0))||(c=0,n?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||e&&Hn(e,p)||t.point(p[0],p[1]),e=p,l=g,a=m},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return c|(u&&l)<<1}}},Fr(t,6*It),n?[0,-t]:[-Tt,t-Tt]);function i(t,n){return Math.cos(t)*Math.cos(n)>e}function o(t,n,r){var i=[1,0,0],o=Ln(Dn(t),Dn(n)),s=Vn(o,o),a=o[0],l=s-a*a;if(!l)return!r&&t;var u=e*s/l,c=-e*a/l,d=Ln(i,o),h=jn(i,u);Fn(h,jn(o,c));var f=d,p=Vn(h,f),g=Vn(f,f),m=p*p-g*(Vn(h,h)-1);if(!(m<0)){var v=Math.sqrt(m),y=jn(f,(-p-v)/g);if(Fn(y,h),y=Wn(y),!r)return y;var b,x=t[0],_=n[0],C=t[1],k=n[1];_<x&&(b=x,x=_,_=b);var M=_-x,E=w(M-Tt)<At;if(!E&&k<C&&(b=C,C=k,k=b),E||M<At?E?C+k>0^y[1]<(w(y[0]-x)<At?C:k):C<=y[1]&&y[1]<=k:M>Tt^(x<=y[0]&&y[0]<=_)){var A=jn(f,(-p+v)/g);return Fn(A,h),[y,Wn(A)]}}}function s(e,r){var i=n?t:Tt-t,o=0;return e<-i?o|=1:e>i&&(o|=2),r<-i?o|=4:r>i&&(o|=8),o}}((b=+t)*It),M()):b},_.clipExtent=function(t){return arguments.length?(x=t,y=t?ar(t[0][0],t[0][1],t[1][0],t[1][1]):D,M()):x},_.scale=function(t){return arguments.length?(u=+t,k()):u},_.translate=function(t){return arguments.length?(c=+t[0],d=+t[1],k()):[c,d]},_.center=function(t){return arguments.length?(h=t[0]%360*It,f=t[1]%360*It,k()):[h*Rt,f*Rt]},_.rotate=function(t){return arguments.length?(p=t[0]%360*It,g=t[1]%360*It,m=t.length>2?t[2]%360*It:0,k()):[p*Rt,g*Rt,m*Rt]},o.rebind(_,l,"precision"),function(){return e=t.apply(this,arguments),_.invert=e.invert&&C,k()}}function Or(t){return Sr(t,function(e,n){t.point(e*It,n*It)})}function Pr(t,e){return[t,e]}function Ir(t,e){return[t>Tt?t-Nt:t<-Tt?t+Nt:t,e]}function Rr(t,e,n){return t?e||n?Yn(Vr(t),Lr(e,n)):Vr(t):e||n?Lr(e,n):Ir}function Dr(t){return function(e,n){return[(e+=t)>Tt?e-Nt:e<-Tt?e+Nt:e,n]}}function Vr(t){var e=Dr(t);return e.invert=Dr(-t),e}function Lr(t,e){var n=Math.cos(t),r=Math.sin(t),i=Math.cos(e),o=Math.sin(e);function s(t,e){var s=Math.cos(e),a=Math.cos(t)*s,l=Math.sin(t)*s,u=Math.sin(e),c=u*n+a*r;return[Math.atan2(l*i-c*o,a*n-u*r),Ft(c*i+l*o)]}return s.invert=function(t,e){var s=Math.cos(e),a=Math.cos(t)*s,l=Math.sin(t)*s,u=Math.sin(e),c=u*i-l*o;return[Math.atan2(l*i+u*o,a*n+c*r),Ft(c*n-a*r)]},s}function Fr(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,s,a){var l=s*e;null!=i?(i=jr(n,i),o=jr(n,o),(s>0?i<o:i>o)&&(i+=s*Nt)):(i=t+s*Nt,o=t-.5*l);for(var u,c=i;s>0?c>o:c<o;c-=l)a.point((u=Wn([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function jr(t,e){var n=Dn(e);n[0]-=t,zn(n);var r=Lt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-At)%(2*Math.PI)}function zr(t,e,n){var r=o.range(t,e-At,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function Wr(t,e,n){var r=o.range(t,e-At,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function Hr(t){return t.source}function Ur(t){return t.target}o.geo.path=function(){var t,e,n,r,i,s=4.5;function a(t){return t&&("function"==typeof s&&r.pointRadius(+s.apply(this,arguments)),i&&i.valid||(i=n(r)),o.geo.stream(t,i)),r.result()}function l(){return i=null,a}return a.area=function(t){return cr=0,o.geo.stream(t,n(mr)),cr},a.centroid=function(t){return Cn=kn=Mn=En=An=Sn=Tn=Nn=On=0,o.geo.stream(t,n(_r)),On?[Tn/On,Nn/On]:Sn?[En/Sn,An/Sn]:Mn?[Cn/Mn,kn/Mn]:[NaN,NaN]},a.bounds=function(t){return pr=gr=-(hr=fr=1/0),o.geo.stream(t,n(yr)),[[hr,fr],[pr,gr]]},a.projection=function(e){return arguments.length?(n=(t=e)?e.stream||function(t){var e=Er(function(e,n){return t([e*Rt,n*Rt])});return function(t){return Or(e(t))}}(e):D,l()):t},a.context=function(t){return arguments.length?(r=null==(e=t)?new function(){var t=br(4.5),e=[],n={point:r,lineStart:function(){n.point=i},lineEnd:s,polygonStart:function(){n.lineEnd=a},polygonEnd:function(){n.lineEnd=s,n.point=r},pointRadius:function(e){return t=br(e),n},result:function(){if(e.length){var t=e.join("");return e=[],t}}};function r(n,r){e.push("M",n,",",r,t)}function i(t,r){e.push("M",t,",",r),n.point=o}function o(t,n){e.push("L",t,",",n)}function s(){n.point=r}function a(){e.push("Z")}return n}:new function(t){var e=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:s,polygonStart:function(){n.lineEnd=a},polygonEnd:function(){n.lineEnd=s,n.point=r},pointRadius:function(t){return e=t,n},result:j};function r(n,r){t.moveTo(n+e,r),t.arc(n,r,e,0,Nt)}function i(e,r){t.moveTo(e,r),n.point=o}function o(e,n){t.lineTo(e,n)}function s(){n.point=r}function a(){t.closePath()}return n}(t),"function"!=typeof s&&r.pointRadius(s),l()):e},a.pointRadius=function(t){return arguments.length?(s="function"==typeof t?t:(r.pointRadius(+t),+t),a):s},a.projection(o.geo.albersUsa()).context(null)},o.geo.transform=function(t){return{stream:function(e){var n=new Ar(e);for(var r in t)n[r]=t[r];return n}}},Ar.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},o.geo.projection=Tr,o.geo.projectionMutator=Nr,(o.geo.equirectangular=function(){return Tr(Pr)}).raw=Pr.invert=Pr,o.geo.rotation=function(t){function e(e){return(e=t(e[0]*It,e[1]*It))[0]*=Rt,e[1]*=Rt,e}return t=Rr(t[0]%360*It,t[1]*It,t.length>2?t[2]*It:0),e.invert=function(e){return(e=t.invert(e[0]*It,e[1]*It))[0]*=Rt,e[1]*=Rt,e},e},Ir.invert=Pr,o.geo.circle=function(){var t,e,n=[0,0],r=6;function i(){var t="function"==typeof n?n.apply(this,arguments):n,r=Rr(-t[0]*It,-t[1]*It,0).invert,i=[];return e(null,null,1,{point:function(t,e){i.push(t=r(t,e)),t[0]*=Rt,t[1]*=Rt}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(t){return arguments.length?(n=t,i):n},i.angle=function(n){return arguments.length?(e=Fr((t=+n)*It,r*It),i):t},i.precision=function(n){return arguments.length?(e=Fr(t*It,(r=+n)*It),i):r},i.angle(90)},o.geo.distance=function(t,e){var n,r=(e[0]-t[0])*It,i=t[1]*It,o=e[1]*It,s=Math.sin(r),a=Math.cos(r),l=Math.sin(i),u=Math.cos(i),c=Math.sin(o),d=Math.cos(o);return Math.atan2(Math.sqrt((n=d*s)*n+(n=u*c-l*d*a)*n),l*c+u*d*a)},o.geo.graticule=function(){var t,e,n,r,i,s,a,l,u,c,d,h,f=10,p=f,g=90,m=360,v=2.5;function y(){return{type:"MultiLineString",coordinates:b()}}function b(){return o.range(Math.ceil(r/g)*g,n,g).map(d).concat(o.range(Math.ceil(l/m)*m,a,m).map(h)).concat(o.range(Math.ceil(e/f)*f,t,f).filter(function(t){return w(t%g)>At}).map(u)).concat(o.range(Math.ceil(s/p)*p,i,p).filter(function(t){return w(t%m)>At}).map(c))}return y.lines=function(){return b().map(function(t){return{type:"LineString",coordinates:t}})},y.outline=function(){return{type:"Polygon",coordinates:[d(r).concat(h(a).slice(1),d(n).reverse().slice(1),h(l).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.majorExtent(t).minorExtent(t):y.minorExtent()},y.majorExtent=function(t){return arguments.length?(l=+t[0][1],a=+t[1][1],(r=+t[0][0])>(n=+t[1][0])&&(t=r,r=n,n=t),l>a&&(t=l,l=a,a=t),y.precision(v)):[[r,l],[n,a]]},y.minorExtent=function(n){return arguments.length?(s=+n[0][1],i=+n[1][1],(e=+n[0][0])>(t=+n[1][0])&&(n=e,e=t,t=n),s>i&&(n=s,s=i,i=n),y.precision(v)):[[e,s],[t,i]]},y.step=function(t){return arguments.length?y.majorStep(t).minorStep(t):y.minorStep()},y.majorStep=function(t){return arguments.length?(g=+t[0],m=+t[1],y):[g,m]},y.minorStep=function(t){return arguments.length?(f=+t[0],p=+t[1],y):[f,p]},y.precision=function(o){return arguments.length?(v=+o,u=zr(s,i,90),c=Wr(e,t,v),d=zr(l,a,90),h=Wr(r,n,v),y):v},y.majorExtent([[-180,-90+At],[180,90-At]]).minorExtent([[-180,-80-At],[180,80+At]])},o.geo.greatArc=function(){var t,e,n=Hr,r=Ur;function i(){return{type:"LineString",coordinates:[t||n.apply(this,arguments),e||r.apply(this,arguments)]}}return i.distance=function(){return o.geo.distance(t||n.apply(this,arguments),e||r.apply(this,arguments))},i.source=function(e){return arguments.length?(n=e,t="function"==typeof e?null:e,i):n},i.target=function(t){return arguments.length?(r=t,e="function"==typeof t?null:t,i):r},i.precision=function(){return arguments.length?i:0},i},o.geo.interpolate=function(t,e){return function(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),s=Math.cos(r),a=Math.sin(r),l=i*Math.cos(t),u=i*Math.sin(t),c=s*Math.cos(n),d=s*Math.sin(n),h=2*Math.asin(Math.sqrt(zt(r-e)+i*s*zt(n-t))),f=1/Math.sin(h),p=h?function(t){var e=Math.sin(t*=h)*f,n=Math.sin(h-t)*f,r=n*l+e*c,i=n*u+e*d,s=n*o+e*a;return[Math.atan2(i,r)*Rt,Math.atan2(s,Math.sqrt(r*r+i*i))*Rt]}:function(){return[t*Rt,e*Rt]};return p.distance=h,p}(t[0]*It,t[1]*It,e[0]*It,e[1]*It)},o.geo.length=function(t){return xr=0,o.geo.stream(t,Br),xr};var Br={sphere:j,point:j,lineStart:function(){var t,e,n;function r(r,i){var o=Math.sin(i*=It),s=Math.cos(i),a=w((r*=It)-t),l=Math.cos(a);xr+=Math.atan2(Math.sqrt((a=s*Math.sin(a))*a+(a=n*o-e*s*l)*a),e*o+n*s*l),t=r,e=o,n=s}Br.point=function(i,o){t=i*It,e=Math.sin(o*=It),n=Math.cos(o),Br.point=r},Br.lineEnd=function(){Br.point=Br.lineEnd=j}},lineEnd:j,polygonStart:j,polygonEnd:j};function $r(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),s=Math.cos(i);return[Math.atan2(t*o,r*s),Math.asin(r&&n*o/r)]},n}var qr=$r(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(o.geo.azimuthalEqualArea=function(){return Tr(qr)}).raw=qr;var Gr=$r(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},D);function Zr(t,e){var n=Math.cos(t),r=function(t){return Math.tan(Tt/4+t/2)},i=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),o=n*Math.pow(r(t),i)/i;if(!i)return Kr;function s(t,e){o>0?e<-Pt+At&&(e=-Pt+At):e>Pt-At&&(e=Pt-At);var n=o/Math.pow(r(e),i);return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}return s.invert=function(t,e){var n=o-e,r=Dt(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(o/r,1/i))-Pt]},s}function Yr(t,e){var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),i=n/r+t;if(w(r)<At)return Pr;function o(t,e){var n=i-e;return[n*Math.sin(r*t),i-n*Math.cos(r*t)]}return o.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/r,i-Dt(r)*Math.sqrt(t*t+n*n)]},o}(o.geo.azimuthalEquidistant=function(){return Tr(Gr)}).raw=Gr,(o.geo.conicConformal=function(){return lr(Zr)}).raw=Zr,(o.geo.conicEquidistant=function(){return lr(Yr)}).raw=Yr;var Xr=$r(function(t){return 1/t},Math.atan);function Kr(t,e){return[t,Math.log(Math.tan(Tt/4+e/2))]}function Qr(t){var e,n=Tr(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var s=o.apply(n,arguments);if(s===n){if(e=null==t){var a=Tt*r(),l=i();o([[l[0]-a,l[1]-a],[l[0]+a,l[1]+a]])}}else e&&(s=null);return s},n.clipExtent(null)}(o.geo.gnomonic=function(){return Tr(Xr)}).raw=Xr,Kr.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Pt]},(o.geo.mercator=function(){return Qr(Kr)}).raw=Kr;var Jr=$r(function(){return 1},Math.asin);(o.geo.orthographic=function(){return Tr(Jr)}).raw=Jr;var ti=$r(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});function ei(t,e){return[Math.log(Math.tan(Tt/4+e/2)),-t]}function ni(t){return t[0]}function ri(t){return t[1]}function ii(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&Vt(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function oi(t,e){return t[0]-e[0]||t[1]-e[1]}(o.geo.stereographic=function(){return Tr(ti)}).raw=ti,ei.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Pt]},(o.geo.transverseMercator=function(){var t=Qr(ei),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=ei,o.geom={},o.geom.hull=function(t){var e=ni,n=ri;if(arguments.length)return r(t);function r(t){if(t.length<3)return[];var r,i=be(e),o=be(n),s=t.length,a=[],l=[];for(r=0;r<s;r++)a.push([+i.call(this,t[r],r),+o.call(this,t[r],r),r]);for(a.sort(oi),r=0;r<s;r++)l.push([a[r][0],-a[r][1]]);var u=ii(a),c=ii(l),d=c[0]===u[0],h=c[c.length-1]===u[u.length-1],f=[];for(r=u.length-1;r>=0;--r)f.push(t[a[u[r]][2]]);for(r=+d;r<c.length-h;++r)f.push(t[a[c[r]][2]]);return f}return r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r},o.geom.polygon=function(t){return q(t,si),t};var si=o.geom.polygon.prototype=[];function ai(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function li(t,e,n,r){var i=t[0],o=n[0],s=e[0]-i,a=r[0]-o,l=t[1],u=n[1],c=e[1]-l,d=r[1]-u,h=(a*(l-u)-d*(i-o))/(d*s-a*c);return[i+h*s,l+h*c]}function ui(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}si.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)i+=(t=r)[1]*(r=this[e])[0]-t[0]*r[1];return.5*i},si.centroid=function(t){var e,n,r=-1,i=this.length,o=0,s=0,a=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)o+=((e=a)[0]+(a=this[r])[0])*(n=e[0]*a[1]-a[0]*e[1]),s+=(e[1]+a[1])*n;return[o*t,s*t]},si.clip=function(t){for(var e,n,r,i,o,s,a=ui(t),l=-1,u=this.length-ui(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,i=this[l],o=e[(r=e.length-a)-1],n=-1;++n<r;)ai(s=e[n],c,i)?(ai(o,c,i)||t.push(li(o,s,c,i)),t.push(s)):ai(o,c,i)&&t.push(li(o,s,c,i)),o=s;a&&t.push(t[0]),c=i}return t};var ci,di,hi,fi,pi,gi=[],mi=[];function vi(t){var e=gi.pop()||new function(){Ri(this),this.edge=this.site=this.circle=null};return e.site=t,e}function yi(t){Ei(t),hi.remove(t),gi.push(t),Ri(t)}function bi(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,s=t.N,a=[t];yi(t);for(var l=o;l.circle&&w(n-l.circle.x)<At&&w(r-l.circle.cy)<At;)o=l.P,a.unshift(l),yi(l),l=o;a.unshift(l),Ei(l);for(var u=s;u.circle&&w(n-u.circle.x)<At&&w(r-u.circle.cy)<At;)s=u.N,a.push(u),yi(u),u=s;a.push(u),Ei(u);var c,d=a.length;for(c=1;c<d;++c)Oi((u=a[c]).edge,(l=a[c-1]).site,u.site,i);(u=a[d-1]).edge=Ti((l=a[0]).site,u.site,null,i),Mi(l),Mi(u)}function xi(t){for(var e,n,r,i,o=t.x,s=t.y,a=hi._;a;)if((r=_i(a,s)-o)>At)a=a.L;else{if(!((i=o-wi(a,s))>At)){r>-At?(e=a.P,n=a):i>-At?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}var l=vi(t);if(hi.insert(e,l),e||n){if(e===n)return Ei(e),n=vi(e.site),hi.insert(l,n),l.edge=n.edge=Ti(e.site,l.site),Mi(e),void Mi(n);if(n){Ei(e),Ei(n);var u=e.site,c=u.x,d=u.y,h=t.x-c,f=t.y-d,p=n.site,g=p.x-c,m=p.y-d,v=2*(h*m-f*g),y=h*h+f*f,b=g*g+m*m,x={x:(m*y-f*b)/v+c,y:(h*b-g*y)/v+d};Oi(n.edge,u,p,x),l.edge=Ti(u,t,null,x),n.edge=Ti(t,p,null,x),Mi(e),Mi(n)}else l.edge=Ti(e.site,l.site)}}function _i(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var s=t.P;if(!s)return-1/0;var a=(n=s.site).x,l=n.y,u=l-e;if(!u)return a;var c=a-r,d=1/o-1/u,h=c/u;return d?(-h+Math.sqrt(h*h-2*d*(c*c/(-2*u)-l+u/2+i-o/2)))/d+r:(r+a)/2}function wi(t,e){var n=t.N;if(n)return _i(n,e);var r=t.site;return r.y===e?r.x:1/0}function Ci(t){this.site=t,this.edges=[]}function ki(t,e){return e.angle-t.angle}function Mi(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var s=i.x,a=i.y,l=r.x-s,u=r.y-a,c=o.x-s,d=2*(l*(m=o.y-a)-u*c);if(!(d>=-St)){var h=l*l+u*u,f=c*c+m*m,p=(m*h-u*f)/d,g=(l*f-c*h)/d,m=g+a,v=mi.pop()||new function(){Ri(this),this.x=this.y=this.arc=this.site=this.cy=null};v.arc=t,v.site=i,v.x=p+s,v.y=m+Math.sqrt(p*p+g*g),v.cy=m,t.circle=v;for(var y=null,b=pi._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}pi.insert(y,v),y||(fi=v)}}}}function Ei(t){var e=t.circle;e&&(e.P||(fi=e.N),pi.remove(e),mi.push(e),Ri(e),t.circle=null)}function Ai(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,s=e[0][0],a=e[1][0],l=e[0][1],u=e[1][1],c=t.l,d=t.r,h=c.x,f=c.y,p=d.x,g=d.y,m=(h+p)/2,v=(f+g)/2;if(g===f){if(m<s||m>=a)return;if(h>p){if(o){if(o.y>=u)return}else o={x:m,y:l};n={x:m,y:u}}else{if(o){if(o.y<l)return}else o={x:m,y:u};n={x:m,y:l}}}else if(i=v-(r=(h-p)/(g-f))*m,r<-1||r>1)if(h>p){if(o){if(o.y>=u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else{if(o){if(o.y<l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else if(f<g){if(o){if(o.x>=a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}else{if(o){if(o.x<s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}return t.a=o,t.b=n,!0}function Si(t,e){this.l=t,this.r=e,this.a=this.b=null}function Ti(t,e,n,r){var i=new Si(t,e);return ci.push(i),n&&Oi(i,t,e,n),r&&Oi(i,e,t,r),di[t.i].edges.push(new Pi(i,t,e)),di[e.i].edges.push(new Pi(i,e,t)),i}function Ni(t,e,n){var r=new Si(t,null);return r.a=e,r.b=n,ci.push(r),r}function Oi(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function Pi(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Ii(){this._=null}function Ri(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Di(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Vi(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Li(t){for(;t.L;)t=t.L;return t}function Fi(t,e){var n,r,i,o=t.sort(ji).pop();for(ci=[],di=new Array(t.length),hi=new Ii,pi=new Ii;;)if(i=fi,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(di[o.i]=new Ci(o),xi(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;bi(i.arc)}e&&(function(t){for(var e,n=ci,r=or(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)(!Ai(e=n[i],t)||!r(e)||w(e.a.x-e.b.x)<At&&w(e.a.y-e.b.y)<At)&&(e.a=e.b=null,n.splice(i,1))}(e),function(t){for(var n,r,i,o,s,a,l,u,c,d,h=e[0][0],f=e[1][0],p=e[0][1],g=e[1][1],m=di,v=m.length;v--;)if((s=m[v])&&s.prepare())for(u=(l=s.edges).length,a=0;a<u;)i=(d=l[a].end()).x,o=d.y,r=(c=l[++a%u].start()).y,(w(i-(n=c.x))>At||w(o-r)>At)&&(l.splice(a,0,new Pi(Ni(s.site,d,w(i-h)<At&&g-o>At?{x:h,y:w(n-h)<At?r:g}:w(o-g)<At&&f-i>At?{x:w(r-g)<At?n:f,y:g}:w(i-f)<At&&o-p>At?{x:f,y:w(n-f)<At?r:p}:w(o-p)<At&&i-h>At?{x:w(r-p)<At?n:h,y:p}:null),s.site,null)),++u)}());var s={cells:di,edges:ci};return hi=pi=ci=di=null,s}function ji(t,e){return e.y-t.y||e.x-t.x}Ci.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(ki),e.length},Pi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Ii.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Li(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Di(this,n),n=(t=n).U),n.C=!1,r.C=!0,Vi(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Vi(this,n),n=(t=n).U),n.C=!1,r.C=!0,Di(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,s=t.R;if(n=o?s?Li(s):o:s,i?i.L===t?i.L=n:i.R=n:this._=n,o&&s?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(i=n.U,n.U=t.U,i.L=t=n.R,n.R=s,s.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Di(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Vi(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Di(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Vi(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Di(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Vi(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},o.geom.voronoi=function(t){var e=ni,n=ri,r=e,i=n,o=zi;if(t)return s(t);function s(t){var e=new Array(t.length),n=o[0][0],r=o[0][1],i=o[1][0],s=o[1][1];return Fi(a(t),o).cells.forEach(function(o,a){var l=o.edges,u=o.site;(e[a]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=n&&u.x<=i&&u.y>=r&&u.y<=s?[[n,s],[i,s],[i,r],[n,r]]:[]).point=t[a]}),e}function a(t){return t.map(function(t,e){return{x:Math.round(r(t,e)/At)*At,y:Math.round(i(t,e)/At)*At,i:e}})}return s.links=function(t){return Fi(a(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},s.triangles=function(t){var e=[];return Fi(a(t)).cells.forEach(function(n,r){for(var i,o=n.site,s=n.edges.sort(ki),a=-1,l=s.length,u=s[l-1].edge,c=u.l===o?u.r:u.l;++a<l;)i=c,c=(u=s[a].edge).l===o?u.r:u.l,r<i.i&&r<c.i&&Wi(o,i,c)<0&&e.push([t[r],t[i.i],t[c.i]])}),e},s.x=function(t){return arguments.length?(r=be(e=t),s):e},s.y=function(t){return arguments.length?(i=be(n=t),s):n},s.clipExtent=function(t){return arguments.length?(o=null==t?zi:t,s):o===zi?null:o},s.size=function(t){return arguments.length?s.clipExtent(t&&[[0,0],t]):o===zi?null:o&&o[1]},s};var zi=[[-1e6,-1e6],[1e6,1e6]];function Wi(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function Hi(t){return t.x}function Ui(t){return t.y}function Bi(t,e){t=o.rgb(t),e=o.rgb(e);var n=t.r,r=t.g,i=t.b,s=e.r-n,a=e.g-r,l=e.b-i;return function(t){return"#"+he(Math.round(n+s*t))+he(Math.round(r+a*t))+he(Math.round(i+l*t))}}function $i(t,e){var n,r={},i={};for(n in t)n in e?r[n]=Xi(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function qi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Gi(t,e){var n,r,i,o=Zi.lastIndex=Yi.lastIndex=0,s=-1,a=[],l=[];for(t+="",e+="";(n=Zi.exec(t))&&(r=Yi.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:qi(n,r)})),o=Yi.lastIndex;return o<e.length&&(i=e.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,r=0;r<e;++r)a[(n=l[r]).i]=n.x(t);return a.join("")})}o.geom.delaunay=function(t){return o.geom.voronoi().triangles(t)},o.geom.quadtree=function(t,e,n,r,i){var o,s=ni,a=ri;if(o=arguments.length)return s=Hi,a=Ui,3===o&&(i=n,r=e,n=e=0),l(t);function l(t){var l,u,c,d,h,f,p,g,m,v=be(s),y=be(a);if(null!=e)f=e,p=n,g=r,m=i;else if(g=m=-(f=p=1/0),u=[],c=[],h=t.length,o)for(d=0;d<h;++d)(l=t[d]).x<f&&(f=l.x),l.y<p&&(p=l.y),l.x>g&&(g=l.x),l.y>m&&(m=l.y),u.push(l.x),c.push(l.y);else for(d=0;d<h;++d){var b=+v(l=t[d],d),x=+y(l,d);b<f&&(f=b),x<p&&(p=x),b>g&&(g=b),x>m&&(m=x),u.push(b),c.push(x)}var _=g-f,C=m-p;function k(t,e,n,r,i,o,s,a){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var l=t.x,u=t.y;if(null!=l)if(w(l-n)+w(u-r)<.01)M(t,e,n,r,i,o,s,a);else{var c=t.point;t.x=t.y=t.point=null,M(t,c,l,u,i,o,s,a),M(t,e,n,r,i,o,s,a)}else t.x=n,t.y=r,t.point=e}else M(t,e,n,r,i,o,s,a)}function M(t,e,n,r,i,o,s,a){var l=.5*(i+s),u=.5*(o+a),c=n>=l,d=r>=u,h=d<<1|c;t.leaf=!1,t=t.nodes[h]||(t.nodes[h]={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){k(E,t,+v(t,++d),+y(t,d),f,p,g,m)},visit:function(t){!function t(e,n,r,i,o,s){if(!e(n,r,i,o,s)){var a=.5*(r+o),l=.5*(i+s),u=n.nodes;u[0]&&t(e,u[0],r,i,a,l),u[1]&&t(e,u[1],a,i,o,l),u[2]&&t(e,u[2],r,l,a,s),u[3]&&t(e,u[3],a,l,o,s)}}(t,E,f,p,g,m)},find:function(t){return function(t,e,n,r,i,o,s){var a,l=1/0;return function t(u,c,d,h,f){if(!(c>o||d>s||h<r||f<i)){if(p=u.point){var p,g=e-u.x,m=n-u.y,v=g*g+m*m;if(v<l){var y=Math.sqrt(l=v);r=e-y,i=n-y,o=e+y,s=n+y,a=p}}for(var b=u.nodes,x=.5*(c+h),_=.5*(d+f),w=(n>=_)<<1|e>=x,C=w+4;w<C;++w)if(u=b[3&w])switch(3&w){case 0:t(u,c,d,x,_);break;case 1:t(u,x,d,h,_);break;case 2:t(u,c,_,x,f);break;case 3:t(u,x,_,h,f)}}}(t,r,i,o,s),a}(E,t[0],t[1],f,p,g,m)}}),c?i=l:s=l,d?o=u:a=u,k(t,e,n,r,i,o,s,a)}_>C?m=p+_:g=f+C;var E={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){k(E,t,+v(t,++d),+y(t,d),f,p,g,m)},visit:function(t){!function t(e,n,r,i,o,s){if(!e(n,r,i,o,s)){var a=.5*(r+o),l=.5*(i+s),u=n.nodes;u[0]&&t(e,u[0],r,i,a,l),u[1]&&t(e,u[1],a,i,o,l),u[2]&&t(e,u[2],r,l,a,s),u[3]&&t(e,u[3],a,l,o,s)}}(t,E,f,p,g,m)},find:function(t){return function(t,e,n,r,i,o,s){var a,l=1/0;return function t(u,c,d,h,f){if(!(c>o||d>s||h<r||f<i)){if(p=u.point){var p,g=e-u.x,m=n-u.y,v=g*g+m*m;if(v<l){var y=Math.sqrt(l=v);r=e-y,i=n-y,o=e+y,s=n+y,a=p}}for(var b=u.nodes,x=.5*(c+h),_=.5*(d+f),w=(n>=_)<<1|e>=x,C=w+4;w<C;++w)if(u=b[3&w])switch(3&w){case 0:t(u,c,d,x,_);break;case 1:t(u,x,d,h,_);break;case 2:t(u,c,_,x,f);break;case 3:t(u,x,_,h,f)}}}(t,r,i,o,s),a}(E,t[0],t[1],f,p,g,m)}};if(d=-1,null==e){for(;++d<h;)k(E,t[d],u[d],c[d],f,p,g,m);--d}else t.forEach(E.add);return u=c=t=l=null,E}return l.x=function(t){return arguments.length?(s=t,l):s},l.y=function(t){return arguments.length?(a=t,l):a},l.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),l):null==e?null:[[e,n],[r,i]]},l.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),l):null==e?null:[r-e,i-n]},l},o.interpolateRgb=Bi,o.interpolateObject=$i,o.interpolateNumber=qi,o.interpolateString=Gi;var Zi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yi=new RegExp(Zi.source,"g");function Xi(t,e){for(var n,r=o.interpolators.length;--r>=0&&!(n=o.interpolators[r](t,e)););return n}function Ki(t,e){var n,r=[],i=[],o=t.length,s=e.length,a=Math.min(t.length,e.length);for(n=0;n<a;++n)r.push(Xi(t[n],e[n]));for(;n<o;++n)i[n]=t[n];for(;n<s;++n)i[n]=e[n];return function(t){for(n=0;n<a;++n)i[n]=r[n](t);return i}}o.interpolate=Xi,o.interpolators=[function(t,e){var n=typeof e;return("string"===n?ye.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?Bi:Gi:e instanceof $t?Bi:Array.isArray(e)?Ki:"object"===n&&isNaN(e)?$i:qi)(t,e)}],o.interpolateArray=Ki;var Qi=function(){return D},Ji=o.map({linear:Qi,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return ro},cubic:function(){return io},sin:function(){return so},exp:function(){return ao},circle:function(){return lo},elastic:function(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Nt*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Nt/e)}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},bounce:function(){return uo}}),to=o.map({in:D,out:eo,"in-out":no,"out-in":function(t){return no(eo(t))}});function eo(t){return function(e){return 1-t(1-e)}}function no(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function ro(t){return t*t}function io(t){return t*t*t}function oo(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function so(t){return 1-Math.cos(t*Pt)}function ao(t){return Math.pow(2,10*(t-1))}function lo(t){return 1-Math.sqrt(1-t*t)}function uo(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function co(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function ho(t){var e=[t.a,t.b],n=[t.c,t.d],r=po(e),i=fo(e,n),o=po(function(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Rt,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Rt:0}function fo(t,e){return t[0]*e[0]+t[1]*e[1]}function po(t){var e=Math.sqrt(fo(t,t));return e&&(t[0]/=e,t[1]/=e),e}o.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=Ji.get(n)||Qi,function(t){return function(e){return e<=0?0:e>=1?1:t(e)}}((r=to.get(r)||D)(n.apply(null,s.call(arguments,1))))},o.interpolateHcl=function(t,e){t=o.hcl(t),e=o.hcl(e);var n=t.h,r=t.c,i=t.l,s=e.h-n,a=e.c-r,l=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(s)?(s=0,n=isNaN(n)?e.h:n):s>180?s-=360:s<-180&&(s+=360),function(t){return Kt(n+s*t,r+a*t,i+l*t)+""}},o.interpolateHsl=function(t,e){t=o.hsl(t),e=o.hsl(e);var n=t.h,r=t.s,i=t.l,s=e.h-n,a=e.s-r,l=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(s)?(s=0,n=isNaN(n)?e.h:n):s>180?s-=360:s<-180&&(s+=360),function(t){return Zt(n+s*t,r+a*t,i+l*t)+""}},o.interpolateLab=function(t,e){t=o.lab(t),e=o.lab(e);var n=t.l,r=t.a,i=t.b,s=e.l-n,a=e.a-r,l=e.b-i;return function(t){return ie(n+s*t,r+a*t,i+l*t)+""}},o.interpolateRound=co,o.transform=function(t){var e=l.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new ho(n?n.matrix:go)})(t)},ho.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var go={a:1,b:0,c:0,d:1,e:0,f:0};function mo(t){return t.length?t.pop()+",":""}function vo(t,e){var n=[],r=[];return t=o.transform(t),e=o.transform(e),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:qi(t[0],e[0])},{i:i-2,x:qi(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(t.translate,e.translate,n,r),function(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(mo(n)+"rotate(",null,")")-2,x:qi(t,e)})):e&&n.push(mo(n)+"rotate("+e+")")}(t.rotate,e.rotate,n,r),function(t,e,n,r){t!==e?r.push({i:n.push(mo(n)+"skewX(",null,")")-2,x:qi(t,e)}):e&&n.push(mo(n)+"skewX("+e+")")}(t.skew,e.skew,n,r),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(mo(n)+"scale(",null,",",null,")");r.push({i:i-4,x:qi(t[0],e[0])},{i:i-2,x:qi(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(mo(n)+"scale("+e+")")}(t.scale,e.scale,n,r),t=e=null,function(t){for(var e,i=-1,o=r.length;++i<o;)n[(e=r[i]).i]=e.x(t);return n.join("")}}function yo(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function bo(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function xo(t){for(var e=t.source,n=t.target,r=function(t,e){if(t===e)return t;for(var n=_o(t),r=_o(e),i=n.pop(),o=r.pop(),s=null;i===o;)s=i,i=n.pop(),o=r.pop();return s}(e,n),i=[e];e!==r;)i.push(e=e.parent);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function _o(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function wo(t){t.fixed|=2}function Co(t){t.fixed&=-7}function ko(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Mo(t){t.fixed&=-5}o.interpolateTransform=vo,o.layout={},o.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(xo(t[n]));return e}},o.layout.chord=function(){var t,e,n,r,i,s,a,l={},u=0;function c(){var l,c,h,f,p,g={},m=[],v=o.range(r),y=[];for(t=[],e=[],l=0,f=-1;++f<r;){for(c=0,p=-1;++p<r;)c+=n[f][p];m.push(c),y.push(o.range(r)),l+=c}for(i&&v.sort(function(t,e){return i(m[t],m[e])}),s&&y.forEach(function(t,e){t.sort(function(t,r){return s(n[e][t],n[e][r])})}),l=(Nt-u*r)/l,c=0,f=-1;++f<r;){for(h=c,p=-1;++p<r;){var b=v[f],x=y[b][p],_=n[b][x],w=c,C=c+=_*l;g[b+"-"+x]={index:b,subindex:x,startAngle:w,endAngle:C,value:_}}e[b]={index:b,startAngle:h,endAngle:c,value:m[b]},c+=u}for(f=-1;++f<r;)for(p=f-1;++p<r;){var k=g[f+"-"+p],M=g[p+"-"+f];(k.value||M.value)&&t.push(k.value<M.value?{source:M,target:k}:{source:k,target:M})}a&&d()}function d(){t.sort(function(t,e){return a((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}return l.matrix=function(i){return arguments.length?(r=(n=i)&&n.length,t=e=null,l):n},l.padding=function(n){return arguments.length?(u=n,t=e=null,l):u},l.sortGroups=function(n){return arguments.length?(i=n,t=e=null,l):i},l.sortSubgroups=function(e){return arguments.length?(s=e,t=null,l):s},l.sortChords=function(e){return arguments.length?(a=e,t&&d(),l):a},l.chords=function(){return t||c(),t},l.groups=function(){return e||c(),e},l},o.layout.force=function(){var t,e,n,r,i,s,a={},l=o.dispatch("start","tick","end"),u=[1,1],c=.9,d=Eo,h=Ao,f=-30,p=So,g=.1,m=.64,v=[],y=[];function b(t){return function(e,n,r,i){if(e.point!==t){var o,s=e.cx-t.x,a=e.cy-t.y,l=i-n,u=s*s+a*a;if(l*l/m<u)return u<p&&(t.px-=s*(o=e.charge/u),t.py-=a*o),!0;e.point&&u&&u<p&&(t.px-=s*(o=e.pointCharge/u),t.py-=a*o)}return!e.charge}}function x(t){t.px=o.event.x,t.py=o.event.y,a.resume()}return a.tick=function(){if((n*=.99)<.005)return t=null,l.end({type:"end",alpha:n=0}),!0;var e,a,d,h,p,m,x,_,w,C=v.length,k=y.length;for(a=0;a<k;++a)(m=(_=(p=(d=y[a]).target).x-(h=d.source).x)*_+(w=p.y-h.y)*w)&&(w*=m=n*i[a]*((m=Math.sqrt(m))-r[a])/m,p.x-=(_*=m)*(x=h.weight+p.weight?h.weight/(h.weight+p.weight):.5),p.y-=w*x,h.x+=_*(x=1-x),h.y+=w*x);if((x=n*g)&&(_=u[0]/2,w=u[1]/2,a=-1,x))for(;++a<C;)(d=v[a]).x+=(_-d.x)*x,d.y+=(w-d.y)*x;if(f)for(function t(e,n,r){var i=0,o=0;if(e.charge=0,!e.leaf)for(var s,a=e.nodes,l=a.length,u=-1;++u<l;)null!=(s=a[u])&&(t(s,n,r),e.charge+=s.charge,i+=s.charge*s.cx,o+=s.charge*s.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=n*r[e.point.index];e.charge+=e.pointCharge=c,i+=c*e.point.x,o+=c*e.point.y}e.cx=i/e.charge,e.cy=o/e.charge}(e=o.geom.quadtree(v),n,s),a=-1;++a<C;)(d=v[a]).fixed||e.visit(b(d));for(a=-1;++a<C;)(d=v[a]).fixed?(d.x=d.px,d.y=d.py):(d.x-=(d.px-(d.px=d.x))*c,d.y-=(d.py-(d.py=d.y))*c);l.tick({type:"tick",alpha:n})},a.nodes=function(t){return arguments.length?(v=t,a):v},a.links=function(t){return arguments.length?(y=t,a):y},a.size=function(t){return arguments.length?(u=t,a):u},a.linkDistance=function(t){return arguments.length?(d="function"==typeof t?t:+t,a):d},a.distance=a.linkDistance,a.linkStrength=function(t){return arguments.length?(h="function"==typeof t?t:+t,a):h},a.friction=function(t){return arguments.length?(c=+t,a):c},a.charge=function(t){return arguments.length?(f="function"==typeof t?t:+t,a):f},a.chargeDistance=function(t){return arguments.length?(p=t*t,a):Math.sqrt(p)},a.gravity=function(t){return arguments.length?(g=+t,a):g},a.theta=function(t){return arguments.length?(m=t*t,a):Math.sqrt(m)},a.alpha=function(e){return arguments.length?(e=+e,n?e>0?n=e:(t.c=null,t.t=NaN,t=null,l.end({type:"end",alpha:n=0})):e>0&&(l.start({type:"start",alpha:n=e}),t=Ae(a.tick)),a):n},a.start=function(){var t,e,n,o=v.length,l=y.length,c=u[0],p=u[1];for(t=0;t<o;++t)(n=v[t]).index=t,n.weight=0;for(t=0;t<l;++t)"number"==typeof(n=y[t]).source&&(n.source=v[n.source]),"number"==typeof n.target&&(n.target=v[n.target]),++n.source.weight,++n.target.weight;for(t=0;t<o;++t)n=v[t],isNaN(n.x)&&(n.x=g("x",c)),isNaN(n.y)&&(n.y=g("y",p)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(r=[],"function"==typeof d)for(t=0;t<l;++t)r[t]=+d.call(this,y[t],t);else for(t=0;t<l;++t)r[t]=d;if(i=[],"function"==typeof h)for(t=0;t<l;++t)i[t]=+h.call(this,y[t],t);else for(t=0;t<l;++t)i[t]=h;if(s=[],"function"==typeof f)for(t=0;t<o;++t)s[t]=+f.call(this,v[t],t);else for(t=0;t<o;++t)s[t]=f;function g(n,r){if(!e){for(e=new Array(o),u=0;u<o;++u)e[u]=[];for(u=0;u<l;++u){var i=y[u];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var s,a=e[t],u=-1,c=a.length;++u<c;)if(!isNaN(s=a[u][n]))return s;return Math.random()*r}return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){if(e||(e=o.behavior.drag().origin(D).on("dragstart.force",wo).on("drag.force",x).on("dragend.force",Co)),!arguments.length)return e;this.on("mouseover.force",ko).on("mouseout.force",Mo).call(e)},o.rebind(a,l,"on")};var Eo=20,Ao=1,So=1/0;function To(t,e){return o.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=Do,t}function No(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Oo(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,s=-1;++s<i;)n.push(o[s]);for(;null!=(t=r.pop());)e(t)}function Po(t){return t.children}function Io(t){return t.value}function Ro(t,e){return e.value-t.value}function Do(t){return o.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}o.layout.hierarchy=function(){var t=Ro,e=Po,n=Io;function r(i){var o,s=[i],a=[];for(i.depth=0;null!=(o=s.pop());)if(a.push(o),(u=e.call(r,o,o.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)s.push(c=u[l]),c.parent=o,c.depth=o.depth+1;n&&(o.value=0),o.children=u}else n&&(o.value=+n.call(r,o,o.depth)||0),delete o.children;return Oo(i,function(e){var r,i;t&&(r=e.children)&&r.sort(t),n&&(i=e.parent)&&(i.value+=e.value)}),a}return r.sort=function(e){return arguments.length?(t=e,r):t},r.children=function(t){return arguments.length?(e=t,r):e},r.value=function(t){return arguments.length?(n=t,r):n},r.revalue=function(t){return n&&(No(t,function(t){t.children&&(t.value=0)}),Oo(t,function(t){var e;t.children||(t.value=+n.call(r,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},r},o.layout.partition=function(){var t=o.layout.hierarchy(),e=[1,1];function n(n,r){var i=t.call(this,n,r);return function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(s=o.length)){var s,a,l,u=-1;for(r=e.value?r/e.value:0;++u<s;)t(a=o[u],n,l=a.value*r,i),n+=l}}(i[0],0,e[0],e[1]/function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(n[o]));return 1+r}(i[0])),i}return n.size=function(t){return arguments.length?(e=t,n):e},To(n,t)},o.layout.pie=function(){var t=Number,e=Vo,n=0,r=Nt,i=0;function s(a){var l,u=a.length,c=a.map(function(e,n){return+t.call(s,e,n)}),d=+("function"==typeof n?n.apply(this,arguments):n),h=("function"==typeof r?r.apply(this,arguments):r)-d,f=Math.min(Math.abs(h)/u,+("function"==typeof i?i.apply(this,arguments):i)),p=f*(h<0?-1:1),g=o.sum(c),m=g?(h-u*p)/g:0,v=o.range(u),y=[];return null!=e&&v.sort(e===Vo?function(t,e){return c[e]-c[t]}:function(t,n){return e(a[t],a[n])}),v.forEach(function(t){y[t]={data:a[t],value:l=c[t],startAngle:d,endAngle:d+=l*m+p,padAngle:f}}),y}return s.value=function(e){return arguments.length?(t=e,s):t},s.sort=function(t){return arguments.length?(e=t,s):e},s.startAngle=function(t){return arguments.length?(n=t,s):n},s.endAngle=function(t){return arguments.length?(r=t,s):r},s.padAngle=function(t){return arguments.length?(i=t,s):i},s};var Vo={};function Lo(t){return t.x}function Fo(t){return t.y}function jo(t,e,n){t.y0=e,t.y=n}o.layout.stack=function(){var t=D,e=Ho,n=Uo,r=jo,i=Lo,s=Fo;function a(l,u){if(!(f=l.length))return l;var c=l.map(function(e,n){return t.call(a,e,n)}),d=c.map(function(t){return t.map(function(t,e){return[i.call(a,t,e),s.call(a,t,e)]})}),h=e.call(a,d,u);c=o.permute(c,h),d=o.permute(d,h);var f,p,g,m,v=n.call(a,d,u),y=c[0].length;for(g=0;g<y;++g)for(r.call(a,c[0][g],m=v[g],d[0][g][1]),p=1;p<f;++p)r.call(a,c[p][g],m+=d[p-1][g][1],d[p][g][1]);return l}return a.values=function(e){return arguments.length?(t=e,a):t},a.order=function(t){return arguments.length?(e="function"==typeof t?t:zo.get(t)||Ho,a):e},a.offset=function(t){return arguments.length?(n="function"==typeof t?t:Wo.get(t)||Uo,a):n},a.x=function(t){return arguments.length?(i=t,a):i},a.y=function(t){return arguments.length?(s=t,a):s},a.out=function(t){return arguments.length?(r=t,a):r},a};var zo=o.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(Bo),s=t.map($o),a=o.range(r).sort(function(t,e){return i[t]-i[e]}),l=0,u=0,c=[],d=[];for(e=0;e<r;++e)n=a[e],l<u?(l+=s[n],c.push(n)):(u+=s[n],d.push(n));return d.reverse().concat(c)},reverse:function(t){return o.range(t.length).reverse()},default:Ho}),Wo=o.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,s=[],a=0,l=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>a&&(a=r),s.push(r)}for(n=0;n<o;++n)l[n]=(a-s[n])/2;return l},wiggle:function(t){var e,n,r,i,o,s,a,l,u,c=t.length,d=t[0],h=d.length,f=[];for(f[0]=l=u=0,n=1;n<h;++n){for(e=0,i=0;e<c;++e)i+=t[e][n][1];for(e=0,o=0,a=d[n][0]-d[n-1][0];e<c;++e){for(r=0,s=(t[e][n][1]-t[e][n-1][1])/(2*a);r<e;++r)s+=(t[r][n][1]-t[r][n-1][1])/a;o+=s*t[e][n][1]}f[n]=l-=i?o/i*a:0,l<u&&(u=l)}for(n=0;n<h;++n)f[n]-=u;return f},expand:function(t){var e,n,r,i=t.length,o=t[0].length,s=1/i,a=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=s}for(n=0;n<o;++n)a[n]=0;return a},zero:Uo});function Ho(t){return o.range(t.length)}function Uo(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function Bo(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function $o(t){return t.reduce(qo,0)}function qo(t,e){return t+e[1]}function Go(t,e){return Zo(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Zo(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function Yo(t){return[o.min(t),o.max(t)]}function Xo(t,e){return t.value-e.value}function Ko(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Qo(t,e){t._pack_next=e,e._pack_prev=t}function Jo(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function ts(t){if((e=t.children)&&(l=e.length)){var e,n,r,i,o,s,a,l,u=1/0,c=-1/0,d=1/0,h=-1/0;if(e.forEach(es),(n=e[0]).x=-n.r,n.y=0,b(n),l>1&&((r=e[1]).x=r.r,r.y=0,b(r),l>2))for(rs(n,r,i=e[2]),b(i),Ko(n,i),n._pack_prev=i,Ko(i,r),r=n._pack_next,o=3;o<l;o++){rs(n,r,i=e[o]);var f=0,p=1,g=1;for(s=r._pack_next;s!==r;s=s._pack_next,p++)if(Jo(s,i)){f=1;break}if(1==f)for(a=n._pack_prev;a!==s._pack_prev&&!Jo(a,i);a=a._pack_prev,g++);f?(p<g||p==g&&r.r<n.r?Qo(n,r=s):Qo(n=a,r),o--):(Ko(n,i),r=i,b(i))}var m=(u+c)/2,v=(d+h)/2,y=0;for(o=0;o<l;o++)(i=e[o]).x-=m,i.y-=v,y=Math.max(y,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=y,e.forEach(ns)}function b(t){u=Math.min(t.x-t.r,u),c=Math.max(t.x+t.r,c),d=Math.min(t.y-t.r,d),h=Math.max(t.y+t.r,h)}}function es(t){t._pack_next=t._pack_prev=t}function ns(t){delete t._pack_next,delete t._pack_prev}function rs(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var s=e.r+n.r,a=i*i+o*o,l=.5+((r*=r)-(s*=s))/(2*a),u=Math.sqrt(Math.max(0,2*s*(r+a)-(r-=a)*r-s*s))/(2*a);n.x=t.x+l*i+u*o,n.y=t.y+l*o-u*i}else n.x=t.x+r,n.y=t.y}function is(t,e){return t.parent==e.parent?1:2}function os(t){var e=t.children;return e.length?e[0]:t.t}function ss(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function as(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function ls(t,e,n){return t.a.parent===e.parent?t.a:n}function us(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function cs(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function ds(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function hs(t){return t.rangeExtent?t.rangeExtent():ds(t.range())}function fs(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function ps(t,e){var n,r=0,i=t.length-1,o=t[r],s=t[i];return s<o&&(n=r,r=i,i=n,n=o,o=s,s=n),t[r]=e.floor(o),t[i]=e.ceil(s),t}function gs(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:ms}o.layout.histogram=function(){var t=!0,e=Number,n=Yo,r=Go;function i(i,s){for(var a,l,u=[],c=i.map(e,this),d=n.call(this,c,s),h=r.call(this,d,c,s),f=(s=-1,c.length),p=h.length-1,g=t?1:1/f;++s<p;)(a=u[s]=[]).dx=h[s+1]-(a.x=h[s]),a.y=0;if(p>0)for(s=-1;++s<f;)(l=c[s])>=d[0]&&l<=d[1]&&((a=u[o.bisect(h,l,1,p)-1]).y+=g,a.push(i[s]));return u}return i.value=function(t){return arguments.length?(e=t,i):e},i.range=function(t){return arguments.length?(n=be(t),i):n},i.bins=function(t){return arguments.length?(r="number"==typeof t?function(e){return Zo(e,t)}:be(t),i):r},i.frequency=function(e){return arguments.length?(t=!!e,i):t},i},o.layout.pack=function(){var t,e=o.layout.hierarchy().sort(Xo),n=0,r=[1,1];function i(i,o){var s=e.call(this,i,o),a=s[0],l=r[0],u=r[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(a.x=a.y=0,Oo(a,function(t){t.r=+c(t.value)}),Oo(a,ts),n){var d=n*(t?1:Math.max(2*a.r/l,2*a.r/u))/2;Oo(a,function(t){t.r+=d}),Oo(a,ts),Oo(a,function(t){t.r-=d})}return function t(e,n,r,i){var o=e.children;if(e.x=n+=i*e.x,e.y=r+=i*e.y,e.r*=i,o)for(var s=-1,a=o.length;++s<a;)t(o[s],n,r,i)}(a,l/2,u/2,t?1:1/Math.max(2*a.r/l,2*a.r/u)),s}return i.size=function(t){return arguments.length?(r=t,i):r},i.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,i):t},i.padding=function(t){return arguments.length?(n=+t,i):n},To(i,e)},o.layout.tree=function(){var t=o.layout.hierarchy().sort(null).value(null),e=is,n=[1,1],r=null;function i(i,o){var u=t.call(this,i,o),c=u[0],d=function(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,o=e.children,s=0,a=o.length;s<a;++s)r.push((o[s]=i={_:o[s],parent:e,children:(i=o[s].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=i);return n.children[0]}(c);if(Oo(d,s),d.parent.m=-d.z,No(d,a),r)No(c,l);else{var h=c,f=c,p=c;No(c,function(t){t.x<h.x&&(h=t),t.x>f.x&&(f=t),t.depth>p.depth&&(p=t)});var g=e(h,f)/2-h.x,m=n[0]/(f.x+e(f,h)/2+g),v=n[1]/(p.depth||1);No(c,function(t){t.x=(t.x+g)*m,t.y=t.depth*v})}return u}function s(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n.length){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,o=t,s=t,a=n,l=o.parent.children[0],u=o.m,c=s.m,d=a.m,h=l.m;a=ss(a),o=os(o),a&&o;)l=os(l),(s=ss(s)).a=t,(i=a.z+d-o.z-u+e(a._,o._))>0&&(as(ls(a,t,r),t,i),u+=i,c+=i),d+=a.m,u+=o.m,h+=l.m,c+=s.m;a&&!ss(s)&&(s.t=a,s.m+=d-c),o&&!os(l)&&(l.t=o,l.m+=u-h,r=t)}return r}(t,i,t.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function l(t){t.x*=n[0],t.y=t.depth*n[1]}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(r=null==(n=t)?l:null,i):r?null:n},i.nodeSize=function(t){return arguments.length?(r=null==(n=t)?null:l,i):r?n:null},To(i,t)},o.layout.cluster=function(){var t=o.layout.hierarchy().sort(null).value(null),e=is,n=[1,1],r=!1;function i(i,s){var a,l=t.call(this,i,s),u=l[0],c=0;Oo(u,function(t){var n=t.children;n&&n.length?(t.x=function(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}(n),t.y=function(t){return 1+o.max(t,function(t){return t.y})}(n)):(t.x=a?c+=e(t,a):0,t.y=0,a=t)});var d=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(u),h=function t(e){var n,r=e.children;return r&&(n=r.length)?t(r[n-1]):e}(u),f=d.x-e(d,h)/2,p=h.x+e(h,d)/2;return Oo(u,r?function(t){t.x=(t.x-u.x)*n[0],t.y=(u.y-t.y)*n[1]}:function(t){t.x=(t.x-f)/(p-f)*n[0],t.y=(1-(u.y?t.y/u.y:1))*n[1]}),l}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(r=null==(n=t),i):r?null:n},i.nodeSize=function(t){return arguments.length?(r=null!=(n=t),i):r?n:null},To(i,t)},o.layout.treemap=function(){var t,e=o.layout.hierarchy(),n=Math.round,r=[1,1],i=null,s=us,a=!1,l="squarify",u=.5*(1+Math.sqrt(5));function c(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function d(t){var e=t.children;if(e&&e.length){var n,r,i,o=s(t),a=[],u=e.slice(),h=1/0,g="slice"===l?o.dx:"dice"===l?o.dy:"slice-dice"===l?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(c(u,o.dx*o.dy/t.value),a.area=0;(i=u.length)>0;)a.push(n=u[i-1]),a.area+=n.area,"squarify"!==l||(r=f(a,g))<=h?(u.pop(),h=r):(a.area-=a.pop().area,p(a,g,o,!1),g=Math.min(o.dx,o.dy),a.length=a.area=0,h=1/0);a.length&&(p(a,g,o,!0),a.length=a.area=0),e.forEach(d)}}function h(t){var e=t.children;if(e&&e.length){var n,r=s(t),i=e.slice(),o=[];for(c(i,r.dx*r.dy/t.value),o.area=0;n=i.pop();)o.push(n),o.area+=n.area,null!=n.z&&(p(o,n.z?r.dx:r.dy,r,!i.length),o.length=o.area=0);e.forEach(h)}}function f(t,e){for(var n,r=t.area,i=0,o=1/0,s=-1,a=t.length;++s<a;)(n=t[s].area)&&(n<o&&(o=n),n>i&&(i=n));return e*=e,(r*=r)?Math.max(e*i*u/r,r/(e*o*u)):1/0}function p(t,e,r,i){var o,s=-1,a=t.length,l=r.x,u=r.y,c=e?n(t.area/e):0;if(e==r.dx){for((i||c>r.dy)&&(c=r.dy);++s<a;)(o=t[s]).x=l,o.y=u,o.dy=c,l+=o.dx=Math.min(r.x+r.dx-l,c?n(o.area/c):0);o.z=!0,o.dx+=r.x+r.dx-l,r.y+=c,r.dy-=c}else{for((i||c>r.dx)&&(c=r.dx);++s<a;)(o=t[s]).x=l,o.y=u,o.dx=c,u+=o.dy=Math.min(r.y+r.dy-u,c?n(o.area/c):0);o.z=!1,o.dy+=r.y+r.dy-u,r.x+=c,r.dx-=c}}function g(n){var i=t||e(n),o=i[0];return o.x=o.y=0,o.value?(o.dx=r[0],o.dy=r[1]):o.dx=o.dy=0,t&&e.revalue(o),c([o],o.dx*o.dy/o.value),(t?h:d)(o),a&&(t=i),i}return g.size=function(t){return arguments.length?(r=t,g):r},g.padding=function(t){if(!arguments.length)return i;function e(e){return cs(e,t)}var n;return s=null==(i=t)?us:"function"==(n=typeof t)?function(e){var n=t.call(g,e,e.depth);return null==n?us(e):cs(e,"number"==typeof n?[n,n,n,n]:n)}:"number"===n?(t=[t,t,t,t],e):e,g},g.round=function(t){return arguments.length?(n=t?Math.round:Number,g):n!=Number},g.sticky=function(e){return arguments.length?(a=e,t=null,g):a},g.ratio=function(t){return arguments.length?(u=t,g):u},g.mode=function(t){return arguments.length?(l=t+"",g):l},To(g,e)},o.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=o.random.normal.apply(o,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=o.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},o.scale={};var ms={floor:D,ceil:D};function vs(t,e,n,r){var i=[],s=[],a=0,l=Math.min(t.length,e.length)-1;for(t[l]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=l;)i.push(n(t[a-1],t[a])),s.push(r(e[a-1],e[a]));return function(e){var n=o.bisect(t,e,1,l)-1;return s[n](i[n](e))}}function ys(t,e){return o.rebind(t,e,"range","rangeRound","interpolate","clamp")}function bs(t,e){return ps(t,gs(xs(t,e)[2])),ps(t,gs(xs(t,e)[2])),t}function xs(t,e){null==e&&(e=10);var n=ds(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function _s(t,e){return o.range.apply(o,xs(t,e))}function ws(t,e,n){var r=xs(t,e);if(n){var i=Ie.exec(n);if(i.shift(),"s"===i[8]){var s=o.formatPrefix(Math.max(w(r[0]),w(r[1])));return i[7]||(i[7]="."+ks(s.scale(r[2]))),i[8]="f",n=o.format(i.join("")),function(t){return n(s.scale(t))+s.symbol}}i[7]||(i[7]="."+function(t,e){var n=ks(e[2]);return t in Cs?Math.abs(n-ks(Math.max(w(e[0]),w(e[1]))))+ +("e"!==t):n-2*("%"===t)}(i[8],r)),n=i.join("")}else n=",."+ks(r[2])+"f";return o.format(n)}o.scale.linear=function(){return function t(e,n,r,i){var o,s;function a(){var t=Math.min(e.length,n.length)>2?vs:fs,a=i?bo:yo;return o=t(e,n,a,r),s=t(n,e,a,Xi),l}function l(t){return o(t)}return l.invert=function(t){return s(t)},l.domain=function(t){return arguments.length?(e=t.map(Number),a()):e},l.range=function(t){return arguments.length?(n=t,a()):n},l.rangeRound=function(t){return l.range(t).interpolate(co)},l.clamp=function(t){return arguments.length?(i=t,a()):i},l.interpolate=function(t){return arguments.length?(r=t,a()):r},l.ticks=function(t){return _s(e,t)},l.tickFormat=function(t,n){return ws(e,t,n)},l.nice=function(t){return bs(e,t),a()},l.copy=function(){return t(e,n,r,i)},a()}([0,1],[0,1],Xi,!1)};var Cs={s:1,g:1,p:1,r:1,e:1};function ks(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}o.scale.log=function(){return function t(e,n,r,i){function s(t){return(r?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function a(t){return r?Math.pow(n,t):-Math.pow(n,-t)}function l(t){return e(s(t))}return l.invert=function(t){return a(e.invert(t))},l.domain=function(t){return arguments.length?(r=t[0]>=0,e.domain((i=t.map(Number)).map(s)),l):i},l.base=function(t){return arguments.length?(n=+t,e.domain(i.map(s)),l):n},l.nice=function(){var t=ps(i.map(s),r?Math:Es);return e.domain(t),i=t.map(a),l},l.ticks=function(){var t=ds(i),e=[],o=t[0],l=t[1],u=Math.floor(s(o)),c=Math.ceil(s(l)),d=n%1?2:n;if(isFinite(c-u)){if(r){for(;u<c;u++)for(var h=1;h<d;h++)e.push(a(u)*h);e.push(a(u))}else for(e.push(a(u));u++<c;)for(h=d-1;h>0;h--)e.push(a(u)*h);for(u=0;e[u]<o;u++);for(c=e.length;e[c-1]>l;c--);e=e.slice(u,c)}return e},l.tickFormat=function(t,e){if(!arguments.length)return Ms;arguments.length<2?e=Ms:"function"!=typeof e&&(e=o.format(e));var r=Math.max(1,n*t/l.ticks().length);return function(t){var i=t/a(Math.round(s(t)));return i*n<n-.5&&(i*=n),i<=r?e(t):""}},l.copy=function(){return t(e.copy(),n,r,i)},ys(l,e)}(o.scale.linear().domain([0,1]),10,!0,[1,10])};var Ms=o.format(".0e"),Es={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function As(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}o.scale.pow=function(){return function t(e,n,r){var i=As(n),o=As(1/n);function s(t){return e(i(t))}return s.invert=function(t){return o(e.invert(t))},s.domain=function(t){return arguments.length?(e.domain((r=t.map(Number)).map(i)),s):r},s.ticks=function(t){return _s(r,t)},s.tickFormat=function(t,e){return ws(r,t,e)},s.nice=function(t){return s.domain(bs(r,t))},s.exponent=function(t){return arguments.length?(i=As(n=t),o=As(1/n),e.domain(r.map(i)),s):n},s.copy=function(){return t(e.copy(),n,r)},ys(s,e)}(o.scale.linear(),1,[0,1])},o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return function t(e,n){var r,i,s;function a(t){return i[((r.get(t)||("range"===n.t?r.set(t,e.push(t)):NaN))-1)%i.length]}function l(t,n){return o.range(e.length).map(function(e){return t+n*e})}return a.domain=function(t){if(!arguments.length)return e;e=[],r=new k;for(var i,o=-1,s=t.length;++o<s;)r.has(i=t[o])||r.set(i,e.push(i));return a[n.t].apply(a,n.a)},a.range=function(t){return arguments.length?(i=t,s=0,n={t:"range",a:arguments},a):i},a.rangePoints=function(t,r){arguments.length<2&&(r=0);var o=t[0],u=t[1],c=e.length<2?(o=(o+u)/2,0):(u-o)/(e.length-1+r);return i=l(o+c*r/2,c),s=0,n={t:"rangePoints",a:arguments},a},a.rangeRoundPoints=function(t,r){arguments.length<2&&(r=0);var o=t[0],u=t[1],c=e.length<2?(o=u=Math.round((o+u)/2),0):(u-o)/(e.length-1+r)|0;return i=l(o+Math.round(c*r/2+(u-o-(e.length-1+r)*c)/2),c),s=0,n={t:"rangeRoundPoints",a:arguments},a},a.rangeBands=function(t,r,o){arguments.length<2&&(r=0),arguments.length<3&&(o=r);var u=t[1]<t[0],c=t[u-0],d=(t[1-u]-c)/(e.length-r+2*o);return i=l(c+d*o,d),u&&i.reverse(),s=d*(1-r),n={t:"rangeBands",a:arguments},a},a.rangeRoundBands=function(t,r,o){arguments.length<2&&(r=0),arguments.length<3&&(o=r);var u=t[1]<t[0],c=t[u-0],d=t[1-u],h=Math.floor((d-c)/(e.length-r+2*o));return i=l(c+Math.round((d-c-(e.length-r)*h)/2),h),u&&i.reverse(),s=Math.round(h*(1-r)),n={t:"rangeRoundBands",a:arguments},a},a.rangeBand=function(){return s},a.rangeExtent=function(){return ds(n.a[0])},a.copy=function(){return t(e,n)},a.domain(e)}([],{t:"range",a:[[]]})},o.scale.category10=function(){return o.scale.ordinal().range(Ss)},o.scale.category20=function(){return o.scale.ordinal().range(Ts)},o.scale.category20b=function(){return o.scale.ordinal().range(Ns)},o.scale.category20c=function(){return o.scale.ordinal().range(Os)};var Ss=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ce),Ts=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ce),Ns=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ce),Os=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ce);function Ps(){return 0}o.scale.quantile=function(){return function t(e,n){var r;function i(){var t=0,i=n.length;for(r=[];++t<i;)r[t-1]=o.quantile(e,t/i);return s}function s(t){if(!isNaN(t=+t))return n[o.bisect(r,t)]}return s.domain=function(t){return arguments.length?(e=t.map(v).filter(y).sort(m),i()):e},s.range=function(t){return arguments.length?(n=t,i()):n},s.quantiles=function(){return r},s.invertExtent=function(t){return(t=n.indexOf(t))<0?[NaN,NaN]:[t>0?r[t-1]:e[0],t<r.length?r[t]:e[e.length-1]]},s.copy=function(){return t(e,n)},i()}([],[])},o.scale.quantize=function(){return function t(e,n,r){var i,o;function s(t){return r[Math.max(0,Math.min(o,Math.floor(i*(t-e))))]}function a(){return i=r.length/(n-e),o=r.length-1,s}return s.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],a()):[e,n]},s.range=function(t){return arguments.length?(r=t,a()):r},s.invertExtent=function(t){return[t=(t=r.indexOf(t))<0?NaN:t/i+e,t+1/i]},s.copy=function(){return t(e,n,r)},a()}(0,1,[0,1])},o.scale.threshold=function(){return function t(e,n){function r(t){if(t<=t)return n[o.bisect(e,t)]}return r.domain=function(t){return arguments.length?(e=t,r):e},r.range=function(t){return arguments.length?(n=t,r):n},r.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},r.copy=function(){return t(e,n)},r}([.5],[0,1])},o.scale.identity=function(){return function t(e){function n(t){return+t}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=t.map(n),n):e},n.ticks=function(t){return _s(e,t)},n.tickFormat=function(t,n){return ws(e,t,n)},n.copy=function(){return t(e)},n}([0,1])},o.svg={},o.svg.arc=function(){var t=Rs,e=Ds,n=Ps,r=Is,i=Vs,o=Ls,s=Fs;function a(){var a=Math.max(0,+t.apply(this,arguments)),u=Math.max(0,+e.apply(this,arguments)),c=i.apply(this,arguments)-Pt,d=o.apply(this,arguments)-Pt,h=Math.abs(d-c),f=c>d?0:1;if(u<a&&(p=u,u=a,a=p),h>=Ot)return l(u,f)+(a?l(a,1-f):"")+"Z";var p,g,m,v,y,b,x,_,w,C,k,M,E=0,A=0,S=[];if((v=(+s.apply(this,arguments)||0)/2)&&(m=r===Is?Math.sqrt(a*a+u*u):+r.apply(this,arguments),f||(A*=-1),u&&(A=Ft(m/u*Math.sin(v))),a&&(E=Ft(m/a*Math.sin(v)))),u){y=u*Math.cos(c+A),b=u*Math.sin(c+A),x=u*Math.cos(d-A),_=u*Math.sin(d-A);var T=Math.abs(d-c-2*A)<=Tt?0:1;if(A&&js(y,b,x,_)===f^T){var N=(c+d)/2;y=u*Math.cos(N),b=u*Math.sin(N),x=_=null}}else y=b=0;if(a){w=a*Math.cos(d-E),C=a*Math.sin(d-E),k=a*Math.cos(c+E),M=a*Math.sin(c+E);var O=Math.abs(c-d+2*E)<=Tt?0:1;if(E&&js(w,C,k,M)===1-f^O){var P=(c+d)/2;w=a*Math.cos(P),C=a*Math.sin(P),k=M=null}}else w=C=0;if(h>At&&(p=Math.min(Math.abs(u-a)/2,+n.apply(this,arguments)))>.001){g=a<u^f?0:1;var I=p,R=p;if(h<Tt){var D=null==k?[w,C]:null==x?[y,b]:li([y,b],[k,M],[x,_],[w,C]),V=y-D[0],L=b-D[1],F=x-D[0],j=_-D[1],z=1/Math.sin(Math.acos((V*F+L*j)/(Math.sqrt(V*V+L*L)*Math.sqrt(F*F+j*j)))/2),W=Math.sqrt(D[0]*D[0]+D[1]*D[1]);R=Math.min(p,(a-W)/(z-1)),I=Math.min(p,(u-W)/(z+1))}if(null!=x){var H=zs(null==k?[w,C]:[k,M],[y,b],u,I,f),U=zs([x,_],[w,C],u,I,f);p===I?S.push("M",H[0],"A",I,",",I," 0 0,",g," ",H[1],"A",u,",",u," 0 ",1-f^js(H[1][0],H[1][1],U[1][0],U[1][1]),",",f," ",U[1],"A",I,",",I," 0 0,",g," ",U[0]):S.push("M",H[0],"A",I,",",I," 0 1,",g," ",U[0])}else S.push("M",y,",",b);if(null!=k){var B=zs([y,b],[k,M],a,-R,f),$=zs([w,C],null==x?[y,b]:[x,_],a,-R,f);p===R?S.push("L",$[0],"A",R,",",R," 0 0,",g," ",$[1],"A",a,",",a," 0 ",f^js($[1][0],$[1][1],B[1][0],B[1][1]),",",1-f," ",B[1],"A",R,",",R," 0 0,",g," ",B[0]):S.push("L",$[0],"A",R,",",R," 0 0,",g," ",B[0])}else S.push("L",w,",",C)}else S.push("M",y,",",b),null!=x&&S.push("A",u,",",u," 0 ",T,",",f," ",x,",",_),S.push("L",w,",",C),null!=k&&S.push("A",a,",",a," 0 ",O,",",1-f," ",k,",",M);return S.push("Z"),S.join("")}function l(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return a.innerRadius=function(e){return arguments.length?(t=be(e),a):t},a.outerRadius=function(t){return arguments.length?(e=be(t),a):e},a.cornerRadius=function(t){return arguments.length?(n=be(t),a):n},a.padRadius=function(t){return arguments.length?(r=t==Is?Is:be(t),a):r},a.startAngle=function(t){return arguments.length?(i=be(t),a):i},a.endAngle=function(t){return arguments.length?(o=be(t),a):o},a.padAngle=function(t){return arguments.length?(s=be(t),a):s},a.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Pt;return[Math.cos(r)*n,Math.sin(r)*n]},a};var Is="auto";function Rs(t){return t.innerRadius}function Ds(t){return t.outerRadius}function Vs(t){return t.startAngle}function Ls(t){return t.endAngle}function Fs(t){return t&&t.padAngle}function js(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function zs(t,e,n,r,i){var o=t[0]-e[0],s=t[1]-e[1],a=(i?r:-r)/Math.sqrt(o*o+s*s),l=a*s,u=-a*o,c=t[0]+l,d=t[1]+u,h=e[0]+l,f=e[1]+u,p=(c+h)/2,g=(d+f)/2,m=h-c,v=f-d,y=m*m+v*v,b=n-r,x=c*f-h*d,_=(v<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-x*x)),w=(x*v-m*_)/y,C=(-x*m-v*_)/y,k=(x*v+m*_)/y,M=(-x*m+v*_)/y,E=w-p,A=C-g,S=k-p,T=M-g;return E*E+A*A>S*S+T*T&&(w=k,C=M),[[w-l,C-u],[w*n/b,C*n/b]]}function Ws(t){var e=ni,n=ri,r=Xn,i=Us,o=i.key,s=.7;function a(o){var a,l=[],u=[],c=-1,d=o.length,h=be(e),f=be(n);function p(){l.push("M",i(t(u),s))}for(;++c<d;)r.call(this,a=o[c],c)?u.push([+h.call(this,a,c),+f.call(this,a,c)]):u.length&&(p(),u=[]);return u.length&&p(),l.length?l.join(""):null}return a.x=function(t){return arguments.length?(e=t,a):e},a.y=function(t){return arguments.length?(n=t,a):n},a.defined=function(t){return arguments.length?(r=t,a):r},a.interpolate=function(t){return arguments.length?(o="function"==typeof t?i=t:(i=Hs.get(t)||Us).key,a):o},a.tension=function(t){return arguments.length?(s=t,a):s},a}o.svg.line=function(){return Ws(D)};var Hs=o.map({linear:Us,"linear-closed":Bs,step:function(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")},"step-before":$s,"step-after":qs,basis:Ys,"basis-open":function(t){if(t.length<4)return Us(t);for(var e,n=[],r=-1,i=t.length,o=[0],s=[0];++r<3;)o.push((e=t[r])[0]),s.push(e[1]);for(n.push(Xs(Js,o)+","+Xs(Js,s)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),s.shift(),s.push(e[1]),ta(n,o,s);return n.join("")},"basis-closed":function(t){for(var e,n,r=-1,i=t.length,o=i+4,s=[],a=[];++r<4;)s.push((n=t[r%i])[0]),a.push(n[1]);for(e=[Xs(Js,s),",",Xs(Js,a)],--r;++r<o;)n=t[r%i],s.shift(),s.push(n[0]),a.shift(),a.push(n[1]),ta(e,s,a);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],s=t[0][1],a=t[n][0]-o,l=t[n][1]-s,u=-1;++u<=n;)(r=t[u])[0]=e*r[0]+(1-e)*(o+(i=u/n)*a),r[1]=e*r[1]+(1-e)*(s+i*l);return Ys(t)},cardinal:function(t,e){return t.length<3?Us(t):t[0]+Gs(t,Zs(t,e))},"cardinal-open":function(t,e){return t.length<4?Us(t):t[1]+Gs(t.slice(1,-1),Zs(t,e))},"cardinal-closed":function(t,e){return t.length<3?Bs(t):t[0]+Gs((t.push(t[0]),t),Zs([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?Us(t):t[0]+Gs(t,function(t){for(var e,n,r,i,o=[],s=function(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],s=r[0]=ea(i,o);++e<n;)r[e]=(s+(s=ea(i=o,o=t[e+1])))/2;return r[e]=s,r}(t),a=-1,l=t.length-1;++a<l;)e=ea(t[a],t[a+1]),w(e)<At?s[a]=s[a+1]=0:(i=(n=s[a]/e)*n+(r=s[a+1]/e)*r)>9&&(i=3*e/Math.sqrt(i),s[a]=i*n,s[a+1]=i*r);for(a=-1;++a<=l;)i=(t[Math.min(l,a+1)][0]-t[Math.max(0,a-1)][0])/(6*(1+s[a]*s[a])),o.push([i||0,s[a]*i||0]);return o}(t))}});function Us(t){return t.length>1?t.join("L"):t+"Z"}function Bs(t){return t.join("L")+"Z"}function $s(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function qs(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function Gs(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Us(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],s=e[0],a=s,l=1;if(n&&(r+="Q"+(o[0]-2*s[0]/3)+","+(o[1]-2*s[1]/3)+","+o[0]+","+o[1],i=t[1],l=2),e.length>1){o=t[l],l++,r+="C"+(i[0]+s[0])+","+(i[1]+s[1])+","+(o[0]-(a=e[1])[0])+","+(o[1]-a[1])+","+o[0]+","+o[1];for(var u=2;u<e.length;u++,l++)r+="S"+((o=t[l])[0]-(a=e[u])[0])+","+(o[1]-a[1])+","+o[0]+","+o[1]}if(n){var c=t[l];r+="Q"+(o[0]+2*a[0]/3)+","+(o[1]+2*a[1]/3)+","+c[0]+","+c[1]}return r}function Zs(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],s=t[1],a=1,l=t.length;++a<l;)n=o,o=s,r.push([i*((s=t[a])[0]-n[0]),i*(s[1]-n[1])]);return r}function Ys(t){if(t.length<3)return Us(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],s=[i,i,i,(r=t[1])[0]],a=[o,o,o,r[1]],l=[i,",",o,"L",Xs(Js,s),",",Xs(Js,a)];for(t.push(t[n-1]);++e<=n;)r=t[e],s.shift(),s.push(r[0]),a.shift(),a.push(r[1]),ta(l,s,a);return t.pop(),l.push("L",r),l.join("")}function Xs(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}Hs.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Ks=[0,2/3,1/3,0],Qs=[0,1/3,2/3,0],Js=[0,1/6,2/3,1/6];function ta(t,e,n){t.push("C",Xs(Ks,e),",",Xs(Ks,n),",",Xs(Qs,e),",",Xs(Qs,n),",",Xs(Js,e),",",Xs(Js,n))}function ea(t,e){return(e[1]-t[1])/(e[0]-t[0])}function na(t){for(var e,n,r,i=-1,o=t.length;++i<o;)r=(e=t[i])[1]-Pt,e[0]=(n=e[0])*Math.cos(r),e[1]=n*Math.sin(r);return t}function ra(t){var e=ni,n=ni,r=0,i=ri,o=Xn,s=Us,a=s.key,l=s,u="L",c=.7;function d(a){var d,h,f,p=[],g=[],m=[],v=-1,y=a.length,b=be(e),x=be(r),_=e===n?function(){return h}:be(n),w=r===i?function(){return f}:be(i);function C(){p.push("M",s(t(m),c),u,l(t(g.reverse()),c),"Z")}for(;++v<y;)o.call(this,d=a[v],v)?(g.push([h=+b.call(this,d,v),f=+x.call(this,d,v)]),m.push([+_.call(this,d,v),+w.call(this,d,v)])):g.length&&(C(),g=[],m=[]);return g.length&&C(),p.length?p.join(""):null}return d.x=function(t){return arguments.length?(e=n=t,d):n},d.x0=function(t){return arguments.length?(e=t,d):e},d.x1=function(t){return arguments.length?(n=t,d):n},d.y=function(t){return arguments.length?(r=i=t,d):i},d.y0=function(t){return arguments.length?(r=t,d):r},d.y1=function(t){return arguments.length?(i=t,d):i},d.defined=function(t){return arguments.length?(o=t,d):o},d.interpolate=function(t){return arguments.length?(a="function"==typeof t?s=t:(s=Hs.get(t)||Us).key,l=s.reverse||s,u=s.closed?"M":"L",d):a},d.tension=function(t){return arguments.length?(c=t,d):c},d}function ia(t){return t.radius}function oa(t){return[t.x,t.y]}function sa(){return 64}function aa(){return"circle"}function la(t){var e=Math.sqrt(t/Tt);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}o.svg.line.radial=function(){var t=Ws(na);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},$s.reverse=qs,qs.reverse=$s,o.svg.area=function(){return ra(D)},o.svg.area.radial=function(){var t=ra(na);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},o.svg.chord=function(){var t=Hr,e=Ur,n=ia,r=Vs,i=Ls;function o(n,r){var i=s(this,t,n,r),o=s(this,e,n,r);return"M"+i.p0+a(i.r,i.p1,i.a1-i.a0)+(i.a0==o.a0&&i.a1==o.a1?l(0,0,0,i.p0):l(0,0,0,o.p0)+a(o.r,o.p1,o.a1-o.a0)+l(0,0,0,i.p0))+"Z"}function s(t,e,o,s){var a=e.call(t,o,s),l=n.call(t,a,s),u=r.call(t,a,s)-Pt,c=i.call(t,a,s)-Pt;return{r:l,a0:u,a1:c,p0:[l*Math.cos(u),l*Math.sin(u)],p1:[l*Math.cos(c),l*Math.sin(c)]}}function a(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Tt)+",1 "+e}function l(t,e,n,r){return"Q 0,0 "+r}return o.radius=function(t){return arguments.length?(n=be(t),o):n},o.source=function(e){return arguments.length?(t=be(e),o):t},o.target=function(t){return arguments.length?(e=be(t),o):e},o.startAngle=function(t){return arguments.length?(r=be(t),o):r},o.endAngle=function(t){return arguments.length?(i=be(t),o):i},o},o.svg.diagonal=function(){var t=Hr,e=Ur,n=oa;function r(r,i){var o=t.call(this,r,i),s=e.call(this,r,i),a=(o.y+s.y)/2,l=[o,{x:o.x,y:a},{x:s.x,y:a},s];return"M"+(l=l.map(n))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}return r.source=function(e){return arguments.length?(t=be(e),r):t},r.target=function(t){return arguments.length?(e=be(t),r):e},r.projection=function(t){return arguments.length?(n=t,r):n},r},o.svg.diagonal.radial=function(){var t=o.svg.diagonal(),e=oa,n=t.projection;return t.projection=function(t){return arguments.length?n(function(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Pt;return[n*Math.cos(r),n*Math.sin(r)]}}(e=t)):e},t},o.svg.symbol=function(){var t=aa,e=sa;function n(n,r){return(ua.get(t.call(this,n,r))||la)(e.call(this,n,r))}return n.type=function(e){return arguments.length?(t=be(e),n):t},n.size=function(t){return arguments.length?(e=be(t),n):e},n};var ua=o.map({circle:la,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*da)),n=e*da;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/ca),n=e*ca/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/ca),n=e*ca/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});o.svg.symbolTypes=ua.keys();var ca=Math.sqrt(3),da=Math.tan(30*It);K.transition=function(t){for(var e,n,r=ga||++ya,i=_a(t),o=[],s=ma||{time:Date.now(),ease:oo,delay:0,duration:250},a=-1,l=this.length;++a<l;){o.push(e=[]);for(var u=this[a],c=-1,d=u.length;++c<d;)(n=u[c])&&wa(n,c,i,r,s),e.push(n)}return pa(o,i,r)},K.interrupt=function(t){return this.each(null==t?ha:fa(_a(t)))};var ha=fa(_a());function fa(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function pa(t,e,n){return q(t,va),t.namespace=e,t.id=n,t}var ga,ma,va=[],ya=0;function ba(t,e,n,r){var i=t.id,o=t.namespace;return pt(t,"function"==typeof n?function(t,s,a){t[o][i].tween.set(e,r(n.call(t,t.__data__,s,a)))}:(n=r(n),function(t){t[o][i].tween.set(e,n)}))}function xa(t){return null==t&&(t=""),function(){this.textContent=t}}function _a(t){return null==t?"__transition__":"__transition_"+t+"__"}function wa(t,e,n,r,i){var o,s,a,l,u,c=t[n]||(t[n]={active:0,count:0}),d=c[r];function h(n){var i=c.active,h=c[i];for(var p in h&&(h.timer.c=null,h.timer.t=NaN,--c.count,delete c[i],h.event&&h.event.interrupt.call(t,t.__data__,h.index)),c)if(+p<r){var g=c[p];g.timer.c=null,g.timer.t=NaN,--c.count,delete c[p]}s.c=f,Ae(function(){return s.c&&f(n||1)&&(s.c=null,s.t=NaN),1},0,o),c.active=r,d.event&&d.event.start.call(t,t.__data__,e),u=[],d.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&u.push(r)}),l=d.ease,a=d.duration}function f(i){for(var o=i/a,s=l(o),h=u.length;h>0;)u[--h].call(t,s);if(o>=1)return d.event&&d.event.end.call(t,t.__data__,e),--c.count?delete c[r]:delete t[n],1}d||(s=Ae(function(t){var e=d.delay;if(s.t=e+o,e<=t)return h(t-e);s.c=h},0,o=i.time),d=c[r]={tween:new k,time:o,timer:s,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++c.count)}va.call=K.call,va.empty=K.empty,va.node=K.node,va.size=K.size,o.transition=function(t,e){return t&&t.transition?ga?t.transition(e):t:o.selection().transition(t)},o.transition.prototype=va,va.select=function(t){var e,n,r,i=this.id,o=this.namespace,s=[];t=Q(t);for(var a=-1,l=this.length;++a<l;){s.push(e=[]);for(var u=this[a],c=-1,d=u.length;++c<d;)(r=u[c])&&(n=t.call(r,r.__data__,c,a))?("__data__"in r&&(n.__data__=r.__data__),wa(n,c,o,i,r[o][i]),e.push(n)):e.push(null)}return pa(s,o,i)},va.selectAll=function(t){var e,n,r,i,o,s=this.id,a=this.namespace,l=[];t=J(t);for(var u=-1,c=this.length;++u<c;)for(var d=this[u],h=-1,f=d.length;++h<f;)if(r=d[h]){o=r[a][s],n=t.call(r,r.__data__,h,u),l.push(e=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&wa(i,p,a,s,o),e.push(i)}return pa(l,a,s)},va.filter=function(t){var e,n,r=[];"function"!=typeof t&&(t=ft(t));for(var i=0,o=this.length;i<o;i++){r.push(e=[]);for(var s,a=0,l=(s=this[i]).length;a<l;a++)(n=s[a])&&t.call(n,n.__data__,a,i)&&e.push(n)}return pa(r,this.namespace,this.id)},va.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):pt(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},va.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n="transform"==t?vo:Xi,r=o.ns.qualify(t);function i(){this.removeAttribute(r)}function s(){this.removeAttributeNS(r.space,r.local)}return ba(this,"attr."+t,e,r.local?function(t){return null==t?s:(t+="",function(){var e,i=this.getAttributeNS(r.space,r.local);return i!==t&&(e=n(i,t),function(t){this.setAttributeNS(r.space,r.local,e(t))})})}:function(t){return null==t?i:(t+="",function(){var e,i=this.getAttribute(r);return i!==t&&(e=n(i,t),function(t){this.setAttribute(r,e(t))})})})},va.attrTween=function(t,e){var n=o.ns.qualify(t);return this.tween("attr."+t,n.local?function(t,r){var i=e.call(this,t,r,this.getAttributeNS(n.space,n.local));return i&&function(t){this.setAttributeNS(n.space,n.local,i(t))}}:function(t,r){var i=e.call(this,t,r,this.getAttribute(n));return i&&function(t){this.setAttribute(n,i(t))}})},va.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.style(n,t[n],e);return this}n=""}function i(){this.style.removeProperty(t)}return ba(this,"style."+t,e,function(e){return null==e?i:(e+="",function(){var r,i=c(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=Xi(i,e),function(e){this.style.setProperty(t,r(e),n)})})})},va.styleTween=function(t,e,n){return arguments.length<3&&(n=""),this.tween("style."+t,function(r,i){var o=e.call(this,r,i,c(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}})},va.text=function(t){return ba(this,"text",t,xa)},va.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},va.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=o.ease.apply(o,arguments)),pt(this,function(r){r[n][e].ease=t}))},va.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:pt(this,"function"==typeof t?function(r,i,o){r[n][e].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[n][e].delay=t}))},va.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:pt(this,"function"==typeof t?function(r,i,o){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},va.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=ma,s=ga;try{ga=n,pt(this,function(e,i,o){ma=e[r][n],t.call(e,e.__data__,i,o)})}finally{ma=i,ga=s}}else pt(this,function(i){var s=i[r][n];(s.event||(s.event=o.dispatch("start","end","interrupt"))).on(t,e)});return this},va.transition=function(){for(var t,e,n,r=this.id,i=++ya,o=this.namespace,s=[],a=0,l=this.length;a<l;a++){s.push(t=[]);for(var u,c=0,d=(u=this[a]).length;c<d;c++)(e=u[c])&&wa(e,c,o,i,{time:(n=e[o][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return pa(s,o,i)},o.svg.axis=function(){var t,e=o.scale.linear(),n=Ca,r=6,i=6,s=3,l=[10],u=null;function c(a){a.each(function(){var a,c=o.select(this),d=this.__chart__||e,h=this.__chart__=e.copy(),f=null==u?h.ticks?h.ticks.apply(h,l):h.domain():u,p=null==t?h.tickFormat?h.tickFormat.apply(h,l):D:t,g=c.selectAll(".tick").data(f,h),m=g.enter().insert("g",".domain").attr("class","tick").style("opacity",At),v=o.transition(g.exit()).style("opacity",At).remove(),y=o.transition(g.order()).style("opacity",1),b=Math.max(r,0)+s,x=hs(h),_=c.selectAll(".domain").data([0]),w=(_.enter().append("path").attr("class","domain"),o.transition(_));m.append("line"),m.append("text");var C,k,M,E,A=m.select("line"),S=y.select("line"),T=g.select("text").text(p),N=m.select("text"),O=y.select("text"),P="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(a=Ma,C="x",M="y",k="x2",E="y2",T.attr("dy",P<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+x[0]+","+P*i+"V0H"+x[1]+"V"+P*i)):(a=Ea,C="y",M="x",k="y2",E="x2",T.attr("dy",".32em").style("text-anchor",P<0?"end":"start"),w.attr("d","M"+P*i+","+x[0]+"H0V"+x[1]+"H"+P*i)),A.attr(E,P*r),N.attr(M,P*b),S.attr(k,0).attr(E,P*r),O.attr(C,0).attr(M,P*b),h.rangeBand){var I=h,R=I.rangeBand()/2;d=h=function(t){return I(t)+R}}else d.rangeBand?d=h:v.call(a,h,d);m.call(a,d,h),y.call(a,h,h)})}return c.scale=function(t){return arguments.length?(e=t,c):e},c.orient=function(t){return arguments.length?(n=t in ka?t+"":Ca,c):n},c.ticks=function(){return arguments.length?(l=a(arguments),c):l},c.tickValues=function(t){return arguments.length?(u=t,c):u},c.tickFormat=function(e){return arguments.length?(t=e,c):t},c.tickSize=function(t){var e=arguments.length;return e?(r=+t,i=+arguments[e-1],c):r},c.innerTickSize=function(t){return arguments.length?(r=+t,c):r},c.outerTickSize=function(t){return arguments.length?(i=+t,c):i},c.tickPadding=function(t){return arguments.length?(s=+t,c):s},c.tickSubdivide=function(){return arguments.length&&c},c};var Ca="bottom",ka={top:1,right:1,bottom:1,left:1};function Ma(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function Ea(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}o.svg.brush=function(){var t,e,n=B(h,"brushstart","brush","brushend"),r=null,i=null,s=[0,0],a=[0,0],l=!0,u=!0,d=Sa[0];function h(t){t.each(function(){var t=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",m).on("touchstart.brush",m),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(d,D);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Aa[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",h.empty()?"none":null);var s,a=o.transition(t),l=o.transition(e);r&&(s=hs(r),l.attr("x",s[0]).attr("width",s[1]-s[0]),p(a)),i&&(s=hs(i),l.attr("y",s[0]).attr("height",s[1]-s[0]),g(a)),f(a)})}function f(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+s[+/e$/.test(t)]+","+a[+/^s/.test(t)]+")"})}function p(t){t.select(".extent").attr("x",s[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1]-s[0])}function g(t){t.select(".extent").attr("y",a[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",a[1]-a[0])}function m(){var d,m,v=this,y=o.select(o.event.target),b=n.of(v,arguments),x=o.select(v),_=y.datum(),w=!/^(n|s)$/.test(_)&&r,C=!/^(e|w)$/.test(_)&&i,k=y.classed("extent"),M=Ct(v),E=o.mouse(v),A=o.select(c(v)).on("keydown.brush",function(){32==o.event.keyCode&&(k||(d=null,E[0]-=s[1],E[1]-=a[1],k=2),H())}).on("keyup.brush",function(){32==o.event.keyCode&&2==k&&(E[0]+=s[1],E[1]+=a[1],k=0,H())});if(o.event.changedTouches?A.on("touchmove.brush",N).on("touchend.brush",P):A.on("mousemove.brush",N).on("mouseup.brush",P),x.interrupt().selectAll("*").interrupt(),k)E[0]=s[0]-E[0],E[1]=a[0]-E[1];else if(_){var S=+/w$/.test(_),T=+/^n/.test(_);m=[s[1-S]-E[0],a[1-T]-E[1]],E[0]=s[S],E[1]=a[T]}else o.event.altKey&&(d=E.slice());function N(){var t=o.mouse(v),e=!1;m&&(t[0]+=m[0],t[1]+=m[1]),k||(o.event.altKey?(d||(d=[(s[0]+s[1])/2,(a[0]+a[1])/2]),E[0]=s[+(t[0]<d[0])],E[1]=a[+(t[1]<d[1])]):d=null),w&&O(t,r,0)&&(p(x),e=!0),C&&O(t,i,1)&&(g(x),e=!0),e&&(f(x),b({type:"brush",mode:k?"move":"resize"}))}function O(n,r,i){var o,c,h=hs(r),f=h[0],p=h[1],g=E[i],m=i?a:s,v=m[1]-m[0];if(k&&(f-=g,p-=v+g),o=(i?u:l)?Math.max(f,Math.min(p,n[i])):n[i],k?c=(o+=g)+v:(d&&(g=Math.max(f,Math.min(p,2*d[i]-o))),g<o?(c=o,o=g):c=g),m[0]!=o||m[1]!=c)return i?e=null:t=null,m[0]=o,m[1]=c,!0}function P(){N(),x.style("pointer-events","all").selectAll(".resize").style("display",h.empty()?"none":null),o.select("body").style("cursor",null),A.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),M(),b({type:"brushend"})}x.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",y.style("cursor")),b({type:"brushstart"}),N()}return h.event=function(r){r.each(function(){var r=n.of(this,arguments),i={x:s,y:a,i:t,j:e},l=this.__chart__||i;this.__chart__=i,ga?o.select(this).transition().each("start.brush",function(){t=l.i,e=l.j,s=l.x,a=l.y,r({type:"brushstart"})}).tween("brush:brush",function(){var n=Ki(s,i.x),o=Ki(a,i.y);return t=e=null,function(t){s=i.x=n(t),a=i.y=o(t),r({type:"brush",mode:"resize"})}}).each("end.brush",function(){t=i.i,e=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})}):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))})},h.x=function(t){return arguments.length?(d=Sa[!(r=t)<<1|!i],h):r},h.y=function(t){return arguments.length?(d=Sa[!r<<1|!(i=t)],h):i},h.clamp=function(t){return arguments.length?(r&&i?(l=!!t[0],u=!!t[1]):r?l=!!t:i&&(u=!!t),h):r&&i?[l,u]:r?l:i?u:null},h.extent=function(n){var o,l,u,c,d;return arguments.length?(r&&(o=n[0],l=n[1],i&&(o=o[0],l=l[0]),t=[o,l],r.invert&&(o=r(o),l=r(l)),l<o&&(d=o,o=l,l=d),o==s[0]&&l==s[1]||(s=[o,l])),i&&(u=n[0],c=n[1],r&&(u=u[1],c=c[1]),e=[u,c],i.invert&&(u=i(u),c=i(c)),c<u&&(d=u,u=c,c=d),u==a[0]&&c==a[1]||(a=[u,c])),h):(r&&(t?(o=t[0],l=t[1]):(o=s[0],l=s[1],r.invert&&(o=r.invert(o),l=r.invert(l)),l<o&&(d=o,o=l,l=d))),i&&(e?(u=e[0],c=e[1]):(u=a[0],c=a[1],i.invert&&(u=i.invert(u),c=i.invert(c)),c<u&&(d=u,u=c,c=d))),r&&i?[[o,u],[l,c]]:r?[o,l]:i&&[u,c])},h.clear=function(){return h.empty()||(s=[0,0],a=[0,0],t=e=null),h},h.empty=function(){return!!r&&s[0]==s[1]||!!i&&a[0]==a[1]},o.rebind(h,n,"on")};var Aa={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Sa=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ta=Ve.format=dn.timeFormat,Na=Ta.utc,Oa=Na("%Y-%m-%dT%H:%M:%S.%LZ");function Pa(t){return t.toISOString()}function Ia(t,e,n){function r(e){return t(e)}function i(t,n){var r=(t[1]-t[0])/n,i=o.bisect(Da,r);return i==Da.length?[e.year,xs(t.map(function(t){return t/31536e6}),n)[2]]:i?e[r/Da[i-1]<Da[i]/r?i-1:i]:[Fa,xs(t,n)[2]]}return r.invert=function(e){return Ra(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(Ra)},r.nice=function(t,e){var n=r.domain(),o=ds(n),s=null==t?i(o,10):"number"==typeof t&&i(o,t);function a(n){return!isNaN(n)&&!t.range(n,Ra(+n+1),e).length}return s&&(t=s[0],e=s[1]),r.domain(ps(n,e>1?{floor:function(e){for(;a(e=t.floor(e));)e=Ra(e-1);return e},ceil:function(e){for(;a(e=t.ceil(e));)e=Ra(+e+1);return e}}:t))},r.ticks=function(t,e){var n=ds(r.domain()),o=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],Ra(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return Ia(t.copy(),e,n)},ys(r,t)}function Ra(t){return new Date(t)}Ta.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Pa:Oa,Pa.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Pa.toString=Oa.toString,Ve.second=ze(function(t){return new Le(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),Ve.seconds=Ve.second.range,Ve.seconds.utc=Ve.second.utc.range,Ve.minute=ze(function(t){return new Le(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),Ve.minutes=Ve.minute.range,Ve.minutes.utc=Ve.minute.utc.range,Ve.hour=ze(function(t){var e=t.getTimezoneOffset()/60;return new Le(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),Ve.hours=Ve.hour.range,Ve.hours.utc=Ve.hour.utc.range,Ve.month=ze(function(t){return(t=Ve.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),Ve.months=Ve.month.range,Ve.months.utc=Ve.month.utc.range;var Da=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Va=[[Ve.second,1],[Ve.second,5],[Ve.second,15],[Ve.second,30],[Ve.minute,1],[Ve.minute,5],[Ve.minute,15],[Ve.minute,30],[Ve.hour,1],[Ve.hour,3],[Ve.hour,6],[Ve.hour,12],[Ve.day,1],[Ve.day,2],[Ve.week,1],[Ve.month,1],[Ve.month,3],[Ve.year,1]],La=Ta.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Xn]]),Fa={range:function(t,e,n){return o.range(Math.ceil(t/n)*n,+e,n).map(Ra)},floor:D,ceil:D};Va.year=Ve.year,Ve.scale=function(){return Ia(o.scale.linear(),Va,La)};var ja=Va.map(function(t){return[t[0].utc,t[1]]}),za=Na.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Xn]]);function Wa(t){return JSON.parse(t.responseText)}function Ha(t){var e=l.createRange();return e.selectNode(l.body),e.createContextualFragment(t.responseText)}ja.year=Ve.year.utc,Ve.scale.utc=function(){return Ia(o.scale.linear(),ja,za)},o.text=xe(function(t){return t.responseText}),o.json=function(t,e){return _e(t,"application/json",Wa,e)},o.html=function(t,e){return _e(t,"text/html",Ha,e)},o.xml=xe(function(t){return t.responseXML}),this.d3=o,void 0===(i="function"==typeof(r=o)?r.call(e,n,e,t):r)||(t.exports=i)}()},bbL7:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return o});const r="undefined"!=typeof window&&window,i="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,o=r||"undefined"!=typeof t&&t||i;!function(){if(!o)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(e,n("DuR2"))},crq8:function(t,e,n){"use strict";e.a=(t=>t&&"number"==typeof t.length)},dMus:function(t,e,n){"use strict";e.a={closed:!0,next(t){},error(t){throw t},complete(){}}},dzdQ:function(t,e,n){"use strict";const r=function(t){const e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;{const{Set:e}=t;if(e&&"function"==typeof(new e)["@@iterator"])return"@@iterator";const{Map:n}=t;if(n){let t=Object.getOwnPropertyNames(n.prototype);for(let e=0;e<t.length;++e){let r=t[e];if("entries"!==r&&"size"!==r&&n.prototype[r]===n.prototype.entries)return r}}return"@@iterator"}}(n("bbL7").a);e.a=r},f2Ls:function(t,e,n){"use strict";e.a=function(t){return t&&"function"==typeof t.schedule}},fTvt:function(t,e,n){"use strict";var r=n("TToO").__decorate,i=n("TToO").__metadata;Object.defineProperty(e,"__esModule",{value:!0});var o=n("48oy"),s=n("Bji7");e.NvD3Directive=function(){function t(t){this.el=t,this.ngNvD3=new s.Angular2NvD3.NgNvD3(this.el)}return t.prototype.ngOnChanges=function(t){this.ngNvD3.updateWithOptions(this.options,this.data)},t.prototype.ngOnInit=function(){this.ngNvD3.isViewInitialize(!0),this.ngNvD3.updateWithOptions(this.options,this.data)},r([o.Input(),i("design:type",Object)],t.prototype,"options",void 0),r([o.Input(),i("design:type",Object)],t.prototype,"data",void 0),r([o.Directive({selector:"[nvd3]"})],t)}()},jzaW:function(t,e,n){"use strict";e.a=function(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},"s+UU":function(t,e,n){"use strict";var r=n("6MRC"),i=n("FvzS"),o=n("WFWZ");const s={e:{}};let a;function l(){try{return a.apply(this,arguments)}catch(t){return s.e=t,s}}function u(t){return a=t,l}class c extends Error{constructor(t){super(),this.errors=t;const e=Error.call(this,t?`${t.length} errors occurred during unsubscription:\n  ${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"");this.name=e.name="UnsubscriptionError",this.stack=e.stack,this.message=e.message}}class d{constructor(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t,e=!1;if(this.closed)return;let{_parent:n,_parents:a,_unsubscribe:l,_subscriptions:d}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let f=-1,p=a?a.length:0;for(;n;)n.remove(this),n=++f<p&&a[f]||null;if(Object(o.a)(l)&&u(l).call(this)===s&&(e=!0,t=t||(s.e instanceof c?h(s.e.errors):[s.e])),Object(r.a)(d))for(f=-1,p=d.length;++f<p;){const n=d[f];if(Object(i.a)(n)&&u(n.unsubscribe).call(n)===s){e=!0,t=t||[];let n=s.e;n instanceof c?t=t.concat(h(n.errors)):t.push(n)}}if(e)throw new c(t)}add(t){if(!t||t===d.EMPTY)return d.EMPTY;if(t===this)return this;let e=t;switch(typeof t){case"function":e=new d(t);case"object":if(e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if("function"!=typeof e._addParent){const t=e;(e=new d)._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(e),e._addParent(this),e}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}_addParent(t){let{_parent:e,_parents:n}=this;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t}}function h(t){return t.reduce((t,e)=>t.concat(e instanceof c?e.errors:e),[])}e.a=d,d.EMPTY=function(t){return t.closed=!0,t}(new d)},ves3:function(t,e,n){"use strict";var r=n("bbL7"),i=n("2zkT"),o=n("73T8"),s=n("dMus"),a=n("zOxy"),l=n("7VlU");class u{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const e=new u;return e.source=this,e.operator=t,e}subscribe(t,e,n){const{operator:r}=this,a=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(s.a)}(t,e,n);if(r?r.call(a,this.source):a.add(this.source||!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}}forEach(t,e){if(e||(r.a.Rx&&r.a.Rx.config&&r.a.Rx.config.Promise?e=r.a.Rx.config.Promise:r.a.Promise&&(e=r.a.Promise)),!e)throw new Error("no Promise impl found");return new e((e,n)=>{let r;r=this.subscribe(e=>{if(r)try{t(e)}catch(t){n(t),r.unsubscribe()}else t(e)},n,e)})}_subscribe(t){return this.source.subscribe(t)}[a.a](){return this}pipe(...t){return 0===t.length?this:Object(l.b)(t)(this)}toPromise(t){if(t||(r.a.Rx&&r.a.Rx.config&&r.a.Rx.config.Promise?t=r.a.Rx.config.Promise:r.a.Promise&&(t=r.a.Promise)),!t)throw new Error("no Promise impl found");return new t((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}e.a=u,u.create=(t=>new u(t))},x35b:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("48oy");n("Za4h"),n("Oawl");class i{}class o{constructor(){this.title="My First Angular App!"}}var s=n("4uaT"),a=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function l(t){return r["\u0275vid"](0,[],null,null)}var u=n("y3s0");const c=u.a.of;var d=n("XLJA");function h(t,e){return function(t,e){return Object(d.a)(t,e,1)}(t,e)(this)}var f=n("2zkT");class p{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new g(t,this.predicate,this.thisArg))}}class g extends f.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)}}function m(t,e){return function(t,e){return function(n){return n.lift(new p(t,e))}}(t,e)(this)}class v{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new y(t,this.project,this.thisArg))}}class y extends f.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)}}function b(t,e){return function(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new v(t,e))}}(t,e)(this)}class x{}const _=new r.InjectionToken("Location Initialized");class w{}const C=new r.InjectionToken("appBaseHref");class k{constructor(t){this._subject=new r.EventEmitter,this._platformStrategy=t;const e=this._platformStrategy.getBaseHref();this._baseHref=k.stripTrailingSlash(M(e)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+k.normalizeQueryParams(e))}normalize(t){return k.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,M(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e=""){this._platformStrategy.pushState(null,"",t,e)}replaceState(t,e=""){this._platformStrategy.replaceState(null,"",t,e)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}function M(t){return t.replace(/\/index.html$/,"")}class E extends w{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=k.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+k.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+k.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class A extends w{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return k.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+k.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+k.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+k.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}var S=["en",[["a","p"],["AM","PM"]],[["AM","PM"],,],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",,"{1} 'at' {0}"],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];const T={},N=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),O=new r.InjectionToken("UseV4Plurals");class P{}class I extends P{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){const e=t.toLowerCase().replace(/_/g,"-");let n=T[e];if(n)return n;const r=e.split("-")[0];if(n=T[r])return n;if("en"===r)return S;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[17]}(e||this.locale)(t)){case N.Zero:return"zero";case N.One:return"one";case N.Two:return"two";case N.Few:return"few";case N.Many:return"many";default:return"other"}}}function R(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class D{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class V{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._differ=null}set ngForTrackBy(t){Object(r.isDevMode)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngOnChanges(t){if("ngForOf"in t){const e=t.ngForOf.currentValue;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${e}' of type '${e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}}ngDoCheck(){if(this._differ){const t=this._differ.diff(this.ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new D(null,this.ngForOf,-1,-1),r),i=new L(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(n);else{const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new L(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}}class L{constructor(t,e){this.record=t,this.view=e}}const F=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,j=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,z={yMMMdjms:X(Y([G("year",1),Z("month",3),G("day",1),G("hour",1),G("minute",1),G("second",1)])),yMdjm:X(Y([G("year",1),G("month",1),G("day",1),G("hour",1),G("minute",1)])),yMMMMEEEEd:X(Y([G("year",1),Z("month",4),Z("weekday",4),G("day",1)])),yMMMMd:X(Y([G("year",1),Z("month",4),G("day",1)])),yMMMd:X(Y([G("year",1),Z("month",3),G("day",1)])),yMd:X(Y([G("year",1),G("month",1),G("day",1)])),jms:X(Y([G("hour",1),G("second",1),G("minute",1)])),jm:X(Y([G("hour",1),G("minute",1)]))},W={yyyy:X(G("year",4)),yy:X(G("year",2)),y:X(G("year",1)),MMMM:X(Z("month",4)),MMM:X(Z("month",3)),MM:X(G("month",2)),M:X(G("month",1)),LLLL:X(Z("month",4)),L:X(Z("month",1)),dd:X(G("day",2)),d:X(G("day",1)),HH:H(U(X(q(G("hour",2),!1)))),H:U(X(q(G("hour",1),!1))),hh:H(U(X(q(G("hour",2),!0)))),h:U(X(q(G("hour",1),!0))),jj:X(G("hour",2)),j:X(G("hour",1)),mm:H(X(G("minute",2))),m:X(G("minute",1)),ss:H(X(G("second",2))),s:X(G("second",1)),sss:X(G("second",3)),EEEE:X(Z("weekday",4)),EEE:X(Z("weekday",3)),EE:X(Z("weekday",2)),E:X(Z("weekday",1)),a:function(t){return function(e,n){return t(e,n).split(" ")[1]}}(X(q(G("hour",1),!0))),Z:$("short"),z:$("long"),ww:X({}),w:X({}),G:X(Z("era",1)),GG:X(Z("era",2)),GGG:X(Z("era",3)),GGGG:X(Z("era",4))};function H(t){return function(e,n){const r=t(e,n);return 1==r.length?"0"+r:r}}function U(t){return function(e,n){return t(e,n).split(" ")[0]}}function B(t,e,n){return new Intl.DateTimeFormat(e,n).format(t).replace(/[\u200e\u200f]/g,"")}function $(t){const e={hour:"2-digit",hour12:!1,timeZoneName:t};return function(t,n){const r=B(t,n,e);return r?r.substring(3):""}}function q(t,e){return t.hour12=e,t}function G(t,e){return function(){var n={};return n[t]=2===e?"2-digit":"numeric",n}()}function Z(t,e){const n={};return n[t]=e<4?e>1?"short":"narrow":"long",n}function Y(t){return t.reduce((t,e)=>Object.assign({},t,e),{})}function X(t){return(e,n)=>B(e,n,t)}const K=new Map;class Q{static format(t,e,n){return function(t,e,n){const r=z[t];if(r)return r(e,n);const i=t;let o=K.get(i);if(!o){let e;o=[],j.exec(t);let n=t;for(;n;)(e=j.exec(n))?n=(o=o.concat(e.slice(1))).pop():(o.push(n),n=null);K.set(i,o)}return o.reduce((t,r)=>{const i=W[r];return t+(i?i(e,n):function(t){return"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}(r))},"")}(n,t,e)}}class J{constructor(t){this._locale=t}transform(t,e="mediumDate"){if(null==t||""===t||t!=t)return null;let n;if("string"==typeof t&&(t=t.trim()),tt(t))n=t;else if(isNaN(t-parseFloat(t)))if("string"==typeof t&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,r,i]=t.split("-").map(t=>parseInt(t,10));n=new Date(e,r-1,i)}else n=new Date(t);else n=new Date(parseFloat(t));if(!tt(n)){let e;if("string"!=typeof t||!(e=t.match(F)))throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r["\u0275stringify"])(t)}'`)}(J,t);n=function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=+(t[9]+t[10]),r=+(t[9]+t[11])),(t[8]?e.setUTCFullYear:e.setFullYear).call(e,+t[1],+t[2]-1,+t[3]);const o=+(t[4]||"0")-n,s=+(t[5]||"0")-r,a=+(t[6]||"0"),l=Math.round(1e3*parseFloat("0."+(t[7]||0)));return i.call(e,o,s,a,l),e}(e)}return Q.format(n,this._locale,J._ALIASES[e]||e)}}function tt(t){return t instanceof Date&&!isNaN(t.valueOf())}J._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},new class{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}},new class{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}};class et{}const nt=new r.InjectionToken("DocumentToken");new r.Version("5.0.5");var rt=n("ves3");class it{}class ot{}class st{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof st?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new st;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof st?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;0===(t=t.filter(t=>-1===i.indexOf(t))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class at{encodeKey(t){return lt(t)}encodeValue(t){return lt(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function lt(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class ut{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new at,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).join("&")}clone(t){const e=new ut({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=null)}}function ct(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function dt(t){return"undefined"!=typeof Blob&&t instanceof Blob}function ht(t){return"undefined"!=typeof FormData&&t instanceof FormData}class ft{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new st),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new ut,this.urlWithParams=e}serializeBody(){return null===this.body?null:ct(this.body)||dt(this.body)||ht(this.body)||"string"==typeof this.body?this.body:this.body instanceof ut?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:ht(this.body)?null:dt(this.body)?this.body.type||null:ct(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ut?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new ft(e,n,i,{params:l,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}const pt=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class gt{constructor(t,e=200,n="OK"){this.headers=t.headers||new st,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class mt extends gt{constructor(t={}){super(t),this.type=pt.ResponseHeader}clone(t={}){return new mt({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class vt extends gt{constructor(t={}){super(t),this.type=pt.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new vt({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class yt extends gt{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function bt(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}class xt{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof ft)r=t;else{let i=void 0;i=n.headers instanceof st?n.headers:new st(n.headers);let o=void 0;n.params&&(o=n.params instanceof ut?n.params:new ut({fromObject:n.params})),r=new ft(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=h.call(c(r),t=>this.handler.handle(t));if(t instanceof ft||"events"===n.observe)return i;const o=m.call(i,t=>t instanceof vt);switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return b.call(o,t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body});case"blob":return b.call(o,t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body});case"text":return b.call(o,t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body});case"json":default:return b.call(o,t=>t.body)}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new ut).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,bt(n,e))}post(t,e,n={}){return this.request("POST",t,bt(n,e))}put(t,e,n={}){return this.request("PUT",t,bt(n,e))}}class _t{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const wt=new r.InjectionToken("HTTP_INTERCEPTORS");class Ct{intercept(t,e){return e.handle(t)}}const kt=/^\)\]\}',?\n/;class Mt{}class Et{constructor(){}build(){return new XMLHttpRequest}}class At{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new rt.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new st(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new mt({headers:o,status:e,statusText:r,url:s})},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),l=null;204!==i&&(l="undefined"==typeof n.response?n.responseText:n.response),0===i&&(i=l?200:0);let u=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(kt,"");try{l=""!==l?JSON.parse(l):null}catch(e){l=t,u&&(u=!1,l={error:e,text:l})}}u?(e.next(new vt({body:l,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new yt({error:l,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const r=new yt({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error"});e.error(r)};let l=!1;const u=r=>{l||(e.next(o()),l=!0);let i={type:pt.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},c=t=>{let n={type:pt.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",c)),n.send(r),e.next({type:pt.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",c)),n.abort()}})}}const St=new r.InjectionToken("XSRF_COOKIE_NAME"),Tt=new r.InjectionToken("XSRF_HEADER_NAME");class Nt{}class Ot{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=R(t,this.cookieName),this.lastCookieString=t),this.lastToken}}class Pt{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}function It(t,e=[]){return e?e.reduceRight((t,e)=>new _t(t,e),t):t}class Rt{static disable(){return{ngModule:Rt,providers:[{provide:Pt,useClass:Ct}]}}static withOptions(t={}){return{ngModule:Rt,providers:[t.cookieName?{provide:St,useValue:t.cookieName}:[],t.headerName?{provide:Tt,useValue:t.headerName}:[]]}}}class Dt{}const Vt={dataUrls:{getMySkillAnalytics:"./mockdata/skill_analytics.json",getUserAgents:"./mockdata/user-agent.json",getGalleries:"./mockdata/gallery.json"}};class Lt{constructor(t){this.http=t}getMySkillAnalytics(){return this.http.get(Vt.dataUrls.getMySkillAnalytics)}getUserAgents(){return this.http.get(Vt.dataUrls.getUserAgents)}getGalleries(){return this.http.get(Vt.dataUrls.getGalleries)}}class Ft{constructor(t){this.appService=t,this.skills=new Array}ngOnInit(){this.options={chart:{type:"discreteBarChart",height:300,margin:{top:20,right:20,bottom:50,left:55},x:t=>t.label,y:t=>t.value+1e-10,showValues:!0,valueFormat:t=>d3.format(",.0f")(t)+" Yrs",duration:10,xAxis:{axisLabel:"My Skills"},yAxis:{axisLabel:"Experience (in Years)",axisLabelDistance:-10}}},this.appService.getMySkillAnalytics().subscribe(t=>this.skills=t)}}var jt=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function zt(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,22,"div",[["class","panel panel-inverse"],["data-sortable-id","index-1"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n    "])),(t()(),r["\u0275eld"](2,0,null,null,10,"div",[["class","panel-heading"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275eld"](4,0,null,null,4,"div",[["class","panel-heading-btn"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275eld"](6,0,null,null,1,"a",[["class","btn-xs btn-icon fa fa-refresh btn-circle btn-success"],["data-click","panel-reload"],["href","javascript:;"]],null,null,null,null,null)),(t()(),r["\u0275eld"](7,0,null,null,0,"i",[["class","fa fa-redo"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275eld"](10,0,null,null,1,"h4",[["class","panel-title"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["My Skills Analytics"])),(t()(),r["\u0275ted"](-1,null,["\n    "])),(t()(),r["\u0275ted"](-1,null,["\n    "])),(t()(),r["\u0275eld"](14,0,null,null,7,"div",[["class","panel-body"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275eld"](16,0,null,null,4,"div",[["class","height-sm"],["id","interactive-chart"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n           "])),(t()(),r["\u0275eld"](18,0,null,null,1,"nvd3",[],null,null,null,l,a)),r["\u0275did"](19,638976,null,0,s.NvD3Component,[r.ElementRef],{options:[0,"options"],data:[1,"data"]},null),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275ted"](-1,null,["\n    "])),(t()(),r["\u0275ted"](-1,null,["\n"])),(t()(),r["\u0275ted"](-1,null,["\n"]))],function(t,e){var n=e.component;t(e,19,0,n.options,n.skills)},null)}var Wt=function(){},Ht=function(){function t(t,e){var n=this;this._loader=t,this._zone=e,this._map=new Promise(function(t){n._mapResolver=t})}return t.prototype.createMap=function(t,e){var n=this;return this._loader.load().then(function(){var r=new google.maps.Map(t,e);n._mapResolver(r)})},t.prototype.setMapOptions=function(t){this._map.then(function(e){e.setOptions(t)})},t.prototype.createMarker=function(t,e){return void 0===t&&(t={}),void 0===e&&(e=!0),this._map.then(function(n){return e&&(t.map=n),new google.maps.Marker(t)})},t.prototype.createInfoWindow=function(t){return this._map.then(function(){return new google.maps.InfoWindow(t)})},t.prototype.createCircle=function(t){return this._map.then(function(e){return t.map=e,new google.maps.Circle(t)})},t.prototype.createPolyline=function(t){return this.getNativeMap().then(function(e){var n=new google.maps.Polyline(t);return n.setMap(e),n})},t.prototype.createPolygon=function(t){return this.getNativeMap().then(function(e){var n=new google.maps.Polygon(t);return n.setMap(e),n})},t.prototype.createDataLayer=function(t){return this._map.then(function(e){var n=new google.maps.Data(t);return n.setMap(e),n})},t.prototype.containsLocation=function(t,e){return google.maps.geometry.poly.containsLocation(t,e)},t.prototype.subscribeToMapEvent=function(t){var e=this;return rt.a.create(function(n){e._map.then(function(r){r.addListener(t,function(t){e._zone.run(function(){return n.next(t)})})})})},t.prototype.setCenter=function(t){return this._map.then(function(e){return e.setCenter(t)})},t.prototype.getZoom=function(){return this._map.then(function(t){return t.getZoom()})},t.prototype.getBounds=function(){return this._map.then(function(t){return t.getBounds()})},t.prototype.setZoom=function(t){return this._map.then(function(e){return e.setZoom(t)})},t.prototype.getCenter=function(){return this._map.then(function(t){return t.getCenter()})},t.prototype.panTo=function(t){return this._map.then(function(e){return e.panTo(t)})},t.prototype.panBy=function(t,e){return this._map.then(function(n){return n.panBy(t,e)})},t.prototype.fitBounds=function(t){return this._map.then(function(e){return e.fitBounds(t)})},t.prototype.panToBounds=function(t){return this._map.then(function(e){return e.panToBounds(t)})},t.prototype.getNativeMap=function(){return this._map},t.prototype.triggerMapEvent=function(t){return this._map.then(function(e){return google.maps.event.trigger(e,t)})},t}(),Ut=function(){function t(t,e){this._mapsWrapper=t,this._zone=e,this._markers=new Map}return t.prototype.deleteMarker=function(t){var e=this,n=this._markers.get(t);return null==n?Promise.resolve():n.then(function(n){return e._zone.run(function(){n.setMap(null),e._markers.delete(t)})})},t.prototype.updateMarkerPosition=function(t){return this._markers.get(t).then(function(e){return e.setPosition({lat:t.latitude,lng:t.longitude})})},t.prototype.updateTitle=function(t){return this._markers.get(t).then(function(e){return e.setTitle(t.title)})},t.prototype.updateLabel=function(t){return this._markers.get(t).then(function(e){e.setLabel(t.label)})},t.prototype.updateDraggable=function(t){return this._markers.get(t).then(function(e){return e.setDraggable(t.draggable)})},t.prototype.updateIcon=function(t){return this._markers.get(t).then(function(e){return e.setIcon(t.iconUrl)})},t.prototype.updateOpacity=function(t){return this._markers.get(t).then(function(e){return e.setOpacity(t.opacity)})},t.prototype.updateVisible=function(t){return this._markers.get(t).then(function(e){return e.setVisible(t.visible)})},t.prototype.updateZIndex=function(t){return this._markers.get(t).then(function(e){return e.setZIndex(t.zIndex)})},t.prototype.updateClickable=function(t){return this._markers.get(t).then(function(e){return e.setClickable(t.clickable)})},t.prototype.addMarker=function(t){var e=this._mapsWrapper.createMarker({position:{lat:t.latitude,lng:t.longitude},label:t.label,draggable:t.draggable,icon:t.iconUrl,opacity:t.opacity,visible:t.visible,zIndex:t.zIndex,title:t.title,clickable:t.clickable});this._markers.set(t,e)},t.prototype.getNativeMarker=function(t){return this._markers.get(t)},t.prototype.createEventObservable=function(t,e){var n=this;return rt.a.create(function(r){n._markers.get(e).then(function(e){e.addListener(t,function(t){return n._zone.run(function(){return r.next(t)})})})})},t}(),Bt=function(){function t(t,e,n){this._mapsWrapper=t,this._zone=e,this._markerManager=n,this._infoWindows=new Map}return t.prototype.deleteInfoWindow=function(t){var e=this,n=this._infoWindows.get(t);return null==n?Promise.resolve():n.then(function(n){return e._zone.run(function(){n.close(),e._infoWindows.delete(t)})})},t.prototype.setPosition=function(t){return this._infoWindows.get(t).then(function(e){return e.setPosition({lat:t.latitude,lng:t.longitude})})},t.prototype.setZIndex=function(t){return this._infoWindows.get(t).then(function(e){return e.setZIndex(t.zIndex)})},t.prototype.open=function(t){var e=this;return this._infoWindows.get(t).then(function(n){return null!=t.hostMarker?e._markerManager.getNativeMarker(t.hostMarker).then(function(t){return e._mapsWrapper.getNativeMap().then(function(e){return n.open(e,t)})}):e._mapsWrapper.getNativeMap().then(function(t){return n.open(t)})})},t.prototype.close=function(t){return this._infoWindows.get(t).then(function(t){return t.close()})},t.prototype.setOptions=function(t,e){return this._infoWindows.get(t).then(function(t){return t.setOptions(e)})},t.prototype.addInfoWindow=function(t){var e={content:t.content,maxWidth:t.maxWidth,zIndex:t.zIndex,disableAutoPan:t.disableAutoPan};"number"==typeof t.latitude&&"number"==typeof t.longitude&&(e.position={lat:t.latitude,lng:t.longitude});var n=this._mapsWrapper.createInfoWindow(e);this._infoWindows.set(t,n)},t.prototype.createEventObservable=function(t,e){var n=this;return rt.a.create(function(r){n._infoWindows.get(e).then(function(e){e.addListener(t,function(t){return n._zone.run(function(){return r.next(t)})})})})},t}(),$t=function(){function t(t,e){this._apiWrapper=t,this._zone=e,this._circles=new Map}return t.prototype.addCircle=function(t){this._circles.set(t,this._apiWrapper.createCircle({center:{lat:t.latitude,lng:t.longitude},clickable:t.clickable,draggable:t.draggable,editable:t.editable,fillColor:t.fillColor,fillOpacity:t.fillOpacity,radius:t.radius,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokePosition:t.strokePosition,strokeWeight:t.strokeWeight,visible:t.visible,zIndex:t.zIndex}))},t.prototype.removeCircle=function(t){var e=this;return this._circles.get(t).then(function(n){n.setMap(null),e._circles.delete(t)})},t.prototype.setOptions=function(t,e){return this._circles.get(t).then(function(t){return t.setOptions(e)})},t.prototype.getBounds=function(t){return this._circles.get(t).then(function(t){return t.getBounds()})},t.prototype.getCenter=function(t){return this._circles.get(t).then(function(t){return t.getCenter()})},t.prototype.getRadius=function(t){return this._circles.get(t).then(function(t){return t.getRadius()})},t.prototype.setCenter=function(t){return this._circles.get(t).then(function(e){return e.setCenter({lat:t.latitude,lng:t.longitude})})},t.prototype.setEditable=function(t){return this._circles.get(t).then(function(e){return e.setEditable(t.editable)})},t.prototype.setDraggable=function(t){return this._circles.get(t).then(function(e){return e.setDraggable(t.draggable)})},t.prototype.setVisible=function(t){return this._circles.get(t).then(function(e){return e.setVisible(t.visible)})},t.prototype.setRadius=function(t){return this._circles.get(t).then(function(e){return e.setRadius(t.radius)})},t.prototype.createEventObservable=function(t,e){var n=this;return rt.a.create(function(r){var i=null;return n._circles.get(e).then(function(e){i=e.addListener(t,function(t){return n._zone.run(function(){return r.next(t)})})}),function(){null!==i&&i.remove()}})},t}(),qt=function(){function t(t,e){this._mapsWrapper=t,this._zone=e,this._polylines=new Map}return t._convertPoints=function(t){return t._getPoints().map(function(t){return{lat:t.latitude,lng:t.longitude}})},t.prototype.addPolyline=function(e){var n=t._convertPoints(e),r=this._mapsWrapper.createPolyline({clickable:e.clickable,draggable:e.draggable,editable:e.editable,geodesic:e.geodesic,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokeWeight:e.strokeWeight,visible:e.visible,zIndex:e.zIndex,path:n});this._polylines.set(e,r)},t.prototype.updatePolylinePoints=function(e){var n=this,r=t._convertPoints(e),i=this._polylines.get(e);return null==i?Promise.resolve():i.then(function(t){return n._zone.run(function(){t.setPath(r)})})},t.prototype.setPolylineOptions=function(t,e){return this._polylines.get(t).then(function(t){t.setOptions(e)})},t.prototype.deletePolyline=function(t){var e=this,n=this._polylines.get(t);return null==n?Promise.resolve():n.then(function(n){return e._zone.run(function(){n.setMap(null),e._polylines.delete(t)})})},t.prototype.createEventObservable=function(t,e){var n=this;return rt.a.create(function(r){n._polylines.get(e).then(function(e){e.addListener(t,function(t){return n._zone.run(function(){return r.next(t)})})})})},t}(),Gt=function(){function t(t,e){this._mapsWrapper=t,this._zone=e,this._polygons=new Map}return t.prototype.addPolygon=function(t){var e=this._mapsWrapper.createPolygon({clickable:t.clickable,draggable:t.draggable,editable:t.editable,fillColor:t.fillColor,fillOpacity:t.fillOpacity,geodesic:t.geodesic,paths:t.paths,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWeight:t.strokeWeight,visible:t.visible,zIndex:t.zIndex});this._polygons.set(t,e)},t.prototype.updatePolygon=function(t){var e=this,n=this._polygons.get(t);return null==n?Promise.resolve():n.then(function(n){return e._zone.run(function(){n.setPaths(t.paths)})})},t.prototype.setPolygonOptions=function(t,e){return this._polygons.get(t).then(function(t){t.setOptions(e)})},t.prototype.deletePolygon=function(t){var e=this,n=this._polygons.get(t);return null==n?Promise.resolve():n.then(function(n){return e._zone.run(function(){n.setMap(null),e._polygons.delete(t)})})},t.prototype.createEventObservable=function(t,e){var n=this;return rt.a.create(function(r){n._polygons.get(e).then(function(e){e.addListener(t,function(t){return n._zone.run(function(){return r.next(t)})})})})},t}(),Zt=function(){function t(t,e){this._wrapper=t,this._zone=e,this._layers=new Map}return t.prototype.addKmlLayer=function(t){var e=this._wrapper.getNativeMap().then(function(e){return new google.maps.KmlLayer({clickable:t.clickable,map:e,preserveViewport:t.preserveViewport,screenOverlays:t.screenOverlays,suppressInfoWindows:t.suppressInfoWindows,url:t.url,zIndex:t.zIndex})});this._layers.set(t,e)},t.prototype.setOptions=function(t,e){this._layers.get(t).then(function(t){return t.setOptions(e)})},t.prototype.deleteKmlLayer=function(t){var e=this;this._layers.get(t).then(function(n){n.setMap(null),e._layers.delete(t)})},t.prototype.createEventObservable=function(t,e){var n=this;return rt.a.create(function(r){n._layers.get(e).then(function(e){e.addListener(t,function(t){return n._zone.run(function(){return r.next(t)})})})})},t}(),Yt=function(){function t(t,e){this._wrapper=t,this._zone=e,this._layers=new Map}return t.prototype.addDataLayer=function(t){var e=this,n=this._wrapper.createDataLayer({style:t.style}).then(function(n){return t.geoJson&&e.getDataFeatures(n,t.geoJson).then(function(t){return n.features=t}),n});this._layers.set(t,n)},t.prototype.deleteDataLayer=function(t){var e=this;this._layers.get(t).then(function(n){n.setMap(null),e._layers.delete(t)})},t.prototype.updateGeoJson=function(t,e){var n=this;this._layers.get(t).then(function(t){t.forEach(function(e){t.remove(e);var n=t.features.indexOf(e,0);n>-1&&t.features.splice(n,1)}),n.getDataFeatures(t,e).then(function(e){return t.features=e})})},t.prototype.setDataOptions=function(t,e){this._layers.get(t).then(function(t){t.setControlPosition(e.controlPosition),t.setControls(e.controls),t.setDrawingMode(e.drawingMode),t.setStyle(e.style)})},t.prototype.createEventObservable=function(t,e){var n=this;return rt.a.create(function(r){n._layers.get(e).then(function(e){e.addListener(t,function(t){return n._zone.run(function(){return r.next(t)})})})})},t.prototype.getDataFeatures=function(t,e){return new Promise(function(n,r){if("object"==typeof e)try{n(t.addGeoJson(e))}catch(t){r(t)}else"string"==typeof e?t.loadGeoJson(e,null,n):r("Impossible to extract features from geoJson: wrong argument type")})},t}(),Xt=function(){function t(t,e){this._elem=t,this._mapsWrapper=e,this.longitude=0,this.latitude=0,this.zoom=8,this.draggable=!0,this.disableDoubleClickZoom=!1,this.disableDefaultUI=!1,this.scrollwheel=!0,this.keyboardShortcuts=!0,this.zoomControl=!0,this.styles=[],this.usePanning=!1,this.streetViewControl=!0,this.fitBounds=null,this.scaleControl=!1,this.mapTypeControl=!1,this.panControl=!1,this.rotateControl=!1,this.fullscreenControl=!1,this.mapTypeId="roadmap",this.clickableIcons=!0,this.gestureHandling="auto",this._observableSubscriptions=[],this.mapClick=new r.EventEmitter,this.mapRightClick=new r.EventEmitter,this.mapDblClick=new r.EventEmitter,this.centerChange=new r.EventEmitter,this.boundsChange=new r.EventEmitter,this.idle=new r.EventEmitter,this.zoomChange=new r.EventEmitter,this.mapReady=new r.EventEmitter}return t.prototype.ngOnInit=function(){var t=this._elem.nativeElement.querySelector(".agm-map-container-inner");this._initMapInstance(t)},t.prototype._initMapInstance=function(t){var e=this;this._mapsWrapper.createMap(t,{center:{lat:this.latitude||0,lng:this.longitude||0},zoom:this.zoom,minZoom:this.minZoom,maxZoom:this.maxZoom,disableDefaultUI:this.disableDefaultUI,disableDoubleClickZoom:this.disableDoubleClickZoom,scrollwheel:this.scrollwheel,backgroundColor:this.backgroundColor,draggable:this.draggable,draggableCursor:this.draggableCursor,draggingCursor:this.draggingCursor,keyboardShortcuts:this.keyboardShortcuts,styles:this.styles,zoomControl:this.zoomControl,zoomControlOptions:this.zoomControlOptions,streetViewControl:this.streetViewControl,streetViewControlOptions:this.streetViewControlOptions,scaleControl:this.scaleControl,scaleControlOptions:this.scaleControlOptions,mapTypeControl:this.mapTypeControl,mapTypeControlOptions:this.mapTypeControlOptions,panControl:this.panControl,panControlOptions:this.panControlOptions,rotateControl:this.rotateControl,rotateControlOptions:this.rotateControlOptions,fullscreenControl:this.fullscreenControl,fullscreenControlOptions:this.fullscreenControlOptions,mapTypeId:this.mapTypeId,clickableIcons:this.clickableIcons,gestureHandling:this.gestureHandling}).then(function(){return e._mapsWrapper.getNativeMap()}).then(function(t){return e.mapReady.emit(t)}),this._handleMapCenterChange(),this._handleMapZoomChange(),this._handleMapMouseEvents(),this._handleBoundsChange(),this._handleIdleEvent()},t.prototype.ngOnDestroy=function(){this._observableSubscriptions.forEach(function(t){return t.unsubscribe()})},t.prototype.ngOnChanges=function(t){this._updateMapOptionsChanges(t),this._updatePosition(t)},t.prototype._updateMapOptionsChanges=function(e){var n={};Object.keys(e).filter(function(e){return-1!==t._mapOptionsAttributes.indexOf(e)}).forEach(function(t){n[t]=e[t].currentValue}),this._mapsWrapper.setMapOptions(n)},t.prototype.triggerResize=function(t){var e=this;return void 0===t&&(t=!0),new Promise(function(n){setTimeout(function(){return e._mapsWrapper.triggerMapEvent("resize").then(function(){t&&(null!=e.fitBounds?e._fitBounds():e._setCenter()),n()})})})},t.prototype._updatePosition=function(t){null==t.latitude&&null==t.longitude&&null==t.fitBounds||(t.fitBounds&&null!=this.fitBounds?this._fitBounds():"number"==typeof this.latitude&&"number"==typeof this.longitude&&this._setCenter())},t.prototype._setCenter=function(){var t={lat:this.latitude,lng:this.longitude};this.usePanning?this._mapsWrapper.panTo(t):this._mapsWrapper.setCenter(t)},t.prototype._fitBounds=function(){this.usePanning?this._mapsWrapper.panToBounds(this.fitBounds):this._mapsWrapper.fitBounds(this.fitBounds)},t.prototype._handleMapCenterChange=function(){var t=this,e=this._mapsWrapper.subscribeToMapEvent("center_changed").subscribe(function(){t._mapsWrapper.getCenter().then(function(e){t.latitude=e.lat(),t.longitude=e.lng(),t.centerChange.emit({lat:t.latitude,lng:t.longitude})})});this._observableSubscriptions.push(e)},t.prototype._handleBoundsChange=function(){var t=this,e=this._mapsWrapper.subscribeToMapEvent("bounds_changed").subscribe(function(){t._mapsWrapper.getBounds().then(function(e){t.boundsChange.emit(e)})});this._observableSubscriptions.push(e)},t.prototype._handleMapZoomChange=function(){var t=this,e=this._mapsWrapper.subscribeToMapEvent("zoom_changed").subscribe(function(){t._mapsWrapper.getZoom().then(function(e){t.zoom=e,t.zoomChange.emit(e)})});this._observableSubscriptions.push(e)},t.prototype._handleIdleEvent=function(){var t=this,e=this._mapsWrapper.subscribeToMapEvent("idle").subscribe(function(){t.idle.emit(void 0)});this._observableSubscriptions.push(e)},t.prototype._handleMapMouseEvents=function(){var t=this;[{name:"click",emitter:this.mapClick},{name:"rightclick",emitter:this.mapRightClick},{name:"dblclick",emitter:this.mapDblClick}].forEach(function(e){var n=t._mapsWrapper.subscribeToMapEvent(e.name).subscribe(function(t){var n={coords:{lat:t.latLng.lat(),lng:t.latLng.lng()}};e.emitter.emit(n)});t._observableSubscriptions.push(n)})},t._mapOptionsAttributes=["disableDoubleClickZoom","scrollwheel","draggable","draggableCursor","draggingCursor","keyboardShortcuts","zoomControl","zoomControlOptions","styles","streetViewControl","streetViewControlOptions","zoom","mapTypeControl","mapTypeControlOptions","minZoom","maxZoom","panControl","panControlOptions","rotateControl","rotateControlOptions","fullscreenControl","fullscreenControlOptions","scaleControl","scaleControlOptions","mapTypeId","clickableIcons","gestureHandling"],t}(),Kt=r["\u0275crt"]({encapsulation:0,styles:[".agm-map-container-inner[_ngcontent-%COMP%] {\n      width: inherit;\n      height: inherit;\n    }\n    .agm-map-content[_ngcontent-%COMP%] {\n      display:none;\n    }"],data:{}});function Qt(t){return r["\u0275vid"](0,[(t()(),r["\u0275ted"](-1,null,["\n    "])),(t()(),r["\u0275eld"](1,0,null,null,0,"div",[["class","agm-map-container-inner sebm-google-map-container-inner"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n    "])),(t()(),r["\u0275eld"](3,0,null,null,3,"div",[["class","agm-map-content"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n      "])),r["\u0275ncd"](null,0),(t()(),r["\u0275ted"](-1,null,["\n    "])),(t()(),r["\u0275ted"](-1,null,["\n  "]))],null,null)}var Jt,te=0,ee=function(){function t(t){this._markerManager=t,this.draggable=!1,this.visible=!0,this.openInfoWindow=!0,this.opacity=1,this.zIndex=1,this.clickable=!0,this.markerClick=new r.EventEmitter,this.dragEnd=new r.EventEmitter,this.mouseOver=new r.EventEmitter,this.mouseOut=new r.EventEmitter,this.infoWindow=new r.QueryList,this._markerAddedToManger=!1,this._observableSubscriptions=[],this._id=(te++).toString()}return t.prototype.ngAfterContentInit=function(){var t=this;this.handleInfoWindowUpdate(),this.infoWindow.changes.subscribe(function(){return t.handleInfoWindowUpdate()})},t.prototype.handleInfoWindowUpdate=function(){var t=this;if(this.infoWindow.length>1)throw new Error("Expected no more than one info window.");this.infoWindow.forEach(function(e){e.hostMarker=t})},t.prototype.ngOnChanges=function(t){if("number"==typeof this.latitude&&"number"==typeof this.longitude){if(!this._markerAddedToManger)return this._markerManager.addMarker(this),this._markerAddedToManger=!0,void this._addEventListeners();(t.latitude||t.longitude)&&this._markerManager.updateMarkerPosition(this),t.title&&this._markerManager.updateTitle(this),t.label&&this._markerManager.updateLabel(this),t.draggable&&this._markerManager.updateDraggable(this),t.iconUrl&&this._markerManager.updateIcon(this),t.opacity&&this._markerManager.updateOpacity(this),t.visible&&this._markerManager.updateVisible(this),t.zIndex&&this._markerManager.updateZIndex(this),t.clickable&&this._markerManager.updateClickable(this)}},t.prototype._addEventListeners=function(){var t=this,e=this._markerManager.createEventObservable("click",this).subscribe(function(){t.openInfoWindow&&t.infoWindow.forEach(function(t){return t.open()}),t.markerClick.emit(null)});this._observableSubscriptions.push(e);var n=this._markerManager.createEventObservable("dragend",this).subscribe(function(e){t.dragEnd.emit({coords:{lat:e.latLng.lat(),lng:e.latLng.lng()}})});this._observableSubscriptions.push(n);var r=this._markerManager.createEventObservable("mouseover",this).subscribe(function(e){t.mouseOver.emit({coords:{lat:e.latLng.lat(),lng:e.latLng.lng()}})});this._observableSubscriptions.push(r);var i=this._markerManager.createEventObservable("mouseout",this).subscribe(function(e){t.mouseOut.emit({coords:{lat:e.latLng.lat(),lng:e.latLng.lng()}})});this._observableSubscriptions.push(i)},t.prototype.id=function(){return this._id},t.prototype.toString=function(){return"AgmMarker-"+this._id.toString()},t.prototype.ngOnDestroy=function(){this._markerManager.deleteMarker(this),this._observableSubscriptions.forEach(function(t){return t.unsubscribe()})},t}(),ne=function(){function t(){}return t.prototype.getNativeWindow=function(){return window},t}(),re=function(){function t(){}return t.prototype.getNativeDocument=function(){return document},t}(),ie=[ne,re],oe=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t[t.HTTP=1]="HTTP",t[t.HTTPS=2]="HTTPS",t[t.AUTO=3]="AUTO"}(Jt||(Jt={}));var se=new r.InjectionToken("angular-google-maps LAZY_MAPS_API_CONFIG"),ae=function(t){function e(e,n,r){var i=t.call(this)||this;return i._config=e||{},i._windowRef=n,i._documentRef=r,i}return oe(e,t),e.prototype.load=function(){var t=this;if(this._scriptLoadingPromise)return this._scriptLoadingPromise;var e=this._documentRef.getNativeDocument().createElement("script");return e.type="text/javascript",e.async=!0,e.defer=!0,e.src=this._getScriptSrc("angular2GoogleMapsLazyMapsAPILoader"),this._scriptLoadingPromise=new Promise(function(n,r){t._windowRef.getNativeWindow().angular2GoogleMapsLazyMapsAPILoader=function(){n()},e.onerror=function(t){r(t)}}),this._documentRef.getNativeDocument().body.appendChild(e),this._scriptLoadingPromise},e.prototype._getScriptSrc=function(t){var e;switch(this._config&&this._config.protocol||Jt.HTTPS){case Jt.AUTO:e="";break;case Jt.HTTP:e="http:";break;case Jt.HTTPS:e="https:"}var n={v:this._config.apiVersion||"3",callback:t,key:this._config.apiKey,client:this._config.clientId,channel:this._config.channel,libraries:this._config.libraries,region:this._config.region,language:this._config.language};return e+"//"+(this._config.hostAndPath||"maps.googleapis.com/maps/api/js")+"?"+Object.keys(n).filter(function(t){return null!=n[t]}).filter(function(t){return!Array.isArray(n[t])||Array.isArray(n[t])&&n[t].length>0}).map(function(t){var e=n[t];return Array.isArray(e)?{key:t,value:e.join(",")}:{key:t,value:n[t]}}).map(function(t){return t.key+"="+t.value}).join("&")},e}(Wt),le=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:ie.concat([{provide:Wt,useClass:ae},{provide:se,useValue:e}])}},t}();class ue{constructor(t,e){this.mapsAPILoader=t,this.ngZone=e}ngOnInit(){this.zoom=4,this.latitude=39.8282,this.longitude=-98.5795,this.setCurrentPosition(),this.mapsAPILoader.load().then(()=>{let t=new google.maps.places.Autocomplete(this.searchElementRef.nativeElement,{types:["address"]});t.addListener("place_changed",()=>{this.ngZone.run(()=>{let e=t.getPlace();void 0!==e.geometry&&null!==e.geometry&&(this.latitude=e.geometry.location.lat(),this.longitude=e.geometry.location.lng(),this.zoom=12)})})})}setCurrentPosition(){"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(t=>{this.latitude=t.coords.latitude,this.longitude=t.coords.longitude,this.zoom=12})}}var ce=r["\u0275crt"]({encapsulation:0,styles:["agm-map[_ngcontent-%COMP%] {\n      height: 300px;\n    }"],data:{}});function de(t){return r["\u0275vid"](0,[r["\u0275qud"](402653184,1,{searchElementRef:0}),(t()(),r["\u0275ted"](-1,null,["\n"])),(t()(),r["\u0275eld"](2,0,null,null,37,"div",[["class","panel panel-inverse"],["data-sortable-id","index-9"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275eld"](4,0,null,null,4,"div",[["class","panel-heading"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275eld"](6,0,null,null,1,"h4",[["class","panel-title"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Locations"])),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275eld"](10,0,null,null,28,"div",[["class","panel-body p-1"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275eld"](12,0,null,null,25,"div",[["class","height-sm width-full"],["id","world-map"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                    "])),(t()(),r["\u0275eld"](14,0,null,null,22,"div",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                            "])),(t()(),r["\u0275eld"](16,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                                "])),(t()(),r["\u0275eld"](18,0,[[1,0],["search",1]],null,0,"input",[["autocapitalize","off"],["autocorrect","off"],["class","form-control"],["placeholder","search for location"],["spellcheck","off"],["type","text"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                            "])),(t()(),r["\u0275ted"](-1,null,["\n                            "])),(t()(),r["\u0275eld"](21,0,null,null,14,"agm-map",[],[[2,"sebm-google-map-container",null]],null,null,Qt,Kt)),r["\u0275prd"](4608,null,Bt,Bt,[Ht,r.NgZone,Ut]),r["\u0275prd"](4608,null,$t,$t,[Ht,r.NgZone]),r["\u0275prd"](4608,null,qt,qt,[Ht,r.NgZone]),r["\u0275prd"](4608,null,Gt,Gt,[Ht,r.NgZone]),r["\u0275prd"](4608,null,Zt,Zt,[Ht,r.NgZone]),r["\u0275prd"](4608,null,Yt,Yt,[Ht,r.NgZone]),r["\u0275prd"](512,null,Ht,Ht,[Wt,r.NgZone]),r["\u0275did"](29,770048,null,0,Xt,[r.ElementRef,Ht],{longitude:[0,"longitude"],latitude:[1,"latitude"],zoom:[2,"zoom"],scrollwheel:[3,"scrollwheel"]},null),r["\u0275prd"](512,null,Ut,Ut,[Ht,r.NgZone]),(t()(),r["\u0275ted"](-1,0,["\n                                "])),(t()(),r["\u0275eld"](32,0,null,0,2,"agm-marker",[],null,null,null,null,null)),r["\u0275did"](33,1720320,null,1,ee,[Ut],{latitude:[0,"latitude"],longitude:[1,"longitude"]},null),r["\u0275qud"](603979776,2,{infoWindow:1}),(t()(),r["\u0275ted"](-1,0,["\n                            "])),(t()(),r["\u0275ted"](-1,null,["\n                        "])),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275ted"](-1,null,["\n    "])),(t()(),r["\u0275ted"](-1,null,["\n\n\n        \n"]))],function(t,e){var n=e.component;t(e,29,0,n.longitude,n.latitude,n.zoom,!1),t(e,33,0,n.latitude,n.longitude)},function(t,e){t(e,21,0,!0)})}class he{}var fe=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function pe(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,95,"div",[["class","panel panel-inverse"],["data-sortable-id","index-6"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275eld"](2,0,null,null,4,"div",[["class","panel-heading"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275eld"](4,0,null,null,1,"h4",[["class","panel-title"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Tools & Integration Details"])),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275eld"](8,0,null,null,86,"div",[["class","panel-body p-t-0"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275eld"](10,0,null,null,83,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                "])),(t()(),r["\u0275eld"](12,0,null,null,80,"table",[["class","table table-valign-middle"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                    "])),(t()(),r["\u0275eld"](14,0,null,null,77,"tbody",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                        "])),(t()(),r["\u0275eld"](16,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                            "])),(t()(),r["\u0275eld"](18,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),r["\u0275eld"](19,0,null,null,1,"label",[["class","label label-success"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Microsoft Visual Studio"])),(t()(),r["\u0275ted"](-1,null,["\n                            "])),(t()(),r["\u0275eld"](22,0,null,null,3,"td",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["2017 "])),(t()(),r["\u0275eld"](24,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(t()(),r["\u0275eld"](25,0,null,null,0,"i",[["class","fa fa-arrow-up"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                        "])),(t()(),r["\u0275ted"](-1,null,["\n                        "])),(t()(),r["\u0275eld"](28,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                            "])),(t()(),r["\u0275eld"](30,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),r["\u0275eld"](31,0,null,null,1,"label",[["class","label label-primary"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Microsoft Visual Studio Code"])),(t()(),r["\u0275ted"](-1,null,["\n                            "])),(t()(),r["\u0275eld"](34,0,null,null,3,"td",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["1.21.x"])),(t()(),r["\u0275eld"](36,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(t()(),r["\u0275eld"](37,0,null,null,0,"i",[["class","fa fa-arrow-up"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                        "])),(t()(),r["\u0275ted"](-1,null,["\n                        "])),(t()(),r["\u0275eld"](40,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                            "])),(t()(),r["\u0275eld"](42,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),r["\u0275eld"](43,0,null,null,1,"label",[["class","label label-danger"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Team Foundation Service"])),(t()(),r["\u0275ted"](-1,null,["\n                            "])),(t()(),r["\u0275eld"](46,0,null,null,3,"td",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["latest "])),(t()(),r["\u0275eld"](48,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(t()(),r["\u0275eld"](49,0,null,null,0,"i",[["class","fa fa-arrow-up"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                        "])),(t()(),r["\u0275ted"](-1,null,["\n                        "])),(t()(),r["\u0275eld"](52,0,null,null,8,"tr",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                            "])),(t()(),r["\u0275eld"](54,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),r["\u0275eld"](55,0,null,null,1,"label",[["class","label label-warning"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["GitHub"])),(t()(),r["\u0275ted"](-1,null,["\n                            "])),(t()(),r["\u0275eld"](58,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["-"])),(t()(),r["\u0275ted"](-1,null,["\n                        "])),(t()(),r["\u0275ted"](-1,null,["\n                        "])),(t()(),r["\u0275eld"](62,0,null,null,8,"tr",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                            "])),(t()(),r["\u0275eld"](64,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),r["\u0275eld"](65,0,null,null,1,"label",[["class","label label-default"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["SVN"])),(t()(),r["\u0275ted"](-1,null,["\n                            "])),(t()(),r["\u0275eld"](68,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["latest"])),(t()(),r["\u0275ted"](-1,null,["\n                        "])),(t()(),r["\u0275ted"](-1,null,["\n                        "])),(t()(),r["\u0275eld"](72,0,null,null,8,"tr",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                            "])),(t()(),r["\u0275eld"](74,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),r["\u0275eld"](75,0,null,null,1,"label",[["class","label label-inverse"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Payment Gateways"])),(t()(),r["\u0275ted"](-1,null,["\n                            "])),(t()(),r["\u0275eld"](78,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Authorize.net, paypal or any other "])),(t()(),r["\u0275ted"](-1,null,["\n                        "])),(t()(),r["\u0275ted"](-1,null,["\n                        "])),(t()(),r["\u0275eld"](82,0,null,null,8,"tr",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                            "])),(t()(),r["\u0275eld"](84,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),r["\u0275eld"](85,0,null,null,1,"label",[["class","label label-danger"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Social & Maps"])),(t()(),r["\u0275ted"](-1,null,["\n                            "])),(t()(),r["\u0275eld"](88,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Facebook, Twitter, Linkedin & Google Maps"])),(t()(),r["\u0275ted"](-1,null,["\n                        "])),(t()(),r["\u0275ted"](-1,null,["\n                    "])),(t()(),r["\u0275ted"](-1,null,["\n                "])),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275ted"](-1,null,["\n    "]))],null,null)}class ge{constructor(t){this.appService=t,this.data=new Array}ngOnInit(){this.options={chart:{type:"pieChart",height:300,donut:!0,donutRatio:.45,x:t=>t.label,y:t=>t.value+1e-10,showValues:!0,valueFormat:t=>d3.format(",.0f")(t)+"%",showLabels:!0,keyThreshold:.05,keyType:"label",labelsOutside:!0,showLegend:!1}},this.appService.getUserAgents().subscribe(t=>this.data=t)}}var me=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function ve(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,16,"div",[["class","panel panel-inverse"],["data-sortable-id","index-7"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275eld"](2,0,null,null,4,"div",[["class","panel-heading"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275eld"](4,0,null,null,1,"h4",[["class","panel-title"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["User Agents"])),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275eld"](8,0,null,null,7,"div",[["class","panel-body"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275eld"](10,0,null,null,4,"div",[["class","height-sm"],["id","pie-chart"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                "])),(t()(),r["\u0275eld"](12,0,null,null,1,"nvd3",[],null,null,null,l,a)),r["\u0275did"](13,638976,null,0,s.NvD3Component,[r.ElementRef],{options:[0,"options"],data:[1,"data"]},null),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275ted"](-1,null,["\n"]))],function(t,e){var n=e.component;t(e,13,0,n.options,n.data)},null)}class ye{}var be=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function xe(t){return r["\u0275vid"](0,[(t()(),r["\u0275ted"](-1,null,["\n"])),(t()(),r["\u0275eld"](1,0,null,null,3,"h1",[["class","page-header"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Summary "])),(t()(),r["\u0275eld"](3,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["This is my portfolio which shows my technicall skills and built in angular 5 and bootstrap 4 in responsive mode..."])),(t()(),r["\u0275ted"](-1,null,["\n"])),(t()(),r["\u0275ted"](-1,null,["\n\n"])),(t()(),r["\u0275ted"](-1,null,["\n"])),(t()(),r["\u0275eld"](8,0,null,null,31,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275eld"](11,0,null,null,11,"div",[["class","col-lg-8"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275eld"](14,0,null,null,1,"skill-analytics",[],null,null,null,zt,jt)),r["\u0275did"](15,114688,null,0,Ft,[Lt],null,null),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275ted"](-1,null,["\n            \n           "])),(t()(),r["\u0275ted"](-1,null,["\n           "])),(t()(),r["\u0275eld"](19,0,null,null,1,"g-map",[],null,null,null,de,ce)),r["\u0275did"](20,114688,null,0,ue,[Wt,r.NgZone],null,null),(t()(),r["\u0275ted"](-1,null,["\n           "])),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275eld"](26,0,null,null,11,"div",[["class","col-lg-4"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275eld"](29,0,null,null,1,"analytics",[],null,null,null,pe,fe)),r["\u0275did"](30,49152,null,0,he,[],null,null),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275ted"](-1,null,["\n            \n            "])),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275eld"](34,0,null,null,1,"user-agent",[],null,null,null,ve,me)),r["\u0275did"](35,114688,null,0,ge,[Lt],null,null),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275ted"](-1,null,["\n    "])),(t()(),r["\u0275ted"](-1,null,["\n    "]))],function(t,e){t(e,15,0),t(e,20,0),t(e,35,0)},null)}var _e=r["\u0275ccf"]("dash-board",ye,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"dash-board",[],null,null,null,xe,be)),r["\u0275did"](1,49152,null,0,ye,[],null,null)],null,null)},{},{},[]);class we{constructor(t){this.appService=t,this.galleries=new Array}ngOnInit(){this.appService.getGalleries().subscribe(t=>this.galleries=t)}}var Ce=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function ke(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,12,"div",[["class","col-sm-6 col-md-4 col-xl-3 mb-3"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n          "])),(t()(),r["\u0275eld"](2,0,null,null,6,"a",[["href","javascript:void(0);"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275eld"](4,0,null,null,0,"img",[["alt","Album screenshot"],["class","img-thumbnail mb-3"],["height","600"],["width","960"]],[[8,"src",4]],null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275eld"](6,0,null,null,1,"h5",[["class","mb-1"]],null,null,null,null,null)),(t()(),r["\u0275ted"](7,null,["",""])),(t()(),r["\u0275ted"](-1,null,["\n          "])),(t()(),r["\u0275ted"](-1,null,["\n          "])),(t()(),r["\u0275eld"](10,0,null,null,1,"p",[["class","text-muted"]],null,null,null,null,null)),(t()(),r["\u0275ted"](11,null,["",""])),(t()(),r["\u0275ted"](-1,null,["\n        "]))],null,function(t,e){t(e,4,0,r["\u0275inlineInterpolate"](1,"./assets/gallery/",e.context.index+1,".jpg")),t(e,7,0,e.context.$implicit.title),t(e,11,0,e.context.$implicit.description)})}function Me(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Gallery"])),(t()(),r["\u0275ted"](-1,null,["\n"])),(t()(),r["\u0275eld"](3,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275and"](16777216,null,null,1,null,ke)),r["\u0275did"](6,802816,null,0,V,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),r["\u0275ted"](-1,null,["\n"]))],function(t,e){t(e,6,0,e.component.galleries)},null)}var Ee=r["\u0275ccf"]("gallery",we,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"gallery",[],null,null,null,Me,Ce)),r["\u0275did"](1,114688,null,0,we,[Lt],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Ae=n("XVqe"),Se=n("6MRC"),Te=n("73El"),Ne=n("JEOp");class Oe extends rt.a{constructor(t,e){super(),this.sources=t,this.resultSelector=e}static create(...t){if(null===t||0===arguments.length)return new Ae.a;let e=null;return"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Se.a)(t[0])&&(t=t[0]),0===t.length?new Ae.a:new Oe(t,e)}_subscribe(t){return new Pe(t,this.sources,this.resultSelector)}}class Pe extends Ne.a{constructor(t,e,n){super(t),this.sources=e,this.resultSelector=n,this.completed=0,this.haveValues=0;const r=e.length;this.total=r,this.values=new Array(r);for(let i=0;i<r;i++){const t=e[i],n=Object(Te.a)(this,t,null,i);n&&(n.outerIndex=i,this.add(n))}}notifyNext(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)}notifyComplete(t){const e=this.destination,{haveValues:n,resultSelector:r,values:i}=this,o=i.length;if(t._hasValue){if(this.completed++,this.completed===o){if(n===o){const t=r?r.apply(this,i):i;e.next(t)}e.complete()}}else e.complete()}}const Ie=Oe.create;var Re=n("bbL7");class De extends rt.a{constructor(t,e){super(),this.promise=t,this.scheduler=e}static create(t,e){return new De(t,e)}_subscribe(t){const e=this.promise,n=this.scheduler;if(null==n)this._isScalar?t.closed||(t.next(this.value),t.complete()):e.then(e=>{this.value=e,this._isScalar=!0,t.closed||(t.next(e),t.complete())},e=>{t.closed||t.error(e)}).then(null,t=>{Re.a.setTimeout(()=>{throw t})});else if(this._isScalar){if(!t.closed)return n.schedule(Ve,0,{value:this.value,subscriber:t})}else e.then(e=>{this.value=e,this._isScalar=!0,t.closed||t.add(n.schedule(Ve,0,{value:e,subscriber:t}))},e=>{t.closed||t.add(n.schedule(Le,0,{err:e,subscriber:t}))}).then(null,t=>{Re.a.setTimeout(()=>{throw t})})}}function Ve(t){const{value:e,subscriber:n}=t;n.closed||(n.next(e),n.complete())}function Le(t){const{err:e,subscriber:n}=t;n.closed||n.error(e)}const Fe=De.create;let je=null;function ze(){return je}class We{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}class He extends We{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const t=this.createElement("div",document);if(null!=this.getStyle(t,"animationName"))this._animationPrefix="";else{const e=["Webkit","Moz","O","ms"];for(let n=0;n<e.length;n++)if(null!=this.getStyle(t,e[n]+"AnimationName")){this._animationPrefix="-"+e[n].toLowerCase()+"-";break}}const e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(e).forEach(n=>{null!=this.getStyle(t,n)&&(this._transitionEnd=e[n])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const Ue={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Be=3,$e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qe={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};let Ge;r["\u0275global"].Node&&(Ge=r["\u0275global"].Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});class Ze extends He{parse(t){throw new Error("parse not implemented")}static makeCurrent(){!function(t){je||(je=t)}(new Ze)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return Ue}contains(t,e){return Ge.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const r=this.getStyle(t,e)||"";return n?r==n:r.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,r){t.setAttributeNS(e,n,r)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===Be&&qe.hasOwnProperty(e)&&(e=qe[e]))}return $e[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Xe||(Xe=document.querySelector("base"))?Xe.getAttribute("href"):null;return null==e?null:function(t){return Ye||(Ye=document.createElement("a")),Ye.setAttribute("href",t),"/"===Ye.pathname.charAt(0)?Ye.pathname:"/"+Ye.pathname}(e)}resetBaseElement(){Xe=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return R(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let Ye,Xe=null;const Ke=nt;function Qe(){return!!window.history.pushState}class Je extends x{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=ze().getLocation(),this._history=ze().getHistory()}getBaseHrefFromDOM(){return ze().getBaseHref(this._doc)}onPopState(t){ze().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){ze().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Qe()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Qe()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}}Je.ctorParameters=(()=>[{type:void 0,decorators:[{type:r.Inject,args:[Ke]}]}]);class tn{constructor(t){this._doc=t,this._dom=ze()}addTag(t,e=!1){return t?this._getOrCreateElement(t,e):null}addTags(t,e=!1){return t?t.reduce((t,n)=>(n&&t.push(this._getOrCreateElement(n,e)),t),[]):[]}getTag(t){return t&&this._dom.querySelector(this._doc,`meta[${t}]`)||null}getTags(t){if(!t)return[];const e=this._dom.querySelectorAll(this._doc,`meta[${t}]`);return e?[].slice.call(e):[]}updateTag(t,e){if(!t)return null;e=e||this._parseSelector(t);const n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)}removeTag(t){this.removeTagElement(this.getTag(t))}removeTagElement(t){t&&this._dom.remove(t)}_getOrCreateElement(t,e=!1){if(!e){const e=this._parseSelector(t),n=this.getTag(e);if(n&&this._containsAttributes(t,n))return n}const n=this._dom.createElement("meta");this._setMetaElementAttributes(t,n);const r=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(r,n),n}_setMetaElementAttributes(t,e){return Object.keys(t).forEach(n=>this._dom.setAttribute(e,n,t[n])),e}_parseSelector(t){const e=t.name?"name":"property";return`${e}="${t[e]}"`}_containsAttributes(t,e){return Object.keys(t).every(n=>this._dom.getAttribute(e,n)===t[n])}}const en=new r.InjectionToken("TRANSITION_ID"),nn=[{provide:r.APP_INITIALIZER,useFactory:function(t,e,n){return()=>{n.get(r.ApplicationInitStatus).donePromise.then(()=>{const n=ze();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[en,Ke,r.Injector],multi:!0}];class rn{static init(){Object(r.setTestabilityGetter)(new rn)}addToWindow(t){r["\u0275global"].getAngularTestability=((e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r}),r["\u0275global"].getAllAngularTestabilities=(()=>t.getAllTestabilities()),r["\u0275global"].getAllAngularRootElements=(()=>t.getAllRootElements()),r["\u0275global"].frameworkStabilizers||(r["\u0275global"].frameworkStabilizers=[]),r["\u0275global"].frameworkStabilizers.push(t=>{const e=r["\u0275global"].getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,0==--n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?ze().isShadowRoot(e)?this.findTestabilityInTree(t,ze().getHost(e),!0):this.findTestabilityInTree(t,ze().parentElement(e),!0):null}}class on{constructor(t){this._doc=t}getTitle(){return ze().getTitle(this._doc)}setTitle(t){ze().setTitle(this._doc,t)}}function sn(t,e){"undefined"!=typeof COMPILED&&COMPILED||((r["\u0275global"].ng=r["\u0275global"].ng||{})[t]=e)}const an={ApplicationRef:r.ApplicationRef,NgZone:r.NgZone};function ln(t){return Object(r.getDebugNode)(t)}new r.Optional;const un=new r.InjectionToken("EventManagerPlugins");class cn{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}class dn{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=ze().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}class hn{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class fn extends hn{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>ze().remove(t))}}const pn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},gn=/%COMP%/g,mn="_nghost-%COMP%",vn="_ngcontent-%COMP%";function yn(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?yn(t,i,n):(i=i.replace(gn,t),n.push(i))}return n}function bn(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class xn{constructor(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new _n(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.ViewEncapsulation.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new kn(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.ViewEncapsulation.Native:return new Mn(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=yn(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class _n{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(pn[e],t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t){let e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error(`The selector "${t}" did not match any elements`);return e.textContent="",e}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=`${r}:${e}`;const i=pn[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=pn[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.RendererStyleFlags2.DashCase?t.style.setProperty(e,n,i&r.RendererStyleFlags2.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.RendererStyleFlags2.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){Cn(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return Cn(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,bn(n)):this.eventManager.addEventListener(t,e,bn(n))}}const wn="@".charCodeAt(0);function Cn(t,e){if(t.charCodeAt(0)===wn)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class kn extends _n{constructor(t,e,n){super(t),this.component=n;const r=yn(n.id,n.styles,[]);e.addStyles(r),this.contentAttr=vn.replace(gn,n.id),this.hostAttr=mn.replace(gn,n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Mn extends _n{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=yn(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const En="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},An=En("addEventListener"),Sn=En("removeEventListener"),Tn={},Nn="__zone_symbol__propagationStopped",On="undefined"!=typeof Zone&&Zone[En("BLACK_LISTED_EVENTS")];let Pn;On&&(Pn={},On.forEach(t=>{Pn[t]=t}));const In=function(t){return!!Pn&&Pn.hasOwnProperty(t)},Rn=function(t){const e=Tn[t.type];if(!e)return;const n=this[e];if(!n)return;const r=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[Nn];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}}},Dn={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Vn=new r.InjectionToken("HammerGestureConfig");class Ln{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}const Fn=["alt","control","meta","shift"],jn={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class zn extends dn{constructor(t){super(t)}supports(t){return null!=zn.parseEventName(t)}addEventListener(t,e,n){const r=zn.parseEventName(e),i=zn.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ze().onAndCancel(t,r.domEventName,i))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const r=zn._normalizeKey(e.pop());let i="";if(Fn.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),i+=t+".")}),i+=r,0!=e.length||0===r.length)return null;const o={};return o.domEventName=n,o.fullKey=i,o}static getEventFullKey(t){let e="",n=ze().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Fn.forEach(r=>{r!=n&&(0,jn[r])(t)&&(e+=r+".")}),e+=n}static eventCallback(t,e,n){return r=>{zn.getEventFullKey(r)===t&&n.runGuarded(()=>e(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}const Wn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Hn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Un(t){return(t=String(t)).match(Wn)||t.match(Hn)?t:(Object(r.isDevMode)()&&ze().log(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}let Bn=null,$n=null;function qn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Gn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Zn=qn("area,br,col,hr,img,wbr"),Yn=qn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xn=qn("rp,rt"),Kn=Gn(Xn,Yn),Qn=Gn(Yn,qn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jn=Gn(Xn,qn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tr=Gn(Zn,Qn,Jn,Kn),er=qn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nr=qn("srcset"),rr=qn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ir=Gn(er,nr,rr);class or{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild;for(;e;)if($n.isElementNode(e)?this.startElement(e):$n.isTextNode(e)?this.chars($n.nodeValue(e)):this.sanitizedSomething=!0,$n.firstChild(e))e=$n.firstChild(e);else for(;e;){$n.isElementNode(e)&&this.endElement(e);let t=sr(e,$n.nextSibling(e));if(t){e=t;break}e=sr(e,$n.parentElement(e))}return this.buf.join("")}startElement(t){const e=$n.nodeName(t).toLowerCase();tr.hasOwnProperty(e)?(this.buf.push("<"),this.buf.push(e),$n.attributeMap(t).forEach((t,e)=>{const n=e.toLowerCase();ir.hasOwnProperty(n)?(er[n]&&(t=Un(t)),nr[n]&&(t=String(t).split(",").map(t=>Un(t.trim())).join(", ")),this.buf.push(" "),this.buf.push(e),this.buf.push('="'),this.buf.push(ur(t)),this.buf.push('"')):this.sanitizedSomething=!0}),this.buf.push(">")):this.sanitizedSomething=!0}endElement(t){const e=$n.nodeName(t).toLowerCase();tr.hasOwnProperty(e)&&!Zn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ur(t))}}function sr(t,e){if(e&&$n.contains(t,e))throw new Error(`Failed to sanitize html because the element is clobbered: ${$n.getOuterHTML(t)}`);return e}const ar=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lr=/([^\#-~ |!])/g;function ur(t){return t.replace(/&/g,"&amp;").replace(ar,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(lr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function cr(t){$n.attributeMap(t).forEach((e,n)=>{"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||$n.removeAttribute(t,n)});for(const e of $n.childNodesAsList(t))$n.isElementNode(e)&&cr(e)}const dr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),hr=/^url\(([^)]+)\)$/;class fr{}class pr extends fr{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.SecurityContext.NONE:return e;case r.SecurityContext.HTML:return e instanceof mr?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){try{const n=function(){if(Bn)return Bn;const t=($n=ze()).createElement("template");if("content"in t)return t;const e=$n.createHtmlDocument();if(null==(Bn=$n.querySelector(e,"body"))){const t=$n.createElement("html",e);Bn=$n.createElement("body",e),$n.appendChild(t,Bn),$n.appendChild(e,t)}return Bn}();let i=e?String(e):"",o=5,s=i;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,$n.setInnerHTML(n,i=s),t.documentMode&&cr(n),s=$n.getInnerHTML(n)}while(i!==s);const a=new or,l=a.sanitizeChildren($n.getTemplateContent(n)||n),u=$n.getTemplateContent(n)||n;for(const t of $n.childNodesAsList(u))$n.removeChild(u,t);return Object(r.isDevMode)()&&a.sanitizedSomething&&$n.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),l}catch(t){throw Bn=null,t}}(this._doc,String(e)));case r.SecurityContext.STYLE:return e instanceof vr?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";const e=t.match(hr);return e&&Un(e[1])===e[1]||t.match(dr)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Object(r.isDevMode)()&&ze().log(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e));case r.SecurityContext.SCRIPT:if(e instanceof yr)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case r.SecurityContext.URL:return e instanceof xr||e instanceof br?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Un(String(e)));case r.SecurityContext.RESOURCE_URL:if(e instanceof xr)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof gr)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(t){return new mr(t)}bypassSecurityTrustStyle(t){return new vr(t)}bypassSecurityTrustScript(t){return new yr(t)}bypassSecurityTrustUrl(t){return new br(t)}bypassSecurityTrustResourceUrl(t){return new xr(t)}}class gr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class mr extends gr{getTypeName(){return"HTML"}}class vr extends gr{getTypeName(){return"Style"}}class yr extends gr{getTypeName(){return"Script"}}class br extends gr{getTypeName(){return"URL"}}class xr extends gr{getTypeName(){return"ResourceURL"}}const _r=[{provide:r.PLATFORM_ID,useValue:"browser"},{provide:r.PLATFORM_INITIALIZER,useValue:function(){Ze.makeCurrent(),rn.init()},multi:!0},{provide:x,useClass:Je,deps:[Ke]},{provide:Ke,useFactory:function(){return document},deps:[]}],wr=Object(r.createPlatformFactory)(r.platformCore,"browser",_r);function Cr(){return new r.ErrorHandler}class kr{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:kr,providers:[{provide:r.APP_ID,useValue:t.appId},{provide:en,useExisting:r.APP_ID},nn]}}}"undefined"!=typeof window&&window,new r.Version("5.0.5");class Mr{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Er extends Mr{get formDirective(){return null}get path(){return null}}function Ar(t){return null==t||0===t.length}new r.InjectionToken("NgValidators"),new r.InjectionToken("NgAsyncValidators");const Sr=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;class Tr{static min(t){return e=>{if(Ar(e.value)||Ar(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Ar(e.value)||Ar(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Ar(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Sr.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(Ar(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return Tr.nullValidator;let e,n;return"string"==typeof t?(n=`^${t}$`,e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Ar(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Nr);return 0==e.length?null:function(t){return Pr(function(t,n){return e.map(e=>e(t))}(t))}}static composeAsync(t){if(!t)return null;const e=t.filter(Nr);return 0==e.length?null:function(t){const n=function(t,n){return e.map(e=>e(t))}(t).map(Or);return b.call(Ie(n),Pr)}}}function Nr(t){return null!=t}function Or(t){const e=Object(r["\u0275isPromise"])(t)?Fe(t):t;if(!Object(r["\u0275isObservable"])(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Pr(t){const e=t.reduce((t,e)=>null!=e?Object.assign({},t,e):t,{});return 0===Object.keys(e).length?null:e}new r.InjectionToken("NgValueAccessor"),Object(r.forwardRef)(()=>Ir);class Ir{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=(t=>{}),this.onTouched=(()=>{})}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}Object(r.forwardRef)(()=>Rr),new r.InjectionToken("CompositionEventMode");class Rr{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=(t=>{}),this.onTouched=(()=>{}),this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=ze()?ze().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}function Dr(t){return t.validate?e=>t.validate(e):t}function Vr(t){return t.validate?e=>t.validate(e):t}Object(r.forwardRef)(()=>Lr);class Lr{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=(t=>{}),this.onTouched=(()=>{})}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=(e=>{t(""==e?null:parseFloat(e))})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}function Fr(){throw new Error("unimplemented")}class jr extends Mr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Fr()}get asyncValidator(){return Fr()}}Object(r.forwardRef)(()=>Wr);class zr{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}class Wr{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=(()=>{}),this.onTouched=(()=>{})}ngOnInit(){this._control=this._injector.get(jr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=(()=>{t(this.value),this._registry.select(this)})}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}Object(r.forwardRef)(()=>Hr);class Hr{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=(t=>{}),this.onTouched=(()=>{})}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=(e=>{t(""==e?null:parseFloat(e))})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}Object(r.forwardRef)(()=>Ur);class Ur{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=(t=>{}),this.onTouched=(()=>{}),this._compareWith=r["\u0275looseIdentical"]}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=(e=>{this.value=this._getOptionValue(e),t(this.value)})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}Object(r.forwardRef)(()=>Br);class Br{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=(t=>{}),this.onTouched=(()=>{}),this._compareWith=r["\u0275looseIdentical"]}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=((t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)})}else e=((t,e)=>{t._setSelected(!1)});this._optionMap.forEach(e)}registerOnChange(t){this.onChange=(e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}function $r(t,e){return[...e.path,t]}function qr(t,e){t||Xr(e,"Cannot find control with"),e.valueAccessor||Xr(e,"No value accessor for form control with"),t.validator=Tr.compose([t.validator,e.validator]),t.asyncValidator=Tr.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Gr(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Gr(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Gr(t,e){e.viewToModelUpdate(t._pendingValue),t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),t._pendingChange=!1}function Zr(t,e){null==t&&Xr(e,"Cannot find control with"),t.validator=Tr.compose([t.validator,e.validator]),t.asyncValidator=Tr.composeAsync([t.asyncValidator,e.asyncValidator])}function Yr(t){return Xr(t,"There is no FormControl instance attached to form control element with")}function Xr(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Kr(t){return null!=t?Tr.compose(t.map(Dr)):null}function Qr(t){return null!=t?Tr.composeAsync(t.map(Vr)):null}function Jr(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object(r["\u0275looseIdentical"])(e,n.currentValue)}const ti=[Ir,Hr,Lr,Ur,Br,Wr];function ei(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function ni(t,e){if(!e)return null;let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{e.constructor===Rr?n=e:function(t){return ti.some(e=>t.constructor===e)}(e)?(r&&Xr(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Xr(t,"More than one custom value accessor matches form control with"),i=e)}),i||r||n||(Xr(t,"No valid value accessor for form control with"),null)}function ri(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ii extends Er{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return $r(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Kr(this._validators)}get asyncValidator(){return Qr(this._asyncValidators)}_checkParentType(){}}class oi{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class si extends oi{constructor(t){super(t)}}const ai="VALID",li="INVALID",ui="PENDING",ci="DISABLED";function di(t){const e=fi(t)?t.validators:t;return Array.isArray(e)?Kr(e):e||null}function hi(t,e){const n=fi(e)?e.asyncValidators:t;return Array.isArray(n)?Qr(n):n||null}function fi(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class pi{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=(()=>{}),this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===ai}get invalid(){return this.status===li}get pending(){return this.status==ui}get disabled(){return this.status===ci}get enabled(){return this.status!==ci}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=di(t)}setAsyncValidators(t){this.asyncValidator=hi(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ui,this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){this.status=ci,this.errors=null,this._forEachChild(t=>{t.disable({onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(!!t.onlySelf),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){this.status=ai,this._forEachChild(t=>{t.enable({onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(!!t.onlySelf),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t&&(this._parent.updateValueAndValidity(),this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==ai&&this.status!==ui||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ci:ai}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ui;const e=Or(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((t,e)=>t instanceof mi?t.controls[e]||null:t instanceof vi&&t.at(e)||null,t))}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.EventEmitter,this.statusChanges=new r.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?ci:this.errors?li:this._anyControlsHaveStatus(ui)?ui:this._anyControlsHaveStatus(li)?li:ai}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){fi(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}}class gi extends pi{constructor(t=null,e,n){super(di(e),hi(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=(()=>{})}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class mi extends pi{constructor(t,e,n){super(di(e),hi(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof gi?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class vi extends pi{constructor(t,e,n){super(di(e),hi(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)}getRawValue(){return this.controls.map(t=>t instanceof gi?t.value:t.getRawValue())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}Object(r.forwardRef)(()=>bi);const yi=Promise.resolve(null);class bi extends Er{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.EventEmitter,this.form=new mi({},Kr(t),Qr(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){yi.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),qr(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){yi.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),ri(this._directives,t)})}addFormGroup(t){yi.then(()=>{const e=this._findContainer(t.path),n=new mi({});Zr(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){yi.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){yi.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,ei(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}const xi={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};class _i{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${xi.formControlName}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ${xi.ngModelWithFormGroup}`)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${xi.formGroupName}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${xi.ngModelGroup}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${xi.formGroupName}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${xi.ngModelGroup}`)}}Object(r.forwardRef)(()=>wi);class wi extends ii{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof wi||this._parent instanceof bi||_i.modelGroupParentException()}}Object(r.forwardRef)(()=>(class extends jr{constructor(t,e,n,i){super(),this.control=new gi,this._registered=!1,this.update=new r.EventEmitter,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=ni(this,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),Jr(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?$r(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Kr(this._rawValidators)}get asyncValidator(){return Qr(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){qr(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof wi)&&this._parent instanceof ii?_i.formGroupNameException():this._parent instanceof wi||this._parent instanceof bi||_i.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||_i.missingNameException()}_updateValue(t){Ci.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Ci.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}));const Ci=Promise.resolve(null);class ki{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${xi.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${xi.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${xi.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${xi.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${xi.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${xi.formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}}Object(r.forwardRef)(()=>(class extends jr{constructor(t,e,n){super(),this.update=new r.EventEmitter,this._rawValidators=t||[],this._rawAsyncValidators=e||[],this.valueAccessor=ni(this,n)}set isDisabled(t){ki.disabledAttrWarning()}ngOnChanges(t){this._isControlChanged(t)&&(qr(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),Jr(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return Kr(this._rawValidators)}get asyncValidator(){return Qr(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}})),Object(r.forwardRef)(()=>Mi);class Mi extends Er{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.EventEmitter}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return qr(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){ri(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Zr(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Zr(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,ei(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>Yr(e)),e.valueAccessor.registerOnTouched(()=>Yr(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&qr(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=Kr(this._validators);this.form.validator=Tr.compose([this.form.validator,t]);const e=Qr(this._asyncValidators);this.form.asyncValidator=Tr.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||ki.missingFormException()}}Object(r.forwardRef)(()=>Ei);class Ei extends ii{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){Si(this._parent)&&ki.groupParentException()}}Object(r.forwardRef)(()=>Ai);class Ai extends Er{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return $r(this.name,this._parent)}get validator(){return Kr(this._validators)}get asyncValidator(){return Qr(this._asyncValidators)}_checkParentType(){Si(this._parent)&&ki.arrayParentException()}}function Si(t){return!(t instanceof Ei||t instanceof Mi||t instanceof Ai)}Object(r.forwardRef)(()=>(class extends jr{constructor(t,e,n,i){super(),this._added=!1,this.update=new r.EventEmitter,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=ni(this,i)}set isDisabled(t){ki.disabledAttrWarning()}ngOnChanges(t){this._added||this._setUpControl(),Jr(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return $r(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Kr(this._rawValidators)}get asyncValidator(){return Qr(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof Ei)&&this._parent instanceof ii?ki.ngModelGroupException():this._parent instanceof Ei||this._parent instanceof Mi||this._parent instanceof Ai||ki.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}})),Object(r.forwardRef)(()=>Ti),Object(r.forwardRef)(()=>(class extends Ti{validate(t){return this.required?Tr.requiredTrue(t):null}}));class Ti{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!==`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?Tr.required(t):null}registerOnValidatorChange(t){this._onChange=t}}Object(r.forwardRef)(()=>(class{set email(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}validate(t){return this._enabled?Tr.email(t):null}registerOnValidatorChange(t){this._onChange=t}})),Object(r.forwardRef)(()=>(class{ngOnChanges(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null==this.minlength?null:this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=Tr.minLength(parseInt(this.minlength,10))}})),Object(r.forwardRef)(()=>(class{ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null!=this.maxlength?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=Tr.maxLength(parseInt(this.maxlength,10))}})),Object(r.forwardRef)(()=>(class{ngOnChanges(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=Tr.pattern(this.pattern)}})),new r.Version("5.0.5");class Ni{}class Oi{}class Pi{}var Ii=n("W/Sc"),Ri=n("7nan");class Di extends Ii.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ri.a;return this._value}next(t){super.next(this._value=t)}}function Vi(t,e,n=Number.POSITIVE_INFINITY){return Object(d.a)(t,e,n)(this)}var Li=n("crq8"),Fi=n("jzaW"),ji=n("dzdQ");class zi extends rt.a{constructor(t,e){if(super(),this.scheduler=e,null==t)throw new Error("iterator cannot be null.");this.iterator=Ui(t)}static create(t,e){return new zi(t,e)}static dispatch(t){const{index:e,hasError:n,iterator:r,subscriber:i}=t;if(n)return void i.error(t.error);let o=r.next();o.done?i.complete():(i.next(o.value),t.index=e+1,i.closed?"function"==typeof r.return&&r.return():this.schedule(t))}_subscribe(t){const{iterator:e,scheduler:n}=this;if(n)return n.schedule(zi.dispatch,0,{index:0,iterator:e,subscriber:t});for(;;){let n=e.next();if(n.done){t.complete();break}if(t.next(n.value),t.closed){"function"==typeof e.return&&e.return();break}}}}class Wi{constructor(t,e=0,n=t.length){this.str=t,this.idx=e,this.len=n}[ji.a](){return this}next(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}}}class Hi{constructor(t,e=0,n=function(e){let n=+t.length;return isNaN(n)?0:0!==n&&"number"==typeof n&&Re.a.isFinite(n)?(n=function(t){let e=+n;return 0===e?e:isNaN(e)?e:e<0?-1:1}()*Math.floor(Math.abs(n)))<=0?0:n>Bi?Bi:n:n}()){this.arr=t,this.idx=e,this.len=n}[ji.a](){return this}next(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}}}function Ui(t){const e=t[ji.a];if(!e&&"string"==typeof t)return new Wi(t);if(!e&&void 0!==t.length)return new Hi(t);if(!e)throw new TypeError("object is not iterable");return t[ji.a]()}const Bi=Math.pow(2,53)-1;var $i=n("R3ym");class qi extends rt.a{constructor(t,e){super(),this.arrayLike=t,this.scheduler=e,e||1!==t.length||(this._isScalar=!0,this.value=t[0])}static create(t,e){const n=t.length;return 0===n?new Ae.a:1===n?new $i.a(t[0],e):new qi(t,e)}static dispatch(t){const{arrayLike:e,index:n,length:r,subscriber:i}=t;i.closed||(n>=r?i.complete():(i.next(e[n]),t.index=n+1,this.schedule(t)))}_subscribe(t){const{arrayLike:e,scheduler:n}=this,r=e.length;if(n)return n.schedule(qi.dispatch,0,{arrayLike:e,index:0,length:r,subscriber:t});for(let i=0;i<r&&!t.closed;i++)t.next(e[i]);t.complete()}}class Gi{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return rt.a.of(this.value);case"E":return rt.a.throw(this.error);case"C":return rt.a.empty()}throw new Error("unexpected notification kind value")}static createNext(t){return"undefined"!=typeof t?new Gi("N",t):Gi.undefinedValueNotification}static createError(t){return new Gi("E",void 0,t)}static createComplete(){return Gi.completeNotification}}Gi.completeNotification=new Gi("C"),Gi.undefinedValueNotification=new Gi("N",void 0);class Zi extends f.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.add(this.scheduler.schedule(Zi.dispatch,this.delay,new Yi(t,this.destination)))}_next(t){this.scheduleMessage(Gi.createNext(t))}_error(t){this.scheduleMessage(Gi.createError(t))}_complete(){this.scheduleMessage(Gi.createComplete())}}class Yi{constructor(t,e){this.notification=t,this.destination=e}}var Xi=n("zOxy");class Ki extends rt.a{constructor(t,e){super(null),this.ish=t,this.scheduler=e}static create(t,e){if(null!=t){if("function"==typeof t[Xi.a])return t instanceof rt.a&&!e?t:new Ki(t,e);if(Object(Se.a)(t))return new u.a(t,e);if(Object(Fi.a)(t))return new De(t,e);if("function"==typeof t[ji.a]||"string"==typeof t)return new zi(t,e);if(Object(Li.a)(t))return new qi(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}_subscribe(t){const e=this.ish,n=this.scheduler;return null==n?e[Xi.a]().subscribe(t):e[Xi.a]().subscribe(new Zi(t,n,0))}}const Qi=Ki.create;class Ji{constructor(t){this.selector=t}call(t,e){return e.subscribe(new to(t,this.selector,this.caught))}}class to extends Ne.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle(),this.add(Object(Te.a)(this,e))}}}function eo(t){return function(t){return function(e){const n=new Ji(t),r=e.lift(n);return n.caught=r}}(t)(this)}var no=n("Ynfn");function ro(){return Object(no.a)(1)(this)}class io extends Error{constructor(){const t=super("no elements in sequence");this.name=t.name="EmptyError",this.stack=t.stack,this.message=t.message}}class oo{constructor(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}call(t,e){return e.subscribe(new so(t,this.predicate,this.resultSelector,this.defaultValue,this.source))}}class so extends f.a{constructor(t,e,n,r,i){super(t),this.predicate=e,this.resultSelector=n,this.defaultValue=r,this.source=i,this.index=0,this.hasCompleted=!1,this._emitted=!1}_next(t){const e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)}_tryPredicate(t,e){let n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}n&&this._emit(t,e)}_emit(t,e){this.resultSelector?this._tryResultSelector(t,e):this._emitFinal(t)}_tryResultSelector(t,e){let n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(n)}_emitFinal(t){const e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)}_complete(){const t=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||t.error(new io):(t.next(this.defaultValue),t.complete())}}function ao(t,e,n){return function(t,e,n){return r=>r.lift(new oo(t,e,n,r))}(t,e,n)(this)}class lo{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new uo(t,this.predicate,this.thisArg,this.source))}}class uo extends f.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function co(t,e){return function(t,e){return n=>n.lift(new lo(t,e,n))}(t,e)(this)}class ho{constructor(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}call(t,e){return e.subscribe(new fo(t,this.predicate,this.resultSelector,this.defaultValue,this.source))}}class fo extends f.a{constructor(t,e,n,r,i){super(t),this.predicate=e,this.resultSelector=n,this.defaultValue=r,this.source=i,this.hasValue=!1,this.index=0,"undefined"!=typeof r&&(this.lastValue=r,this.hasValue=!0)}_next(t){const e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}}_tryPredicate(t,e){let n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}if(n){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}}_tryResultSelector(t,e){let n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this.lastValue=n,this.hasValue=!0}_complete(){const t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new io)}}function po(t,e,n){return function(t,e,n){return r=>r.lift(new ho(t,e,n,r))}(t,e,n)(this)}function go(t=Number.POSITIVE_INFINITY){return Object(no.a)(t)(this)}function mo(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new vo(t,e,n))}}class vo{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new yo(t,this.accumulator,this.seed,this.hasSeed))}}class yo extends f.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(t){this.destination.error(t)}this.seed=n,this.destination.next(n)}}class bo extends Error{constructor(){const t=super("argument out of range");this.name=t.name="ArgumentOutOfRangeError",this.stack=t.stack,this.message=t.message}}function xo(t){return function(e){return 0===t?new Ae.a:e.lift(new _o(t))}}class _o{constructor(t){if(this.total=t,this.total<0)throw new bo}call(t,e){return e.subscribe(new wo(t,this.total))}}class wo extends f.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}class Co{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ko(t,this.defaultValue))}}class ko extends f.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Mo=n("7VlU");function Eo(t,e){return arguments.length>=2?function(n){return Object(Mo.a)(mo(t,e),xo(1),function(t=null){return e=>e.lift(new Co(t))}(e))(n)}:function(e){return Object(Mo.a)(mo((e,n,r)=>t(e,n,r+1)),xo(1))(e)}}class Ao{constructor(t,e){this.id=t,this.url=e}}class So extends Ao{toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class To extends Ao{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class No extends Ao{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Oo extends Ao{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Po extends Ao{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Io extends Ao{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ro extends Ao{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Do extends Ao{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vo extends Ao{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lo{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fo{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jo{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zo{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wo{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ho{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}const Uo="primary";class Bo{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function $o(t){return new Bo(t)}const qo="ngNavigationCancelingError";function Go(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class Zo{constructor(t,e){this.routes=t,this.module=e}}function Yo(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Xo(r,Ko(e,r))}}function Xo(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&t.outlet&&t.outlet!==Uo)throw new Error(`Invalid configuration of route '${e}': a componentless route cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Yo(t.children,e)}function Ko(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Qo(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(t[i=n[o]]!==e[i])return!1;return!0}function Jo(t){return Array.prototype.concat.apply([],t)}function ts(t){return t.length>0?t[t.length-1]:null}function es(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ns(t){const e=go.call(t);return co.call(e,t=>!0===t)}function rs(t){return Object(r["\u0275isObservable"])(t)?t:Object(r["\u0275isPromise"])(t)?Fe(Promise.resolve(t)):c(t)}function is(t,e,n){return n?function(t,e){return Qo(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!ls(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length){return!!ls(n.segments.slice(0,i.length),i)&&!r.hasChildren()}if(n.segments.length===i.length){if(!ls(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!ls(n.segments,t)&&!!n.children[Uo]&&e(n.children[Uo],r,o)}}(e,n,n.segments)}(t.root,e.root)}class os{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$o(this.queryParams)),this._queryParamMap}toString(){return hs.serialize(this)}}class ss{constructor(t,e){this.segments=t,this.children=e,this.parent=null,es(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fs(this)}}class as{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=$o(this.parameters)),this._parameterMap}toString(){return ms(this)}}function ls(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function us(t,e){let n=[];return es(t.children,(t,r)=>{r===Uo&&(n=n.concat(e(t,r)))}),es(t.children,(t,r)=>{r!==Uo&&(n=n.concat(e(t,r)))}),n}class cs{}class ds{parse(t){const e=new _s(t);return new os(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${`/${function t(e,n){if(!e.hasChildren())return fs(e);if(n){const n=e.children[Uo]?t(e.children[Uo],!1):"",r=[];return es(e.children,(e,n)=>{n!==Uo&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=us(e,(n,r)=>r===Uo?[t(e.children[Uo],!1)]:[`${r}:${t(n,!1)}`]);return`${fs(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${ps(e)}=${ps(t)}`).join("&"):`${ps(e)}=${ps(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${encodeURI(t.fragment)}`:""}`}}const hs=new ds;function fs(t){return t.segments.map(t=>ms(t)).join("/")}function ps(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";")}function gs(t){return decodeURIComponent(t)}function ms(t){return`${ps(t.path)}${function(t){return Object.keys(t).map(e=>`;${ps(e)}=${ps(t[e])}`).join("")}(t.parameters)}`}const vs=/^[^\/()?;=&#]+/;function ys(t){const e=t.match(vs);return e?e[0]:""}const bs=/^[^=?&#]+/,xs=/^[^?&#]+/;class _s{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ss([],{}):new ss([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURI(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Uo]=new ss(t,e)),n}parseSegment(){const t=ys(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new as(gs(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ys(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=ys(this.remaining);t&&this.capture(n=t)}t[gs(e)]=gs(n)}parseQueryParam(t){const e=function(t){const e=t.match(bs);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(xs);return e?e[0]:""}(this.remaining);t&&this.capture(n=t)}const r=gs(e),i=gs(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(t[r]=e=[e]),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=ys(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Uo);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o[Uo]:new ss([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class ws{constructor(t){this.segmentGroup=t||null}}class Cs{constructor(t){this.urlTree=t}}function ks(t){return new rt.a(e=>e.error(new ws(t)))}function Ms(t){return new rt.a(e=>e.error(new Cs(t)))}function Es(t){return new rt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class As{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.NgModuleRef)}apply(){const t=this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Uo),e=b.call(t,t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment));return eo.call(e,t=>{if(t instanceof Cs)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof ws)throw this.noMatchError(t);throw t})}match(t){const e=this.expandSegmentGroup(this.ngModule,this.config,t.root,Uo),n=b.call(e,e=>this.createUrlTree(e,t.queryParams,t.fragment));return eo.call(n,t=>{if(t instanceof ws)throw this.noMatchError(t);throw t})}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new ss([],{[Uo]:t}):t;return new os(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?b.call(this.expandChildren(t,e,n),t=>new ss([],t)):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return c({});const n=[],r=[],i={};es(t,(t,o)=>{const s=b.call(e(o,t),t=>i[o]=t);o===Uo?n.push(s):r.push(s)});const o=ro.call(c(...n,...r)),s=po.call(o);return b.call(s,()=>i)}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){const s=c(...n),a=b.call(s,s=>{const a=this.expandSegmentAgainstRoute(t,e,n,s,r,i,o);return eo.call(a,t=>{if(t instanceof ws)return c(null);throw t})}),l=ro.call(a),u=ao.call(l,t=>!!t);return eo.call(u,(t,n)=>{if(t instanceof io){if(this.noLeftoversInUrl(e,r,i))return c(new ss([],{}));throw new ws(e)}throw t})}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Os(r)!==o?ks(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):ks(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ms(i):Vi.call(this.lineralizeSegments(n,i),n=>{const i=new ss(n,{});return this.expandSegment(t,i,e,n,r,!1)})}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:l,positionalParamSegments:u}=Ss(e,r,i);if(!s)return ks(e);const c=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?Ms(c):Vi.call(this.lineralizeSegments(r,c),r=>this.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?b.call(this.configLoader.load(t.injector,n),t=>(n._loadedConfig=t,new ss(r,{}))):c(new ss(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=Ss(e,n,r);if(!i)return ks(e);const a=r.slice(s),l=this.getChildConfig(t,n);return Vi.call(l,t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return r.some(n=>Ns(t,e,n)&&Os(n)!==Uo)}(t,n)?{segmentGroup:Ts(new ss(e,function(t,e){const n={};n[Uo]=e;for(const r of t)""===r.path&&Os(r)!==Uo&&(n[Os(r)]=new ss([],{}));return n}(r,new ss(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return r.some(n=>Ns(t,e,n))}(t,n)?{segmentGroup:Ts(new ss(t.segments,function(t,e,n,r){const i={};for(const o of n)Ns(t,e,o)&&!r[Os(o)]&&(i[Os(o)]=new ss([],{}));return Object.assign({},r,i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);if(0===s.length&&i.hasChildren()){const t=this.expandChildren(n,r,i);return b.call(t,t=>new ss(o,t))}if(0===r.length&&0===s.length)return c(new ss(o,{}));const l=this.expandSegment(n,i,r,s,Uo,!0);return b.call(l,t=>new ss(o.concat(t.segments),t.children))})}getChildConfig(t,e){return e.children?c(new Zo(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?c(e._loadedConfig):Vi.call(function(t,e){const n=e.canLoad;return n&&0!==n.length?ns(b.call(Qi(n),n=>{const r=t.get(n);return rs(r.canLoad?r.canLoad(e):r(e))})):c(!0)}(t.injector,e),n=>n?b.call(this.configLoader.load(t.injector,e),t=>(e._loadedConfig=t,t)):function(t){return new rt.a(e=>e.error(function(t){const e=Error("NavigationCancelingError: "+t);return e[qo]=!0,e}(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e)):c(new Zo([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return c(n);if(r.numberOfChildren>1||!r.children[Uo])return Es(t.redirectTo);r=r.children[Uo]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new os(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return es(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return es(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new ss(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Ss(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Go)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Ts(t){if(1===t.numberOfChildren&&t.children[Uo]){const e=t.children[Uo];return new ss(t.segments.concat(e.segments),e.children)}return t}function Ns(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Os(t){return t.outlet||Uo}class Ps{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Is(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Is(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Rs(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Rs(t,this._root).map(t=>t.value)}}function Is(t,e){if(t===e.value)return e;for(const n of e.children){const e=Is(t,n);if(e)return e}return null}function Rs(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Rs(t,n);if(r.length)return r.unshift(e),r}return[]}class Ds{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Vs(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Ls extends Ps{constructor(t,e){super(t),this.snapshot=e,Us(this,t)}toString(){return this.snapshot.toString()}}function Fs(t,e){const n=function(t,e){const n=new Ws([],{},{},"",{},Uo,e,null,t.root,-1,{});return new Hs("",new Ds(n,[]))}(t,e),r=new Di([new as("",{})]),i=new Di({}),o=new Di({}),s=new Di({}),a=new Di(""),l=new js(r,i,s,a,o,Uo,e,n.root);return l.snapshot=n.root,new Ls(new Ds(l,[]),n)}class js{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=b.call(this.params,t=>$o(t))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=b.call(this.queryParams,t=>$o(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zs(t){const e=t.pathFromRoot;let n=e.length-1;for(;n>=1;){const t=e[n],r=e[n-1];if(t.routeConfig&&""===t.routeConfig.path)n--;else{if(r.component)break;n--}}return e.slice(n).reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}class Ws{constructor(t,e,n,r,i,o,s,a,l,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$o(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$o(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hs extends Ps{constructor(t,e){super(e),this.url=t,Us(this,e)}toString(){return Bs(this._root)}}function Us(t,e){e.value._routerState=t,e.children.forEach(e=>Us(t,e))}function Bs(t){const e=t.children.length>0?` { ${t.children.map(Bs).join(", ")} } `:"";return`${t.value}${e}`}function $s(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Qo(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Qo(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Qo(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Qo(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function qs(t,e){return Qo(t.params,e.params)&&function(t,e){return ls(t,e)&&t.every((t,n)=>Qo(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||qs(t.parent,e.parent))}function Gs(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Zs(t,e,n,r,i){let o={};return r&&es(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new os(n.root===t?e:function t(e,n,r){const i={};return es(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new ss(e.segments,i)}(n.root,t,e),o,i)}class Ys{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Gs(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==ts(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xs{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Ks(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Uo]:`${t}`}function Qs(t,e,n){if(t||(t=new ss([],{})),0===t.segments.length&&t.hasChildren())return Js(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=Ks(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!ra(s,a,e))return o;r+=2}else{if(!ra(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new ss(t.segments.slice(0,r.pathIndex),{});return e.children[Uo]=new ss(t.segments.slice(r.pathIndex),t.children),Js(e,0,i)}return r.match&&0===i.length?new ss(t.segments,{}):r.match&&!t.hasChildren()?ta(t,e,n):r.match?Js(t,0,i):ta(t,e,n)}function Js(t,e,n){if(0===n.length)return new ss(t.segments,{});{const r=function(t){return"object"!=typeof t[0]?{[Uo]:t}:void 0===t[0].outlets?{[Uo]:t}:t[0].outlets}(n),i={};return es(r,(n,r)=>{null!==n&&(i[r]=Qs(t.children[r],e,n))}),es(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new ss(t.segments,i)}}function ta(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=ea(n[i].outlets);return new ss(r,t)}if(0===i&&Gs(n[0])){r.push(new as(t.segments[e].path,n[0])),i++;continue}const o=Ks(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&Gs(s)?(r.push(new as(o,na(s))),i+=2):(r.push(new as(o,{})),i++)}return new ss(r,{})}function ea(t){const e={};return es(t,(t,n)=>{null!==t&&(e[n]=ta(new ss([],{}),0,t))}),e}function na(t){const e={};return es(t,(t,n)=>e[n]=`${t}`),e}function ra(t,e,n){return t==n.path&&Qo(e,n.parameters)}class ia{constructor(t){this.path=t}get route(){return this.path[this.path.length-1]}}class oa{constructor(t,e){this.component=t,this.route=e}}class sa{constructor(t,e,n,r){this.future=t,this.curr=e,this.moduleInjector=n,this.forwardEvent=r,this.canActivateChecks=[],this.canDeactivateChecks=[]}initialize(t){const e=this.future._root;this.setupChildRouteGuards(e,this.curr?this.curr._root:null,t,[e.value])}checkGuards(){if(!this.isDeactivating()&&!this.isActivating())return c(!0);const t=this.runCanDeactivateChecks();return Vi.call(t,t=>t?this.runCanActivateChecks():c(!1))}resolveData(){if(!this.isActivating())return c(null);const t=Qi(this.canActivateChecks),e=h.call(t,t=>this.runResolve(t.route));return(function(t,e){return arguments.length>=2?Eo(t,e)(this):Eo(t)(this)}).call(e,(t,e)=>t)}isDeactivating(){return 0!==this.canDeactivateChecks.length}isActivating(){return 0!==this.canActivateChecks.length}setupChildRouteGuards(t,e,n,r){const i=Vs(e);t.children.forEach(t=>{this.setupRouteGuards(t,i[t.value.outlet],n,r.concat([t.value])),delete i[t.value.outlet]}),es(i,(t,e)=>this.deactivateRouteAndItsChildren(t,n.getContext(e)))}setupRouteGuards(t,e,n,r){const i=t.value,o=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){const a=this.shouldRunGuardsAndResolvers(o,i,i.routeConfig.runGuardsAndResolvers);a?this.canActivateChecks.push(new ia(r)):(i.data=o.data,i._resolvedData=o._resolvedData),this.setupChildRouteGuards(t,e,i.component?s?s.children:null:n,r),a&&this.canDeactivateChecks.push(new oa(s.outlet.component,o))}else o&&this.deactivateRouteAndItsChildren(e,s),this.canActivateChecks.push(new ia(r)),this.setupChildRouteGuards(t,null,i.component?s?s.children:null:n,r)}shouldRunGuardsAndResolvers(t,e,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!qs(t,e)||!Qo(t.queryParams,e.queryParams);case"paramsChange":default:return!qs(t,e)}}deactivateRouteAndItsChildren(t,e){const n=Vs(t),r=t.value;es(n,(t,n)=>{this.deactivateRouteAndItsChildren(t,r.component?e?e.children.getContext(n):null:e)}),this.canDeactivateChecks.push(new oa(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}runCanDeactivateChecks(){const t=Qi(this.canDeactivateChecks),e=Vi.call(t,t=>this.runCanDeactivate(t.component,t.route));return co.call(e,t=>!0===t)}runCanActivateChecks(){const t=Qi(this.canActivateChecks),e=h.call(t,t=>ns(Qi([this.fireChildActivationStart(t.route.parent),this.fireActivationStart(t.route),this.runCanActivateChild(t.path),this.runCanActivate(t.route)])));return co.call(e,t=>!0===t)}fireActivationStart(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new Wo(t)),c(!0)}fireChildActivationStart(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new jo(t)),c(!0)}runCanActivate(t){const e=t.routeConfig?t.routeConfig.canActivate:null;return e&&0!==e.length?ns(b.call(Qi(e),e=>{const n=this.getToken(e,t);let r;return r=rs(n.canActivate?n.canActivate(t,this.future):n(t,this.future)),ao.call(r)})):c(!0)}runCanActivateChild(t){const e=t[t.length-1],n=t.slice(0,t.length-1).reverse().map(t=>this.extractCanActivateChild(t)).filter(t=>null!==t);return ns(b.call(Qi(n),t=>ns(b.call(Qi(t.guards),n=>{const r=this.getToken(n,t.node);let i;return i=rs(r.canActivateChild?r.canActivateChild(e,this.future):r(e,this.future)),ao.call(i)}))))}extractCanActivateChild(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}runCanDeactivate(t,e){const n=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!n||0===n.length)return c(!0);const r=Vi.call(Qi(n),n=>{const r=this.getToken(n,e);let i;return i=rs(r.canDeactivate?r.canDeactivate(t,e,this.curr,this.future):r(t,e,this.curr,this.future)),ao.call(i)});return co.call(r,t=>!0===t)}runResolve(t){return b.call(this.resolveNode(t._resolve,t),e=>(t._resolvedData=e,t.data=Object.assign({},t.data,zs(t).resolve),null))}resolveNode(t,e){const n=Object.keys(t);if(0===n.length)return c({});if(1===n.length){const r=n[0];return b.call(this.getResolver(t[r],e),t=>({[r]:t}))}const r={},i=Vi.call(Qi(n),n=>b.call(this.getResolver(t[n],e),t=>(r[n]=t,t)));return b.call(po.call(i),()=>r)}getResolver(t,e){const n=this.getToken(t,e);return rs(n.resolve?n.resolve(e,this.future):n(e,this.future))}getToken(t,e){const n=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(n?n.module.injector:this.moduleInjector).get(t)}}class aa{}class la{constructor(t,e,n,r){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r}recognize(){try{const t=da(this.urlTree.root,[],[],this.config).segmentGroup,e=this.processSegmentGroup(this.config,t,Uo),n=new Ws([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},Uo,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ds(n,e),i=new Hs(this.url,r);return this.inheritParamsAndData(i._root),c(i)}catch(t){return new rt.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=zs(e);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=us(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};n.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(),n.sort((t,e)=>t.value.outlet===Uo?-1:e.value.outlet===Uo?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(t){if(!(t instanceof aa))throw t}if(this.noLeftoversInUrl(e,n,r))return[];throw new aa}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new aa;if((t.outlet||Uo)!==r)throw new aa;if("**"===t.path){const i=n.length>0?ts(n).parameters:{},o=new Ws(n,i,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,pa(t),r,t.component,t,ua(e),ca(e)+n.length,ga(t));return[new Ds(o,[])]}const{consumedSegments:i,parameters:o,lastChild:s}=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new aa;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Go)(n,t,e);if(!r)throw new aa;const i={};es(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n),a=n.slice(s),l=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=da(e,i,a,l),d=new Ws(i,o,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,pa(t),r,t.component,t,ua(e),ca(e)+i.length,ga(t));if(0===c.length&&u.hasChildren()){const t=this.processChildren(l,u);return[new Ds(d,t)]}if(0===l.length&&0===c.length)return[new Ds(d,[])];const h=this.processSegment(l,u,c,Uo);return[new Ds(d,h)]}}function ua(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ca(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function da(t,e,n,r){if(n.length>0&&function(t,e,n){return r.some(n=>ha(t,e,n)&&fa(n)!==Uo)}(t,n)){const i=new ss(e,function(t,e,n,r){const i={};i[Uo]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&fa(o)!==Uo){const n=new ss([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[fa(o)]=n}return i}(t,e,r,new ss(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return r.some(n=>ha(t,e,n))}(t,n)){const i=new ss(t.segments,function(t,e,n,r){const i={};for(const o of n)if(ha(t,e,o)&&!r[fa(o)]){const e=new ss([],{});e._sourceSegment=t,e._segmentIndexShift=t.segments.length,i[fa(o)]=e}return Object.assign({},r,i)}(t,n,r,t.children));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}const i=new ss(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function ha(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function fa(t){return t.outlet||Uo}function pa(t){return t.data||{}}function ga(t){return t.resolve||{}}class ma{}class va{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const ya=new r.InjectionToken("ROUTES");class ba{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren);return b.call(n,n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Zo(Jo(r.injector.get(ya)),r)})}loadModuleFactory(t){return"string"==typeof t?Fe(this.loader.load(t)):Vi.call(rs(t()),t=>t instanceof r.NgModuleFactory?c(t):Fe(this.compiler.compileModuleAsync(t)))}}class xa{}class _a{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function wa(t){throw t}function Ca(t){return c(null)}class ka{constructor(t,e,n,i,o,s,a,l){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=l,this.navigations=new Di(null),this.navigationId=0,this.events=new Ii.a,this.errorHandler=wa,this.navigated=!1,this.hooks={beforePreactivation:Ca,afterPreactivation:Ca},this.urlHandlingStrategy=new _a,this.routeReuseStrategy=new va,this.ngModule=o.get(r.NgModuleRef),this.resetConfig(l),this.currentUrlTree=new os(new ss([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new ba(s,a,t=>this.triggerEvent(new Lo(t)),t=>this.triggerEvent(new Fo(t))),this.routerState=Fs(this.currentUrlTree,this.rootComponentType),this.processNavigations()}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(Zone.current.wrap(t=>{const e=this.urlSerializer.parse(t.url),n="popstate"===t.type?"popstate":"hashchange";setTimeout(()=>{this.scheduleNavigation(e,n,{replaceUrl:!0})},0)})))}get url(){return this.serializeUrl(this.currentUrlTree)}triggerEvent(t){this.events.next(t)}resetConfig(t){Yo(t),this.config=t,this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:l}=e;Object(r.isDevMode)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,c=l?this.currentUrlTree.fragment:o;let d=null;if(a)switch(a){case"merge":d=Object.assign({},this.currentUrlTree.queryParams,i);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}else d=s?this.currentUrlTree.queryParams:i||null;return null!==d&&(d=this.removeEmptyProps(d)),function(t,e,n,r,i){if(0===n.length)return Zs(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ys(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return es(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Ys(n,e,r)}(n);if(o.toRoot())return Zs(e.root,new ss([],{}),e,r,i);const s=function(t,n,r){if(t.isAbsolute)return new Xs(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new Xs(r.snapshot._urlSegment,!0,0);const i=Gs(t.commands[0])?0:1;return function(e,n,o){let s=r.snapshot._urlSegment,a=r.snapshot._lastPathIndex+i,l=t.numberOfDoubleDots;for(;l>a;){if(l-=a,!(s=s.parent))throw new Error("Invalid number of '../'");a=s.segments.length}return new Xs(s,!1,a-l)}()}(o,0,t),a=s.processChildren?Js(s.segmentGroup,s.index,o.commands):Qs(s.segmentGroup,s.index,o.commands);return Zs(s.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,d,c)}navigateByUrl(t,e={skipLocationChange:!1}){const n=t instanceof os?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){return this.urlSerializer.parse(t)}isActive(t,e){if(t instanceof os)return is(this.currentUrlTree,t,e);const n=this.urlSerializer.parse(t);return is(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!==r&&void 0!==r&&(e[n]=r),e},{})}processNavigations(){h.call(this.navigations,t=>t?(this.executeScheduledNavigation(t),t.promise.catch(()=>{})):c(null)).subscribe(()=>{})}scheduleNavigation(t,e,n){const r=this.navigations.value;if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);let i=null,o=null;const s=new Promise((t,e)=>{i=t,o=e}),a=++this.navigationId;return this.navigations.next({id:a,source:e,rawUrl:t,extras:n,resolve:i,reject:o,promise:s}),s.catch(t=>Promise.reject(t))}executeScheduledNavigation({id:t,rawUrl:e,extras:n,resolve:r,reject:i}){const o=this.urlHandlingStrategy.extract(e),s=!this.navigated||o.toString()!==this.currentUrlTree.toString();s&&this.urlHandlingStrategy.shouldProcessUrl(e)?(this.events.next(new So(t,this.serializeUrl(o))),Promise.resolve().then(r=>this.runNavigate(o,e,!!n.skipLocationChange,!!n.replaceUrl,t,null)).then(r,i)):s&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.events.next(new So(t,this.serializeUrl(o))),Promise.resolve().then(n=>this.runNavigate(o,e,!1,!1,t,Fs(o,this.rootComponentType).snapshot)).then(r,i)):(this.rawUrlTree=e,r(null))}runNavigate(t,e,n,r,i,o){return i!==this.navigationId?(this.location.go(this.urlSerializer.serialize(this.currentUrlTree)),this.events.next(new No(i,this.serializeUrl(t),`Navigation ID ${i} is not equal to the current navigation id ${this.navigationId}`)),Promise.resolve(!1)):new Promise((s,a)=>{let l;if(o)l=c({appliedUrl:t,snapshot:o});else{const e=function(e,n,r,i,o){return new As(e,n,r,t,o).apply()}(this.ngModule.injector,this.configLoader,this.urlSerializer,0,this.config);l=Vi.call(e,e=>b.call(function(t,e,n,r){return new la(t,e,n,r).recognize()}(this.rootComponentType,this.config,e,this.serializeUrl(e)),n=>(this.events.next(new Po(i,this.serializeUrl(t),this.serializeUrl(e),n)),{appliedUrl:e,snapshot:n})))}const u=Vi.call(l,t=>b.call(this.hooks.beforePreactivation(t.snapshot),()=>t));let d;const h=b.call(u,({appliedUrl:t,snapshot:e})=>((d=new sa(e,this.routerState.snapshot,this.ngModule.injector,t=>this.triggerEvent(t))).initialize(this.rootContexts),{appliedUrl:t,snapshot:e})),f=Vi.call(h,({appliedUrl:e,snapshot:n})=>this.navigationId!==i?c(!1):(this.triggerEvent(new Io(i,this.serializeUrl(t),e,n)),b.call(d.checkGuards(),r=>(this.triggerEvent(new Ro(i,this.serializeUrl(t),e,n,r)),{appliedUrl:e,snapshot:n,shouldActivate:r})))),p=Vi.call(f,e=>this.navigationId!==i?c(!1):e.shouldActivate&&d.isActivating()?(this.triggerEvent(new Do(i,this.serializeUrl(t),e.appliedUrl,e.snapshot)),b.call(d.resolveData(),()=>(this.triggerEvent(new Vo(i,this.serializeUrl(t),e.appliedUrl,e.snapshot)),e))):c(e)),g=Vi.call(p,t=>b.call(this.hooks.afterPreactivation(t.snapshot),()=>t)),m=b.call(g,({appliedUrl:t,snapshot:e,shouldActivate:n})=>n?{appliedUrl:t,state:function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Ds(i,o)}if(e.retrieve(n.value)){const t=e.retrieve(n.value).route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=function(t){return new js(new Di(t.url),new Di(t.params),new Di(t.queryParams),new Di(t.fragment),new Di(t.data),t.outlet,t.component,t)}(n.value),i=n.children.map(n=>t(e,n));return new Ds(r,i)}}(t,e._root,n?n._root:void 0);return new Ls(r,e)}(this.routeReuseStrategy,e,this.routerState),shouldActivate:n}:{appliedUrl:t,state:null,shouldActivate:n});let v;const y=this.routerState,x=this.currentUrlTree;m.forEach(({appliedUrl:t,state:o,shouldActivate:s})=>{if(s&&i===this.navigationId){if(this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e),this.routerState=o,!n){const t=this.urlSerializer.serialize(this.rawUrlTree);this.location.isCurrentPathEqualTo(t)||r?this.location.replaceState(t):this.location.go(t)}new Ma(this.routeReuseStrategy,o,y,t=>this.triggerEvent(t)).activate(this.rootContexts),v=!0}else v=!1}).then(()=>{v?(this.navigated=!0,this.events.next(new To(i,this.serializeUrl(t),this.serializeUrl(this.currentUrlTree))),s(!0)):(this.resetUrlToCurrentUrlTree(),this.events.next(new No(i,this.serializeUrl(t),"")),s(!1))},n=>{if(n&&n[qo])this.resetUrlToCurrentUrlTree(),this.navigated=!0,this.events.next(new No(i,this.serializeUrl(t),n.message)),s(!1);else{this.events.next(new Oo(i,this.serializeUrl(t),n));try{s(this.errorHandler(n))}catch(t){a(t)}}this.routerState=y,this.currentUrlTree=x,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e),this.location.replaceState(this.serializeUrl(this.rawUrlTree))})})}resetUrlToCurrentUrlTree(){const t=this.urlSerializer.serialize(this.rawUrlTree);this.location.replaceState(t)}}class Ma{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),$s(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Vs(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),es(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Vs(t),i=t.value.component?n.children:e;es(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Vs(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Ho(t.value.snapshot))}),t.children.length&&this.forwardEvent(new zo(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if($s(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Ea(t.route)}else{const n=function(t){for(let e=r.snapshot.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(),i=n?n.module.componentFactoryResolver:null;e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Ea(t){$s(t.value),t.children.forEach(Ea)}class Aa{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof To&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:Sa(this.skipLocationChange),replaceUrl:Sa(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Sa(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Sa(this.preserveFragment)})}}function Sa(t){return""===t||!!t}class Ta{constructor(t,e,n,r){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(t=>{t instanceof To&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(t=>this.update()),this.linksWithHrefs.changes.subscribe(t=>this.update()),this.update()}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))}}class Na{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Oa,this.attachRef=null}}class Oa{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Na,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Pa{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.EventEmitter,this.deactivateEvents=new r.EventEmitter,this.name=i||Uo,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Ia(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class Ia{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===js?this.route:t===Oa?this.childContexts:this.parent.get(t,e)}}class Ra{}class Da{preload(t,e){return eo.call(e(),()=>c(null))}}class Va{preload(t,e){return c(null)}}class La{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new ba(e,n,e=>t.triggerEvent(new Lo(e)),e=>t.triggerEvent(new Fo(e)))}setUpPreloading(){const t=m.call(this.router.events,t=>t instanceof To);this.subscription=h.call(t,()=>this.preload()).subscribe(()=>{})}preload(){const t=this.injector.get(r.NgModuleRef);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return go.call(Qi(n))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>{const n=this.loader.load(t.injector,e);return Vi.call(n,t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))})}}const Fa=new r.InjectionToken("ROUTER_CONFIGURATION"),ja=new r.InjectionToken("ROUTER_FORROOT_GUARD"),za=[k,{provide:cs,useClass:ds},{provide:ka,useFactory:qa,deps:[r.ApplicationRef,cs,Oa,k,r.Injector,r.NgModuleFactoryLoader,r.Compiler,ya,Fa,[xa,new r.Optional],[ma,new r.Optional]]},Oa,{provide:js,useFactory:Ga,deps:[ka]},{provide:r.NgModuleFactoryLoader,useClass:r.SystemJsNgModuleLoader},La,Va,Da,{provide:Fa,useValue:{enableTracing:!1}}];function Wa(){return new r.NgProbeToken("Router",ka)}class Ha{constructor(t,e){}static forRoot(t,e){return{ngModule:Ha,providers:[za,$a(t),{provide:ja,useFactory:Ba,deps:[[ka,new r.Optional,new r.SkipSelf]]},{provide:Fa,useValue:e||{}},{provide:w,useFactory:Ua,deps:[x,[new r.Inject(C),new r.Optional],Fa]},{provide:Ra,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:Va},{provide:r.NgProbeToken,multi:!0,useFactory:Wa},[Za,{provide:r.APP_INITIALIZER,multi:!0,useFactory:Ya,deps:[Za]},{provide:Ka,useFactory:Xa,deps:[Za]},{provide:r.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:Ka}]]}}static forChild(t){return{ngModule:Ha,providers:[$a(t)]}}}function Ua(t,e,n={}){return n.useHash?new E(t,e):new A(t,e)}function Ba(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function $a(t){return[{provide:r.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:t},{provide:ya,multi:!0,useValue:t}]}function qa(t,e,n,r,i,o,s,a,l={},u,c){const d=new ka(null,e,n,r,i,o,s,Jo(a));if(u&&(d.urlHandlingStrategy=u),c&&(d.routeReuseStrategy=c),l.errorHandler&&(d.errorHandler=l.errorHandler),l.enableTracing){const t=ze();d.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return d}function Ga(t){return t.routerState.root}class Za{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Ii.a}appInitializer(){return this.injector.get(_,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ka),r=this.injector.get(Fa);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=(()=>this.initNavigation?c(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone)),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Fa),n=this.injector.get(La),i=this.injector.get(ka),o=this.injector.get(r.ApplicationRef);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function Ya(t){return t.appInitializer.bind(t)}function Xa(t){return t.bootstrapListener.bind(t)}const Ka=new r.InjectionToken("Router Initializer");new r.Version("5.0.5");class Qa{}var Ja=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function tl(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,74,"div",[["class","sidebar"],["id","sidebar"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275eld"](3,0,null,null,69,"div",[["data-height","100%"],["data-scrollbar","true"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275eld"](6,0,null,null,34,"ul",[["class","nav"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                "])),(t()(),r["\u0275eld"](8,0,null,null,31,"li",[["class","nav-profile"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                    "])),(t()(),r["\u0275eld"](10,0,null,null,28,"a",[["data-toggle","nav-profile"],["href","javascript:;"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                        "])),(t()(),r["\u0275eld"](12,0,null,null,0,"div",[["class","cover with-shadow"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                        "])),(t()(),r["\u0275eld"](14,0,null,null,1,"div",[["class","image"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                            \n                        "])),(t()(),r["\u0275ted"](-1,null,["\n                        "])),(t()(),r["\u0275eld"](17,0,null,null,20,"div",[["class","info"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                            Muthu R\n                            "])),(t()(),r["\u0275eld"](19,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Web Application developer"])),(t()(),r["\u0275ted"](-1,null,["\n                                "])),(t()(),r["\u0275eld"](22,0,null,null,14,"div",[["class","mt-2"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                                    "])),(t()(),r["\u0275eld"](24,0,null,null,11,"div",[["class","rating"],["style","color: #ffff4c;"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                                        "])),(t()(),r["\u0275eld"](26,0,null,null,0,"span",[["class","fa fa-star"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                                        "])),(t()(),r["\u0275eld"](28,0,null,null,0,"span",[["class","fa fa-star"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                                        "])),(t()(),r["\u0275eld"](30,0,null,null,0,"span",[["class","fa fa-star"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                                        "])),(t()(),r["\u0275eld"](32,0,null,null,0,"span",[["class","fa fa-star"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                                        "])),(t()(),r["\u0275eld"](34,0,null,null,0,"span",[["class","fa fa-star"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                                    "])),(t()(),r["\u0275ted"](-1,null,["\n                                "])),(t()(),r["\u0275ted"](-1,null,["\n                        "])),(t()(),r["\u0275ted"](-1,null,["\n                        \n                    "])),(t()(),r["\u0275ted"](-1,null,["\n                "])),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275eld"](44,0,null,null,26,"ul",[["class","nav"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n                "])),(t()(),r["\u0275eld"](46,0,null,null,1,"li",[["class","nav-header"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Navigation"])),(t()(),r["\u0275ted"](-1,null,["\n                "])),(t()(),r["\u0275eld"](49,0,null,null,9,"li",[["routerLinkActive","active"]],null,null,null,null,null)),r["\u0275did"](50,1720320,null,2,Ta,[ka,r.ElementRef,r.Renderer2,r.ChangeDetectorRef],{routerLinkActive:[0,"routerLinkActive"]},null),r["\u0275qud"](603979776,1,{links:1}),r["\u0275qud"](603979776,2,{linksWithHrefs:1}),(t()(),r["\u0275eld"](53,0,null,null,5,"a",[["routerLink","/dashboard"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r["\u0275nov"](t,54).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r["\u0275did"](54,671744,[[2,4]],0,Aa,[ka,js,w],{routerLink:[0,"routerLink"]},null),(t()(),r["\u0275eld"](55,0,null,null,0,"i",[["class","fa fa-th-large"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" "])),(t()(),r["\u0275eld"](57,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Dashboard"])),(t()(),r["\u0275ted"](-1,null,["\n                "])),(t()(),r["\u0275eld"](60,0,null,null,9,"li",[["routerLinkActive","active"]],null,null,null,null,null)),r["\u0275did"](61,1720320,null,2,Ta,[ka,r.ElementRef,r.Renderer2,r.ChangeDetectorRef],{routerLinkActive:[0,"routerLinkActive"]},null),r["\u0275qud"](603979776,3,{links:1}),r["\u0275qud"](603979776,4,{linksWithHrefs:1}),(t()(),r["\u0275eld"](64,0,null,null,5,"a",[["routerLink","/gallery"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r["\u0275nov"](t,65).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r["\u0275did"](65,671744,[[4,4]],0,Aa,[ka,js,w],{routerLink:[0,"routerLink"]},null),(t()(),r["\u0275eld"](66,0,null,null,0,"i",[["class","fa fa-image"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" "])),(t()(),r["\u0275eld"](68,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Gallery"])),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275ted"](-1,null,["\n            "])),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275ted"](-1,null,["\n    "])),(t()(),r["\u0275ted"](-1,null,["\n    "])),(t()(),r["\u0275eld"](76,0,null,null,0,"div",[["class","sidebar-bg"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n    "]))],function(t,e){t(e,50,0,"active"),t(e,54,0,"/dashboard"),t(e,61,0,"active"),t(e,65,0,"/gallery")},function(t,e){t(e,53,0,r["\u0275nov"](e,54).target,r["\u0275nov"](e,54).href),t(e,64,0,r["\u0275nov"](e,65).target,r["\u0275nov"](e,65).href)})}var el=r["\u0275crt"]({encapsulation:0,styles:[["h1[_ngcontent-%COMP%]{color:#369;font-family:Arial,Helvetica,sans-serif;font-size:250%}"]],data:{}});function nl(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,94,"div",[["class","page-sidebar-fixed page-header-fixed"],["id","page-container"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n  "])),(t()(),r["\u0275ted"](-1,null,["\n  "])),(t()(),r["\u0275eld"](3,0,null,null,78,"div",[["class","header navbar-default"],["id","header"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t"])),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t"])),(t()(),r["\u0275eld"](6,0,null,null,17,"div",[["class","navbar-header"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t"])),(t()(),r["\u0275eld"](8,0,null,null,5,"a",[["class","navbar-brand"],["href","index.html"]],null,null,null,null,null)),(t()(),r["\u0275eld"](9,0,null,null,0,"span",[["class","navbar-logo"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" "])),(t()(),r["\u0275eld"](11,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Muthu's"])),(t()(),r["\u0275ted"](-1,null,[" Portfolio"])),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t"])),(t()(),r["\u0275eld"](15,0,null,null,7,"button",[["class","navbar-toggle"],["data-click","sidebar-toggled"],["type","button"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(t()(),r["\u0275eld"](17,0,null,null,0,"span",[["class","icon-bar"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(t()(),r["\u0275eld"](19,0,null,null,0,"span",[["class","icon-bar"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(t()(),r["\u0275eld"](21,0,null,null,0,"span",[["class","icon-bar"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t"])),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t"])),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t"])),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\n\t\t\t"])),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t"])),(t()(),r["\u0275eld"](27,0,null,null,52,"ul",[["class","navbar-nav navbar-right"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t"])),(t()(),r["\u0275eld"](29,0,null,null,16,"li",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(t()(),r["\u0275eld"](31,0,null,null,13,"form",[["class","navbar-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==r["\u0275nov"](t,33).onSubmit(n)&&i),"reset"===e&&(i=!1!==r["\u0275nov"](t,33).onReset()&&i),i},null,null)),r["\u0275did"](32,16384,null,0,Ni,[],null,null),r["\u0275did"](33,4210688,null,0,bi,[[8,null],[8,null]],null,null),r["\u0275prd"](2048,null,Er,null,[bi]),r["\u0275did"](35,16384,null,0,si,[Er],null,null),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t\t\t"])),(t()(),r["\u0275eld"](37,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t\t\t\t"])),(t()(),r["\u0275eld"](39,0,null,null,0,"input",[["class","form-control"],["placeholder","Enter keyword"],["type","text"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t\t\t\t"])),(t()(),r["\u0275eld"](41,0,null,null,1,"button",[["class","btn btn-search"],["type","submit"]],null,null,null,null,null)),(t()(),r["\u0275eld"](42,0,null,null,0,"i",[["class","fa fa-search"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t\t\t"])),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t"])),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t"])),(t()(),r["\u0275eld"](47,0,null,null,9,"li",[["class","dropdown"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(t()(),r["\u0275eld"](49,0,null,null,6,"a",[["class","dropdown-toggle f-s-14"],["data-toggle","dropdown"],["href","javascript:;"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t\t\t"])),(t()(),r["\u0275eld"](51,0,null,null,0,"i",[["class","fa fa-bell"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t\t\t"])),(t()(),r["\u0275eld"](53,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["6"])),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t"])),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t"])),(t()(),r["\u0275eld"](58,0,null,null,20,"li",[["class","dropdown navbar-user"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(t()(),r["\u0275eld"](60,0,null,null,6,"a",[["class","dropdown-toggle"],["data-toggle","dropdown"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t\t\t"])),(t()(),r["\u0275eld"](62,0,null,null,1,"span",[["class","d-none d-md-inline"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Muthu R"])),(t()(),r["\u0275ted"](-1,null,[" "])),(t()(),r["\u0275eld"](65,0,null,null,0,"b",[["class","caret"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(t()(),r["\u0275eld"](68,0,null,null,9,"div",[["class","dropdown-menu"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t\t\t"])),(t()(),r["\u0275eld"](70,0,null,null,1,"a",[["class","dropdown-item"],["href","javascript:;"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Profile"])),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t\t\t"])),(t()(),r["\u0275eld"](73,0,null,null,0,"div",[["class","dropdown-divider"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t\t\t"])),(t()(),r["\u0275eld"](75,0,null,null,1,"a",[["class","dropdown-item"],["href","javascript:;"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Log Out"])),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t\t"])),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t\t"])),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t"])),(t()(),r["\u0275ted"](-1,null,["\n\t\t\t"])),(t()(),r["\u0275ted"](-1,null,["\n\t\t"])),(t()(),r["\u0275ted"](-1,null,["\n    "])),(t()(),r["\u0275ted"](-1,null,["\n    \n    "])),(t()(),r["\u0275ted"](-1,null,["\n    "])),(t()(),r["\u0275eld"](85,0,null,null,1,"nav-bar",[],null,null,null,tl,Ja)),r["\u0275did"](86,49152,null,0,Qa,[],null,null),(t()(),r["\u0275ted"](-1,null,["\n    "])),(t()(),r["\u0275ted"](-1,null,["\n\n    "])),(t()(),r["\u0275eld"](89,0,null,null,4,"div",[["class","content"],["id","content"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\n        "])),(t()(),r["\u0275eld"](91,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r["\u0275did"](92,212992,null,0,Pa,[Oa,r.ViewContainerRef,r.ComponentFactoryResolver,[8,null],r.ChangeDetectorRef],null,null),(t()(),r["\u0275ted"](-1,null,["\n    "])),(t()(),r["\u0275ted"](-1,null,["    \n"]))],function(t,e){t(e,92,0)},function(t,e){t(e,31,0,r["\u0275nov"](e,35).ngClassUntouched,r["\u0275nov"](e,35).ngClassTouched,r["\u0275nov"](e,35).ngClassPristine,r["\u0275nov"](e,35).ngClassDirty,r["\u0275nov"](e,35).ngClassValid,r["\u0275nov"](e,35).ngClassInvalid,r["\u0275nov"](e,35).ngClassPending)})}var rl=r["\u0275ccf"]("app-root",o,function(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-root",[],null,null,null,nl,el)),r["\u0275did"](1,49152,null,0,o,[],null,null)],null,null)},{},{},[]);class il{}var ol=n("NlKR"),sl=r["\u0275cmf"](i,[o],function(t){return r["\u0275mod"]([r["\u0275mpd"](512,r.ComponentFactoryResolver,r["\u0275CodegenComponentFactoryResolver"],[[8,[_e,Ee,rl]],[3,r.ComponentFactoryResolver],r.NgModuleRef]),r["\u0275mpd"](5120,r.LOCALE_ID,r["\u0275m"],[[3,r.LOCALE_ID]]),r["\u0275mpd"](4608,P,I,[r.LOCALE_ID,[2,O]]),r["\u0275mpd"](5120,r.APP_ID,r["\u0275f"],[]),r["\u0275mpd"](5120,r.IterableDiffers,r["\u0275k"],[]),r["\u0275mpd"](5120,r.KeyValueDiffers,r["\u0275l"],[]),r["\u0275mpd"](4608,fr,pr,[nt]),r["\u0275mpd"](6144,r.Sanitizer,null,[fr]),r["\u0275mpd"](4608,Vn,Ln,[]),r["\u0275mpd"](5120,un,function(t,e,n,i,o){return[new class extends dn{constructor(t,e){super(t),this.ngZone=e,this.patchEvent()}patchEvent(){if(!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Nn]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let i=n;if(!t[An]||r.NgZone.isInAngularZone()&&!In(e))t.addEventListener(e,i,!1);else{let n=Tn[e];n||(n=Tn[e]=En("ANGULAR"+e+"FALSE"));let r=t[n];const o=r&&r.length>0;r||(r=t[n]=[]);const s=In(e)?Zone.root:Zone.current;if(0===r.length)r.push({zone:s,handler:i});else{let t=!1;for(let e=0;e<r.length;e++)if(r[e].handler===i){t=!0;break}t||r.push({zone:s,handler:i})}o||t[An](e,Rn,!1)}return()=>this.removeEventListener(t,e,i)}removeEventListener(t,e,n){let r=t[Sn];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);let i=Tn[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);let s=!1;for(let a=0;a<o.length;a++)if(o[a].handler===n){s=!0,o.splice(a,1);break}s?0===o.length&&r.apply(t,[e,Rn,!1]):t.removeEventListener.apply(t,[e,n,!1])}}(t,e),new zn(n),new class extends dn{constructor(t,e){super(t),this._config=e}supports(t){if(!Dn.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t))return!1;if(!window.Hammer)throw new Error(`Hammer.js is not loaded, can not bind ${t} event`);return!0}addEventListener(t,e,n){const r=this.manager.getZone();return e=e.toLowerCase(),r.runOutsideAngular(()=>{const i=this._config.buildHammer(t),o=function(t){r.runGuarded(function(){n(t)})};return i.on(e,o),()=>i.off(e,o)})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}(i,o)]},[nt,r.NgZone,nt,nt,Vn]),r["\u0275mpd"](4608,cn,cn,[un,r.NgZone]),r["\u0275mpd"](135680,fn,fn,[nt]),r["\u0275mpd"](4608,xn,xn,[cn,fn]),r["\u0275mpd"](6144,r.RendererFactory2,null,[xn]),r["\u0275mpd"](6144,hn,null,[fn]),r["\u0275mpd"](4608,r.Testability,r.Testability,[r.NgZone]),r["\u0275mpd"](4608,tn,tn,[nt]),r["\u0275mpd"](4608,on,on,[nt]),r["\u0275mpd"](4608,zr,zr,[]),r["\u0275mpd"](4608,Nt,Ot,[nt,r.PLATFORM_ID,St]),r["\u0275mpd"](4608,Pt,Pt,[Nt,Tt]),r["\u0275mpd"](5120,wt,function(t){return[t]},[Pt]),r["\u0275mpd"](4608,Et,Et,[]),r["\u0275mpd"](6144,Mt,null,[Et]),r["\u0275mpd"](4608,At,At,[Mt]),r["\u0275mpd"](6144,ot,null,[At]),r["\u0275mpd"](5120,it,It,[ot,[2,wt]]),r["\u0275mpd"](4608,xt,xt,[it]),r["\u0275mpd"](5120,js,Ga,[ka]),r["\u0275mpd"](4608,Va,Va,[]),r["\u0275mpd"](6144,Ra,null,[Va]),r["\u0275mpd"](135680,La,La,[ka,r.NgModuleFactoryLoader,r.Compiler,r.Injector,Ra]),r["\u0275mpd"](4608,Da,Da,[]),r["\u0275mpd"](5120,Ka,Xa,[Za]),r["\u0275mpd"](5120,r.APP_BOOTSTRAP_LISTENER,function(t){return[t]},[Ka]),r["\u0275mpd"](4608,ne,ne,[]),r["\u0275mpd"](4608,re,re,[]),r["\u0275mpd"](4608,Wt,ae,[se,ne,re]),r["\u0275mpd"](4608,Lt,Lt,[xt]),r["\u0275mpd"](512,et,et,[]),r["\u0275mpd"](1024,r.ErrorHandler,Cr,[]),r["\u0275mpd"](1024,r.NgProbeToken,function(){return[Wa()]},[]),r["\u0275mpd"](512,Za,Za,[r.Injector]),r["\u0275mpd"](1024,r.APP_INITIALIZER,function(t,e){return[function(t){return sn("probe",ln),sn("coreTokens",Object.assign({},an,(t||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>ln}(t),Ya(e)]},[[2,r.NgProbeToken],Za]),r["\u0275mpd"](512,r.ApplicationInitStatus,r.ApplicationInitStatus,[[2,r.APP_INITIALIZER]]),r["\u0275mpd"](131584,r.ApplicationRef,r.ApplicationRef,[r.NgZone,r["\u0275Console"],r.Injector,r.ErrorHandler,r.ComponentFactoryResolver,r.ApplicationInitStatus]),r["\u0275mpd"](512,r.ApplicationModule,r.ApplicationModule,[r.ApplicationRef]),r["\u0275mpd"](512,kr,kr,[[3,kr]]),r["\u0275mpd"](512,Oi,Oi,[]),r["\u0275mpd"](512,Pi,Pi,[]),r["\u0275mpd"](512,Rt,Rt,[]),r["\u0275mpd"](512,Dt,Dt,[]),r["\u0275mpd"](1024,ja,Ba,[[3,ka]]),r["\u0275mpd"](512,cs,ds,[]),r["\u0275mpd"](512,Oa,Oa,[]),r["\u0275mpd"](256,Fa,{},[]),r["\u0275mpd"](1024,w,Ua,[x,[2,C],Fa]),r["\u0275mpd"](512,k,k,[w]),r["\u0275mpd"](512,r.Compiler,r.Compiler,[]),r["\u0275mpd"](512,r.NgModuleFactoryLoader,r.SystemJsNgModuleLoader,[r.Compiler,[2,r.SystemJsNgModuleLoaderConfig]]),r["\u0275mpd"](1024,ya,function(){return[[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"dashboard",component:ye},{path:"gallery",component:we}]]},[]),r["\u0275mpd"](1024,ka,qa,[r.ApplicationRef,cs,Oa,k,r.Injector,r.NgModuleFactoryLoader,r.Compiler,ya,Fa,[2,xa],[2,ma]]),r["\u0275mpd"](512,Ha,Ha,[[2,ja],[2,ka]]),r["\u0275mpd"](512,il,il,[]),r["\u0275mpd"](512,ol.NvD3Module,ol.NvD3Module,[]),r["\u0275mpd"](512,le,le,[]),r["\u0275mpd"](512,i,i,[]),r["\u0275mpd"](256,St,"XSRF-TOKEN",[]),r["\u0275mpd"](256,Tt,"X-XSRF-TOKEN",[]),r["\u0275mpd"](256,se,{apiKey:"AIzaSyAT2eJRIhjqFitkoPxhfTNkaQcvjYyGxQY",libraries:["places"]},[])])});Object(r.enableProdMode)(),wr().bootstrapModuleFactory(sl)},y3s0:function(t,e,n){"use strict";var r=n("ves3"),i=n("R3ym"),o=n("XVqe"),s=n("f2Ls");class a extends r.a{constructor(t,e){super(),this.array=t,this.scheduler=e,e||1!==t.length||(this._isScalar=!0,this.value=t[0])}static create(t,e){return new a(t,e)}static of(...t){let e=t[t.length-1];Object(s.a)(e)?t.pop():e=null;const n=t.length;return n>1?new a(t,e):1===n?new i.a(t[0],e):new o.a(e)}static dispatch(t){const{array:e,index:n,count:r,subscriber:i}=t;n>=r?i.complete():(i.next(e[n]),i.closed||(t.index=n+1,this.schedule(t)))}_subscribe(t){const e=this.array,n=e.length,r=this.scheduler;if(r)return r.schedule(a.dispatch,0,{array:e,index:0,count:n,subscriber:t});for(let i=0;i<n&&!t.closed;i++)t.next(e[i]);t.complete()}}e.a=a},zOxy:function(t,e,n){"use strict";const r=function(t){let e,r=n("bbL7").a.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}();e.a=r}},[0]);